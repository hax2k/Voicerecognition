"use strict";var C3=Object.defineProperty,D3=Object.defineProperties,S3=Object.getOwnPropertyDescriptors,uk=Object.getOwnPropertySymbols,A3=Object.prototype.hasOwnProperty,T3=Object.prototype.propertyIsEnumerable,ck=(Be,ae,x)=>ae in Be?C3(Be,ae,{enumerable:!0,configurable:!0,writable:!0,value:x}):Be[ae]=x,Ne=(Be,ae)=>{for(var x in ae||(ae={}))A3.call(ae,x)&&ck(Be,x,ae[x]);if(uk)for(var x of uk(ae))T3.call(ae,x)&&ck(Be,x,ae[x]);return Be},Fn=(Be,ae)=>D3(Be,S3(ae));(self.webpackChunkrecognition=self.webpackChunkrecognition||[]).push([[179],{7506:(Be,ae,x)=>{x.d(ae,{hO:()=>Y,xv:()=>Oe,Dh:()=>Fe,HU:()=>Me,GT:()=>He,sI:()=>B,on:()=>Qe,ss:()=>xe,pX:()=>De,yq:()=>at});var f=x(2869),oe=x(8843);const le=new class extends oe.v{}(class extends f.o{constructor(ce,ve){super(ce,ve),this.scheduler=ce,this.work=ve}schedule(ce,ve=0){return ve>0?super.schedule(ce,ve):(this.delay=ve,this.state=ce,this.scheduler.flush(this),this)}execute(ce,ve){return ve>0||this.closed?super.execute(ce,ve):this._execute(ce,ve)}requestAsyncId(ce,ve,Ye=0){return null!=Ye&&Ye>0||null==Ye&&this.delay>0?super.requestAsyncId(ce,ve,Ye):ce.flush(this)}});var K=x(2210),se=x(7384),J=x(5222),H=x(4763),z=x(3668),G=x(7713);function re(){}Be=x.hmd(Be);class Z{constructor(ce,ve=le){this.zone=ce,this.delegate=ve}now(){return this.delegate.now()}schedule(ce,ve,Ye){const we=this.zone;return this.delegate.schedule(function(Se){we.runGuarded(()=>{ce.apply(this,[Se])})},ve,Ye)}}class _e{constructor(ce){this.zone=ce,this.task=null}call(ce,ve){const Ye=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",re,{},re,re)),ve.pipe((0,se.b)({next:Ye,complete:Ye,error:Ye})).subscribe(ce).add(Ye)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class Me{constructor(ce){this.ngZone=ce,this.outsideAngular=ce.runOutsideAngular(()=>new Z(Zone.current)),this.insideAngular=ce.run(()=>new Z(Zone.current,K.z))}}function xe(F){return function(ve){return(ve=ve.lift(new _e(F.ngZone))).pipe((0,J.R)(F.outsideAngular),(0,H.Q)(F.insideAngular))}}const de=["ngOnDestroy"],De=(F,ce,ve,Ye={})=>new Proxy(F,{get:(we,qe)=>ve.runOutsideAngular(()=>{var Se;if(F[qe])return(null===(Se=null==Ye?void 0:Ye.spy)||void 0===Se?void 0:Se.get)&&Ye.spy.get(qe,F[qe]),F[qe];if(de.indexOf(qe)>-1)return()=>{};const pe=ce.toPromise().then(Je=>{const lt=Je&&Je[qe];return"function"==typeof lt?lt.bind(Je):lt&&lt.then?lt.then(mt=>ve.run(()=>mt)):ve.run(()=>lt)});return new Proxy(()=>{},{get:(Je,lt)=>pe[lt],apply:(Je,lt,mt)=>pe.then(sr=>{var Wt;const Zr=sr&&sr(...mt);return(null===(Wt=null==Ye?void 0:Ye.spy)||void 0===Wt?void 0:Wt.apply)&&Ye.spy.apply(qe,mt,Zr),Zr})})})}),He=(F,ce)=>{ce.forEach(ve=>{Object.getOwnPropertyNames(ve.prototype||ve).forEach(Ye=>{Object.defineProperty(F.prototype,Ye,Object.getOwnPropertyDescriptor(ve.prototype||ve,Ye))})})},Fe=new z.OlP("angularfire2.app.options"),Oe=new z.OlP("angularfire2.app.nameOrConfig"),je=new z.GfV("6.1.5");function Qe(F,ce,ve){const we="object"==typeof ve&&ve||{};we.name=we.name||"string"==typeof ve&&ve||"[DEFAULT]";const Se=G.Z.apps.filter(pe=>pe&&pe.name===we.name)[0]||ce.runOutsideAngular(()=>G.Z.initializeApp(F,we));try{JSON.stringify(F)!==JSON.stringify(Se.options)&&R("error",`${Se.name} Firebase App already initialized with different options${Be.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(pe){}return Se}const at=()=>{R("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},R=(F,...ce)=>{(0,z.X6Q)()&&"undefined"!=typeof console&&console[F](...ce)};function B(F,ce,ve,Ye,we){const[qe,...Se]=globalThis.\u0275AngularfireInstanceCache.get(F)||[];if(qe){try{we.some((pe,Je)=>{const lt=Se[Je];return pe&&"object"==typeof pe?JSON.stringify(pe)!==JSON.stringify(lt):pe!==lt})&&R("error",`${ce} was already initialized on the ${ve.name} Firebase App instance with different settings.${Be.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(pe){}return qe}{const pe=Ye();return globalThis.\u0275AngularfireInstanceCache.set(F,[pe,...we]),pe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const j={provide:class{},useFactory:Qe,deps:[Fe,z.R0b,[new z.FiY,Oe]]};let Y=(()=>{class F{constructor(ve){G.Z.registerVersion("angularfire",je.full,ve.toString()),G.Z.registerVersion("angular",z.q4F.full)}static initializeApp(ve,Ye){return{ngModule:F,providers:[{provide:Fe,useValue:ve},{provide:Oe,useValue:Ye}]}}}return F.\u0275fac=function(ve){return new(ve||F)(z.LFG(z.Lbi))},F.\u0275mod=z.oAB({type:F}),F.\u0275inj=z.cJS({providers:[j]}),F})()},417:(Be,ae,x)=>{x.d(ae,{Z:()=>qe});var le,Oe,f=x(4762),Q=x(3923),oe=x(8391),te=x(6433),he=((le={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",le["bad-app-name"]="Illegal App name: '{$appName}",le["duplicate-app"]="Firebase App named '{$appName}' already exists",le["app-deleted"]="Firebase App named '{$appName}' already deleted",le["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",le["invalid-log-argument"]="First argument to `onLog` must be null or a function.",le),K=new Q.LL("app","Firebase",he),se="@firebase/app",be="[DEFAULT]",je=((Oe={})[se]="fire-core",Oe["@firebase/analytics"]="fire-analytics",Oe["@firebase/app-check"]="fire-app-check",Oe["@firebase/auth"]="fire-auth",Oe["@firebase/database"]="fire-rtdb",Oe["@firebase/functions"]="fire-fn",Oe["@firebase/installations"]="fire-iid",Oe["@firebase/messaging"]="fire-fcm",Oe["@firebase/performance"]="fire-perf",Oe["@firebase/remote-config"]="fire-rc",Oe["@firebase/storage"]="fire-gcs",Oe["@firebase/firestore"]="fire-fst",Oe["fire-js"]="fire-js",Oe["firebase-wrapper"]="fire-js-all",Oe),Qe=new te.Yd("@firebase/app"),at=function(){function Se(pe,Je,lt){var mt=this;this.firebase_=lt,this.isDeleted_=!1,this.name_=Je.name,this.automaticDataCollectionEnabled_=Je.automaticDataCollectionEnabled||!1,this.options_=(0,Q.p$)(pe),this.container=new oe.H0(Je.name),this._addComponent(new oe.wA("app",function(){return mt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(sr){return mt._addComponent(sr)})}return Object.defineProperty(Se.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(pe){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=pe},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Se.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Se.prototype.delete=function(){var pe=this;return new Promise(function(Je){pe.checkDestroyed_(),Je()}).then(function(){return pe.firebase_.INTERNAL.removeApp(pe.name_),Promise.all(pe.container.getProviders().map(function(Je){return Je.delete()}))}).then(function(){pe.isDeleted_=!0})},Se.prototype._getService=function(pe,Je){var lt;void 0===Je&&(Je=be),this.checkDestroyed_();var mt=this.container.getProvider(pe);return!mt.isInitialized()&&"EXPLICIT"===(null===(lt=mt.getComponent())||void 0===lt?void 0:lt.instantiationMode)&&mt.initialize(),mt.getImmediate({identifier:Je})},Se.prototype._removeServiceInstance=function(pe,Je){void 0===Je&&(Je=be),this.container.getProvider(pe).clearInstance(Je)},Se.prototype._addComponent=function(pe){try{this.container.addComponent(pe)}catch(Je){Qe.debug("Component "+pe.name+" failed to register with FirebaseApp "+this.name,Je)}},Se.prototype._addOrOverwriteComponent=function(pe){this.container.addOrOverwriteComponent(pe)},Se.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Se.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw K.create("app-deleted",{appName:this.name_})},Se}();at.prototype.name&&at.prototype.options||at.prototype.delete||console.log("dc");var j=function B(){var Se=function(Se){var pe={},Je=new Map,lt={__esModule:!0,initializeApp:function(bt,wt){void 0===wt&&(wt={}),("object"!=typeof wt||null===wt)&&(wt={name:wt});var Pn=wt;void 0===Pn.name&&(Pn.name=be);var ze=Pn.name;if("string"!=typeof ze||!ze)throw K.create("bad-app-name",{appName:String(ze)});if((0,Q.r3)(pe,ze))throw K.create("duplicate-app",{appName:ze});var Gt=new Se(bt,Pn,lt);return pe[ze]=Gt,Gt},app:sr,registerVersion:function(bt,wt,wr){var Pn,ze=null!==(Pn=je[bt])&&void 0!==Pn?Pn:bt;wr&&(ze+="-"+wr);var Gt=ze.match(/\s|\//),Sn=wt.match(/\s|\//);if(Gt||Sn){var Yt=['Unable to register library "'+ze+'" with version "'+wt+'":'];return Gt&&Yt.push('library name "'+ze+'" contains illegal characters (whitespace or "/")'),Gt&&Sn&&Yt.push("and"),Sn&&Yt.push('version name "'+wt+'" contains illegal characters (whitespace or "/")'),void Qe.warn(Yt.join(" "))}Ga(new oe.wA(ze+"-version",function(){return{library:ze,version:wt}},"VERSION"))},setLogLevel:te.Ub,onLog:function(bt,wt){if(null!==bt&&"function"!=typeof bt)throw K.create("invalid-log-argument");(0,te.Am)(bt,wt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Ga,removeApp:function(bt){delete pe[bt]},components:Je,useAsService:function(bt,wt){return"serverAuth"===wt?null:wt}}};function sr(bt){if(!(0,Q.r3)(pe,bt=bt||be))throw K.create("no-app",{appName:bt});return pe[bt]}function Ga(bt){var wt=bt.name;if(Je.has(wt))return Qe.debug("There were multiple attempts to register component "+wt+"."),"PUBLIC"===bt.type?lt[wt]:null;if(Je.set(wt,bt),"PUBLIC"===bt.type){var wr=function(Sn){if(void 0===Sn&&(Sn=sr()),"function"!=typeof Sn[wt])throw K.create("invalid-app-argument",{appName:wt});return Sn[wt]()};void 0!==bt.serviceProps&&(0,Q.ZB)(wr,bt.serviceProps),lt[wt]=wr,Se.prototype[wt]=function(){for(var Sn=[],Yt=0;Yt<arguments.length;Yt++)Sn[Yt]=arguments[Yt];return this._getService.bind(this,wt).apply(this,bt.multipleInstances?Sn:[])}}for(var Pn=0,ze=Object.keys(pe);Pn<ze.length;Pn++)pe[ze[Pn]]._addComponent(bt);return"PUBLIC"===bt.type?lt[wt]:null}return lt.default=lt,Object.defineProperty(lt,"apps",{get:function(){return Object.keys(pe).map(function(bt){return pe[bt]})}}),sr.App=Se,lt}(at);return Se.INTERNAL=(0,f.pi)((0,f.pi)({},Se.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function(Je){(0,Q.ZB)(Se,Je)},createSubscribe:Q.ne,ErrorFactory:Q.LL,deepExtend:Q.ZB}),Se}(),Y=function(){function Se(pe){this.container=pe}return Se.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(Je){if(function(Se){var pe=Se.getComponent();return"VERSION"===(null==pe?void 0:pe.type)}(Je)){var lt=Je.getImmediate();return lt.library+"/"+lt.version}return null}).filter(function(Je){return Je}).join(" ")},Se}();if((0,Q.jU)()&&void 0!==self.firebase){Qe.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var ve=self.firebase.SDK_VERSION;ve&&ve.indexOf("LITE")>=0&&Qe.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Ye=j.initializeApp;j.initializeApp=function(){for(var Se=[],pe=0;pe<arguments.length;pe++)Se[pe]=arguments[pe];return(0,Q.UG)()&&Qe.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Ye.apply(void 0,Se)};var Se,we=j;(Se=we).INTERNAL.registerComponent(new oe.wA("platform-logger",function(Je){return new Y(Je)},"PRIVATE")),Se.registerVersion(se,"0.6.30",undefined),Se.registerVersion("fire-js","");const qe=we},8391:(Be,ae,x)=>{x.d(ae,{wA:()=>oe,H0:()=>se});var f=x(4762),Q=x(3923),oe=function(){function J(H,z,G){this.name=H,this.instanceFactory=z,this.type=G,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return J.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},J.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},J.prototype.setServiceProps=function(H){return this.serviceProps=H,this},J.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},J}(),te="[DEFAULT]",le=function(){function J(H,z){this.name=H,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return J.prototype.get=function(H){var z=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(z)){var G=new Q.BH;if(this.instancesDeferred.set(z,G),this.isInitialized(z)||this.shouldAutoInitialize())try{var re=this.getOrInitializeService({instanceIdentifier:z});re&&G.resolve(re)}catch(Z){}}return this.instancesDeferred.get(z).promise},J.prototype.getImmediate=function(H){var z,G=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),re=null!==(z=null==H?void 0:H.optional)&&void 0!==z&&z;if(!this.isInitialized(G)&&!this.shouldAutoInitialize()){if(re)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:G})}catch(Z){if(re)return null;throw Z}},J.prototype.getComponent=function(){return this.component},J.prototype.setComponent=function(H){var z,G;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(J){return"EAGER"===J.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:te})}catch(He){}try{for(var re=(0,f.XA)(this.instancesDeferred.entries()),Z=re.next();!Z.done;Z=re.next()){var _e=(0,f.CR)(Z.value,2),xe=_e[1],de=this.normalizeInstanceIdentifier(_e[0]);try{var De=this.getOrInitializeService({instanceIdentifier:de});xe.resolve(De)}catch(He){}}}catch(He){z={error:He}}finally{try{Z&&!Z.done&&(G=re.return)&&G.call(re)}finally{if(z)throw z.error}}}},J.prototype.clearInstance=function(H){void 0===H&&(H=te),this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)},J.prototype.delete=function(){return(0,f.mG)(this,void 0,void 0,function(){var H;return(0,f.Jh)(this,function(z){switch(z.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,f.ev)((0,f.ev)([],(0,f.CR)(H.filter(function(G){return"INTERNAL"in G}).map(function(G){return G.INTERNAL.delete()}))),(0,f.CR)(H.filter(function(G){return"_delete"in G}).map(function(G){return G._delete()}))))];case 1:return z.sent(),[2]}})})},J.prototype.isComponentSet=function(){return null!=this.component},J.prototype.isInitialized=function(H){return void 0===H&&(H=te),this.instances.has(H)},J.prototype.getOptions=function(H){return void 0===H&&(H=te),this.instancesOptions.get(H)||{}},J.prototype.initialize=function(H){var z,G;void 0===H&&(H={});var re=H.options,Z=void 0===re?{}:re,_e=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(_e))throw Error(this.name+"("+_e+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var Me=this.getOrInitializeService({instanceIdentifier:_e,options:Z});try{for(var xe=(0,f.XA)(this.instancesDeferred.entries()),de=xe.next();!de.done;de=xe.next()){var De=(0,f.CR)(de.value,2),Fe=De[1];_e===this.normalizeInstanceIdentifier(De[0])&&Fe.resolve(Me)}}catch(be){z={error:be}}finally{try{de&&!de.done&&(G=xe.return)&&G.call(xe)}finally{if(z)throw z.error}}return Me},J.prototype.onInit=function(H,z){var G,re=this.normalizeInstanceIdentifier(z),Z=null!==(G=this.onInitCallbacks.get(re))&&void 0!==G?G:new Set;Z.add(H),this.onInitCallbacks.set(re,Z);var _e=this.instances.get(re);return _e&&H(_e,re),function(){Z.delete(H)}},J.prototype.invokeOnInitCallbacks=function(H,z){var G,re,Z=this.onInitCallbacks.get(z);if(Z)try{for(var _e=(0,f.XA)(Z),Me=_e.next();!Me.done;Me=_e.next()){var xe=Me.value;try{xe(H,z)}catch(de){}}}catch(de){G={error:de}}finally{try{Me&&!Me.done&&(re=_e.return)&&re.call(_e)}finally{if(G)throw G.error}}},J.prototype.getOrInitializeService=function(H){var z=H.instanceIdentifier,G=H.options,re=void 0===G?{}:G,Z=this.instances.get(z);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:he(z),options:re}),this.instances.set(z,Z),this.instancesOptions.set(z,re),this.invokeOnInitCallbacks(Z,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,Z)}catch(_e){}return Z||null},J.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=te),this.component?this.component.multipleInstances?H:te:H},J.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},J}();function he(J){return J===te?void 0:J}var se=function(){function J(H){this.name=H,this.providers=new Map}return J.prototype.addComponent=function(H){var z=this.getProvider(H.name);if(z.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);z.setComponent(H)},J.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},J.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var z=new le(H,this);return this.providers.set(H,z),z},J.prototype.getProviders=function(){return Array.from(this.providers.values())},J}()},6433:(Be,ae,x)=>{function f(){for(var G=0,re=0,Z=arguments.length;re<Z;re++)G+=arguments[re].length;var _e=Array(G),Me=0;for(re=0;re<Z;re++)for(var xe=arguments[re],de=0,De=xe.length;de<De;de++,Me++)_e[Me]=xe[de];return _e}x.d(ae,{in:()=>te,Yd:()=>J,Ub:()=>H,Am:()=>z});var Q,oe=[],te=(()=>{return(G=te||(te={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT",te;var G})(),le={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},he=te.INFO,K=((Q={})[te.DEBUG]="log",Q[te.VERBOSE]="log",Q[te.INFO]="info",Q[te.WARN]="warn",Q[te.ERROR]="error",Q),se=function(G,re){for(var Z=[],_e=2;_e<arguments.length;_e++)Z[_e-2]=arguments[_e];if(!(re<G.logLevel)){var Me=(new Date).toISOString(),xe=K[re];if(!xe)throw new Error("Attempted to log a message with an invalid logType (value: "+re+")");console[xe].apply(console,f(["["+Me+"]  "+G.name+":"],Z))}},J=function(){function G(re){this.name=re,this._logLevel=he,this._logHandler=se,this._userLogHandler=null,oe.push(this)}return Object.defineProperty(G.prototype,"logLevel",{get:function(){return this._logLevel},set:function(re){if(!(re in te))throw new TypeError('Invalid value "'+re+'" assigned to `logLevel`');this._logLevel=re},enumerable:!1,configurable:!0}),G.prototype.setLogLevel=function(re){this._logLevel="string"==typeof re?le[re]:re},Object.defineProperty(G.prototype,"logHandler",{get:function(){return this._logHandler},set:function(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(re){this._userLogHandler=re},enumerable:!1,configurable:!0}),G.prototype.debug=function(){for(var re=[],Z=0;Z<arguments.length;Z++)re[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,te.DEBUG],re)),this._logHandler.apply(this,f([this,te.DEBUG],re))},G.prototype.log=function(){for(var re=[],Z=0;Z<arguments.length;Z++)re[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,te.VERBOSE],re)),this._logHandler.apply(this,f([this,te.VERBOSE],re))},G.prototype.info=function(){for(var re=[],Z=0;Z<arguments.length;Z++)re[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,te.INFO],re)),this._logHandler.apply(this,f([this,te.INFO],re))},G.prototype.warn=function(){for(var re=[],Z=0;Z<arguments.length;Z++)re[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,te.WARN],re)),this._logHandler.apply(this,f([this,te.WARN],re))},G.prototype.error=function(){for(var re=[],Z=0;Z<arguments.length;Z++)re[Z]=arguments[Z];this._userLogHandler&&this._userLogHandler.apply(this,f([this,te.ERROR],re)),this._logHandler.apply(this,f([this,te.ERROR],re))},G}();function H(G){oe.forEach(function(re){re.setLogLevel(G)})}function z(G,re){for(var Z=function(de){var De=null;re&&re.level&&(De=le[re.level]),de.userLogHandler=null===G?null:function(He,Fe){for(var Oe=[],be=2;be<arguments.length;be++)Oe[be-2]=arguments[be];var je=Oe.map(function(Qe){if(null==Qe)return null;if("string"==typeof Qe)return Qe;if("number"==typeof Qe||"boolean"==typeof Qe)return Qe.toString();if(Qe instanceof Error)return Qe.message;try{return JSON.stringify(Qe)}catch(at){return null}}).filter(function(Qe){return Qe}).join(" ");Fe>=(null!=De?De:He.logLevel)&&G({level:te[Fe].toLowerCase(),message:je,args:Oe,type:He.name})}},_e=0,Me=oe;_e<Me.length;_e++)Z(Me[_e])}},3923:(Be,ae,x)=>{x.d(ae,{BH:()=>Z,LL:()=>ce,r3:()=>sr,Sg:()=>_e,ne:()=>Pn,p$:()=>z,ZB:()=>G,m9:()=>kt,z$:()=>Me,jU:()=>De,ru:()=>He,d:()=>Oe,w1:()=>be,uI:()=>xe,UG:()=>de,b$:()=>Fe,G6:()=>at,Mn:()=>je});var f=x(4762),le=function(k){for(var P=[],q=0,X=0;X<k.length;X++){var $=k.charCodeAt(X);$<128?P[q++]=$:$<2048?(P[q++]=$>>6|192,P[q++]=63&$|128):55296==(64512&$)&&X+1<k.length&&56320==(64512&k.charCodeAt(X+1))?($=65536+((1023&$)<<10)+(1023&k.charCodeAt(++X)),P[q++]=$>>18|240,P[q++]=$>>12&63|128,P[q++]=$>>6&63|128,P[q++]=63&$|128):(P[q++]=$>>12|224,P[q++]=$>>6&63|128,P[q++]=63&$|128)}return P},K={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(k,P){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var q=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,X=[],$=0;$<k.length;$+=3){var Ae=k[$],et=$+1<k.length,St=et?k[$+1]:0,Mt=$+2<k.length,It=Mt?k[$+2]:0,lr=(15&St)<<2|It>>6,Qi=63&It;Mt||(Qi=64,et||(lr=64)),X.push(q[Ae>>2],q[(3&Ae)<<4|St>>4],q[lr],q[Qi])}return X.join("")},encodeString:function(k,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(k):this.encodeByteArray(le(k),P)},decodeString:function(k,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(k):function(k){for(var P=[],q=0,X=0;q<k.length;){var $=k[q++];if($<128)P[X++]=String.fromCharCode($);else if($>191&&$<224){var Ae=k[q++];P[X++]=String.fromCharCode((31&$)<<6|63&Ae)}else if($>239&&$<365){var Mt=((7&$)<<18|(63&(Ae=k[q++]))<<12|(63&(et=k[q++]))<<6|63&k[q++])-65536;P[X++]=String.fromCharCode(55296+(Mt>>10)),P[X++]=String.fromCharCode(56320+(1023&Mt))}else{Ae=k[q++];var et=k[q++];P[X++]=String.fromCharCode((15&$)<<12|(63&Ae)<<6|63&et)}}return P.join("")}(this.decodeStringToByteArray(k,P))},decodeStringToByteArray:function(k,P){this.init_();for(var q=P?this.charToByteMapWebSafe_:this.charToByteMap_,X=[],$=0;$<k.length;){var Ae=q[k.charAt($++)],St=$<k.length?q[k.charAt($)]:0,It=++$<k.length?q[k.charAt($)]:64,ar=++$<k.length?q[k.charAt($)]:64;if(++$,null==Ae||null==St||null==It||null==ar)throw Error();X.push(Ae<<2|St>>4),64!==It&&(X.push(St<<4&240|It>>2),64!==ar&&X.push(It<<6&192|ar))}return X},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}},J=function(k){return function(k){var P=le(k);return K.encodeByteArray(P,!0)}(k).replace(/\./g,"")};function z(k){return G(void 0,k)}function G(k,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return P}for(var X in P)!P.hasOwnProperty(X)||!re(X)||(k[X]=G(k[X],P[X]));return k}function re(k){return"__proto__"!==k}var Z=function(){function k(){var P=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(q,X){P.resolve=q,P.reject=X})}return k.prototype.wrapCallback=function(P){var q=this;return function(X,$){X?q.reject(X):q.resolve($),"function"==typeof P&&(q.promise.catch(function(){}),1===P.length?P(X):P(X,$))}},k}();function _e(k,P){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var X=P||"demo-project",$=k.iat||0,Ae=k.sub||k.user_id;if(!Ae)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var et=(0,f.pi)({iss:"https://securetoken.google.com/"+X,aud:X,iat:$,exp:$+3600,auth_time:$,sub:Ae,user_id:Ae,firebase:{sign_in_provider:"custom",identities:{}}},k);return[J(JSON.stringify({alg:"none",type:"JWT"})),J(JSON.stringify(et)),""].join(".")}function Me(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function xe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(k){return!1}}function De(){return"object"==typeof self&&self.self===self}function He(){var k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function Fe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return Me().indexOf("Electron/")>=0}function be(){var k=Me();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function je(){return Me().indexOf("MSAppHost/")>=0}function at(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var F=function(k){function P(q,X,$){var Ae=k.call(this,X)||this;return Ae.code=q,Ae.customData=$,Ae.name="FirebaseError",Object.setPrototypeOf(Ae,P.prototype),Error.captureStackTrace&&Error.captureStackTrace(Ae,ce.prototype.create),Ae}return(0,f.ZT)(P,k),P}(Error),ce=function(){function k(P,q,X){this.service=P,this.serviceName=q,this.errors=X}return k.prototype.create=function(P){for(var q=[],X=1;X<arguments.length;X++)q[X-1]=arguments[X];var $=q[0]||{},Ae=this.service+"/"+P,et=this.errors[P],St=et?ve(et,$):"Error",Mt=this.serviceName+": "+St+" ("+Ae+").",It=new F(Ae,Mt,$);return It},k}();function ve(k,P){return k.replace(Ye,function(q,X){var $=P[X];return null!=$?String($):"<"+X+"?>"})}var Ye=/\{\$([^}]+)}/g;function sr(k,P){return Object.prototype.hasOwnProperty.call(k,P)}function Pn(k,P){var q=new ze(k,P);return q.subscribe.bind(q)}!function(){function k(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var P=1;P<this.blockSize;++P)this.pad_[P]=0;this.reset()}k.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},k.prototype.compress_=function(P,q){q||(q=0);var X=this.W_;if("string"==typeof P)for(var $=0;$<16;$++)X[$]=P.charCodeAt(q)<<24|P.charCodeAt(q+1)<<16|P.charCodeAt(q+2)<<8|P.charCodeAt(q+3),q+=4;else for($=0;$<16;$++)X[$]=P[q]<<24|P[q+1]<<16|P[q+2]<<8|P[q+3],q+=4;for($=16;$<80;$++)X[$]=4294967295&((Ae=X[$-3]^X[$-8]^X[$-14]^X[$-16])<<1|Ae>>>31);var ar,lr,et=this.chain_[0],St=this.chain_[1],Mt=this.chain_[2],It=this.chain_[3],Tn=this.chain_[4];for($=0;$<80;$++){$<40?$<20?(ar=It^St&(Mt^It),lr=1518500249):(ar=St^Mt^It,lr=1859775393):$<60?(ar=St&Mt|It&(St|Mt),lr=2400959708):(ar=St^Mt^It,lr=3395469782);var Ae=(et<<5|et>>>27)+ar+Tn+lr+X[$]&4294967295;Tn=It,It=Mt,Mt=4294967295&(St<<30|St>>>2),St=et,et=Ae}this.chain_[0]=this.chain_[0]+et&4294967295,this.chain_[1]=this.chain_[1]+St&4294967295,this.chain_[2]=this.chain_[2]+Mt&4294967295,this.chain_[3]=this.chain_[3]+It&4294967295,this.chain_[4]=this.chain_[4]+Tn&4294967295},k.prototype.update=function(P,q){if(null!=P){void 0===q&&(q=P.length);for(var X=q-this.blockSize,$=0,Ae=this.buf_,et=this.inbuf_;$<q;){if(0===et)for(;$<=X;)this.compress_(P,$),$+=this.blockSize;if("string"==typeof P){for(;$<q;)if(Ae[et]=P.charCodeAt($),++$,++et===this.blockSize){this.compress_(Ae),et=0;break}}else for(;$<q;)if(Ae[et]=P[$],++$,++et===this.blockSize){this.compress_(Ae),et=0;break}}this.inbuf_=et,this.total_+=q}},k.prototype.digest=function(){var P=[],q=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&q,q/=256;this.compress_(this.buf_);var $=0;for(X=0;X<5;X++)for(var Ae=24;Ae>=0;Ae-=8)P[$]=this.chain_[X]>>Ae&255,++$;return P}}();var ze=function(){function k(P,q){var X=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(function(){P(X)}).catch(function($){X.error($)})}return k.prototype.next=function(P){this.forEachObserver(function(q){q.next(P)})},k.prototype.error=function(P){this.forEachObserver(function(q){q.error(P)}),this.close(P)},k.prototype.complete=function(){this.forEachObserver(function(P){P.complete()}),this.close()},k.prototype.subscribe=function(P,q,X){var Ae,$=this;if(void 0===P&&void 0===q&&void 0===X)throw new Error("Missing Observer.");Ae=function(k,P){if("object"!=typeof k||null===k)return!1;for(var q=0,X=["next","error","complete"];q<X.length;q++){var $=X[q];if($ in k&&"function"==typeof k[$])return!0}return!1}(P)?P:{next:P,error:q,complete:X},void 0===Ae.next&&(Ae.next=Yt),void 0===Ae.error&&(Ae.error=Yt),void 0===Ae.complete&&(Ae.complete=Yt);var et=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{$.finalError?Ae.error($.finalError):Ae.complete()}catch(St){}}),this.observers.push(Ae),et},k.prototype.unsubscribeOne=function(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},k.prototype.forEachObserver=function(P){if(!this.finalized)for(var q=0;q<this.observers.length;q++)this.sendOne(q,P)},k.prototype.sendOne=function(P,q){var X=this;this.task.then(function(){if(void 0!==X.observers&&void 0!==X.observers[P])try{q(X.observers[P])}catch($){"undefined"!=typeof console&&console.error&&console.error($)}})},k.prototype.close=function(P){var q=this;this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(function(){q.observers=void 0,q.onNoObservers=void 0}))},k}();function Yt(){}function kt(k){return k&&k._delegate?k._delegate:k}},7713:(Be,ae,x)=>{x.d(ae,{Z:()=>f.Z});var f=x(417);f.Z.registerVersion("firebase","8.10.0","app"),f.Z.SDK_VERSION="8.10.0"},8305:(Be,ae,x)=>{x.d(ae,{y:()=>H});var f=x(584),Q=x(7908),oe=x(4816),te=x(4623);var K=x(5367),se=x(5044),J=x(8706);let H=(()=>{class Z{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const xe=new Z;return xe.source=this,xe.operator=Me,xe}subscribe(Me,xe,de){const De=function(Z){return Z&&Z instanceof f.Lv||function(Z){return Z&&(0,se.m)(Z.next)&&(0,se.m)(Z.error)&&(0,se.m)(Z.complete)}(Z)&&(0,Q.Nn)(Z)}(Me)?Me:new f.Hp(Me,xe,de);return(0,J.x)(()=>{const{operator:He,source:Fe}=this;De.add(He?He.call(De,Fe):Fe?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(Me){try{return this._subscribe(Me)}catch(xe){Me.error(xe)}}forEach(Me,xe){return new(xe=z(xe))((de,De)=>{let He;He=this.subscribe(Fe=>{try{Me(Fe)}catch(Oe){De(Oe),null==He||He.unsubscribe()}},De,de)})}_subscribe(Me){var xe;return null===(xe=this.source)||void 0===xe?void 0:xe.subscribe(Me)}[oe.L](){return this}pipe(...Me){return function(Z){return 0===Z.length?te.y:1===Z.length?Z[0]:function(Me){return Z.reduce((xe,de)=>de(xe),Me)}}(Me)(this)}toPromise(Me){return new(Me=z(Me))((xe,de)=>{let De;this.subscribe(He=>De=He,He=>de(He),()=>xe(De))})}}return Z.create=_e=>new Z(_e),Z})();function z(Z){var _e;return null!==(_e=null!=Z?Z:K.v.Promise)&&void 0!==_e?_e:Promise}},273:(Be,ae,x)=>{x.d(ae,{x:()=>K});var f=x(8305),Q=x(7908);const te=(0,x(4893).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=x(3980),he=x(8706);let K=(()=>{class J extends f.y{constructor(){super(),this.closed=!1,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const G=new se(this,this);return G.operator=z,G}_throwIfClosed(){if(this.closed)throw new te}next(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){const G=this.observers.slice();for(const re of G)re.next(z)}})}error(z){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:G}=this;for(;G.length;)G.shift().error(z)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:G,isStopped:re,observers:Z}=this;return G||re?Q.Lc:(Z.push(z),new Q.w0(()=>(0,le.P)(Z,z)))}_checkFinalizedStatuses(z){const{hasError:G,thrownError:re,isStopped:Z}=this;G?z.error(re):Z&&z.complete()}asObservable(){const z=new f.y;return z.source=this,z}}return J.create=(H,z)=>new se(H,z),J})();class se extends K{constructor(H,z){super(),this.destination=H,this.source=z}next(H){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===G||G.call(z,H)}error(H){var z,G;null===(G=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===G||G.call(z,H)}complete(){var H,z;null===(z=null===(H=this.destination)||void 0===H?void 0:H.complete)||void 0===z||z.call(H)}_subscribe(H){var z,G;return null!==(G=null===(z=this.source)||void 0===z?void 0:z.subscribe(H))&&void 0!==G?G:Q.Lc}}},584:(Be,ae,x)=>{x.d(ae,{Hp:()=>re,Lv:()=>G});var f=x(5044),Q=x(7908),oe=x(5367),te=x(5160),le=x(6921);const he=J("C",void 0,void 0);function J(de,De,He){return{kind:de,value:De,error:He}}var H=x(2496),z=x(8706);class G extends Q.w0{constructor(De){super(),this.isStopped=!1,De?(this.destination=De,(0,Q.Nn)(De)&&De.add(this)):this.destination=xe}static create(De,He,Fe){return new re(De,He,Fe)}next(De){this.isStopped?Me(J("N",De,void 0),this):this._next(De)}error(De){this.isStopped?Me(J("E",void 0,De),this):(this.isStopped=!0,this._error(De))}complete(){this.isStopped?Me(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(De){this.destination.next(De)}_error(De){try{this.destination.error(De)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}class re extends G{constructor(De,He,Fe){let Oe;if(super(),(0,f.m)(De))Oe=De;else if(De){let be;({next:Oe,error:He,complete:Fe}=De),this&&oe.v.useDeprecatedNextContext?(be=Object.create(De),be.unsubscribe=()=>this.unsubscribe()):be=De,Oe=null==Oe?void 0:Oe.bind(be),He=null==He?void 0:He.bind(be),Fe=null==Fe?void 0:Fe.bind(be)}this.destination={next:Oe?Z(Oe):le.Z,error:Z(null!=He?He:_e),complete:Fe?Z(Fe):le.Z}}}function Z(de,De){return(...He)=>{try{de(...He)}catch(Fe){oe.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Fe):(0,te.h)(Fe)}}}function _e(de){throw de}function Me(de,De){const{onStoppedNotification:He}=oe.v;He&&H.z.setTimeout(()=>He(de,De))}const xe={closed:!0,next:le.Z,error:_e,complete:le.Z}},7908:(Be,ae,x)=>{x.d(ae,{Lc:()=>he,w0:()=>le,Nn:()=>K});var f=x(5044);const oe=(0,x(4893).d)(J=>function(z){J(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((G,re)=>`${re+1}) ${G.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var te=x(3980);class le{constructor(H){this.initialTeardown=H,this.closed=!1,this._parentage=null,this._teardowns=null}unsubscribe(){let H;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Z of z)Z.remove(this);else z.remove(this);const{initialTeardown:G}=this;if((0,f.m)(G))try{G()}catch(Z){H=Z instanceof oe?Z.errors:[Z]}const{_teardowns:re}=this;if(re){this._teardowns=null;for(const Z of re)try{se(Z)}catch(_e){H=null!=H?H:[],_e instanceof oe?H=[...H,..._e.errors]:H.push(_e)}}if(H)throw new oe(H)}}add(H){var z;if(H&&H!==this)if(this.closed)se(H);else{if(H instanceof le){if(H.closed||H._hasParent(this))return;H._addParent(this)}(this._teardowns=null!==(z=this._teardowns)&&void 0!==z?z:[]).push(H)}}_hasParent(H){const{_parentage:z}=this;return z===H||Array.isArray(z)&&z.includes(H)}_addParent(H){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(H),z):z?[z,H]:H}_removeParent(H){const{_parentage:z}=this;z===H?this._parentage=null:Array.isArray(z)&&(0,te.P)(z,H)}remove(H){const{_teardowns:z}=this;z&&(0,te.P)(z,H),H instanceof le&&H._removeParent(this)}}le.EMPTY=(()=>{const J=new le;return J.closed=!0,J})();const he=le.EMPTY;function K(J){return J instanceof le||J&&"closed"in J&&(0,f.m)(J.remove)&&(0,f.m)(J.add)&&(0,f.m)(J.unsubscribe)}function se(J){(0,f.m)(J)?J():J.unsubscribe()}},5367:(Be,ae,x)=>{x.d(ae,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},5583:(Be,ae,x)=>{x.d(ae,{E:()=>Q});const Q=new(x(8305).y)(le=>le.complete())},5947:(Be,ae,x)=>{x.d(ae,{D:()=>Oe});var f=x(9985),Q=x(4763),oe=x(5222),he=x(8305),se=x(5497),J=x(5044),H=x(8395);function G(be,je){if(!be)throw new Error("Iterable cannot be null");return new he.y(Qe=>{(0,H.f)(Qe,je,()=>{const at=be[Symbol.asyncIterator]();(0,H.f)(Qe,je,()=>{at.next().then(R=>{R.done?Qe.complete():Qe.next(R.value)})},0,!0)})})}var re=x(1073),Z=x(2442),_e=x(1537),Me=x(2317),xe=x(9908),de=x(3754),De=x(7751);function Oe(be,je){return je?function(be,je){if(null!=be){if((0,re.c)(be))return function(be,je){return(0,f.Xf)(be).pipe((0,oe.R)(je),(0,Q.Q)(je))}(be,je);if((0,_e.z)(be))return function(be,je){return new he.y(Qe=>{let at=0;return je.schedule(function(){at===be.length?Qe.complete():(Qe.next(be[at++]),Qe.closed||this.schedule())})})}(be,je);if((0,Z.t)(be))return function(be,je){return(0,f.Xf)(be).pipe((0,oe.R)(je),(0,Q.Q)(je))}(be,je);if((0,xe.D)(be))return G(be,je);if((0,Me.T)(be))return function(be,je){return new he.y(Qe=>{let at;return(0,H.f)(Qe,je,()=>{at=be[se.h](),(0,H.f)(Qe,je,()=>{let R,L;try{({value:R,done:L}=at.next())}catch(B){return void Qe.error(B)}L?Qe.complete():Qe.next(R)},0,!0)}),()=>(0,J.m)(null==at?void 0:at.return)&&at.return()})}(be,je);if((0,De.L)(be))return function(be,je){return G((0,De.Q)(be),je)}(be,je)}throw(0,de.z)(be)}(be,je):(0,f.Xf)(be)}},9985:(Be,ae,x)=>{x.d(ae,{Xf:()=>re});var f=x(9162),Q=x(1537),oe=x(2442),te=x(8305),le=x(1073),he=x(9908),K=x(3754),se=x(2317),J=x(7751),H=x(5044),z=x(5160),G=x(4816);function re(Fe){if(Fe instanceof te.y)return Fe;if(null!=Fe){if((0,le.c)(Fe))return function(Fe){return new te.y(Oe=>{const be=Fe[G.L]();if((0,H.m)(be.subscribe))return be.subscribe(Oe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,Q.z)(Fe))return function(Fe){return new te.y(Oe=>{for(let be=0;be<Fe.length&&!Oe.closed;be++)Oe.next(Fe[be]);Oe.complete()})}(Fe);if((0,oe.t)(Fe))return function(Fe){return new te.y(Oe=>{Fe.then(be=>{Oe.closed||(Oe.next(be),Oe.complete())},be=>Oe.error(be)).then(null,z.h)})}(Fe);if((0,he.D)(Fe))return de(Fe);if((0,se.T)(Fe))return function(Fe){return new te.y(Oe=>{for(const be of Fe)if(Oe.next(be),Oe.closed)return;Oe.complete()})}(Fe);if((0,J.L)(Fe))return function(Fe){return de((0,J.Q)(Fe))}(Fe)}throw(0,K.z)(Fe)}function de(Fe){return new te.y(Oe=>{(function(Fe,Oe){var be,je,Qe,at;return(0,f.mG)(this,void 0,void 0,function*(){try{for(be=(0,f.KL)(Fe);!(je=yield be.next()).done;)if(Oe.next(je.value),Oe.closed)return}catch(R){Qe={error:R}}finally{try{je&&!je.done&&(at=be.return)&&(yield at.call(be))}finally{if(Qe)throw Qe.error}}Oe.complete()})})(Fe,Oe).catch(be=>Oe.error(be))})}},3719:(Be,ae,x)=>{x.d(ae,{T:()=>he});var f=x(5373),Q=x(9985),oe=x(5583),te=x(7613),le=x(5947);function he(...K){const se=(0,te.yG)(K),J=(0,te._6)(K,1/0),H=K;return H.length?1===H.length?(0,Q.Xf)(H[0]):(0,f.J)(J)((0,le.D)(H,se)):oe.E}},8889:(Be,ae,x)=>{x.d(ae,{Q:()=>Q});var f=x(584);class Q extends f.Lv{constructor(te,le,he,K,se){super(te),this.onFinalize=se,this._next=le?function(J){try{le(J)}catch(H){te.error(H)}}:super._next,this._error=K?function(J){try{K(J)}catch(H){te.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=he?function(){try{he()}catch(J){te.error(J)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var te;const{closed:le}=this;super.unsubscribe(),!le&&(null===(te=this.onFinalize)||void 0===te||te.call(this))}}},4753:(Be,ae,x)=>{x.d(ae,{U:()=>oe});var f=x(9947),Q=x(8889);function oe(te,le){return(0,f.e)((he,K)=>{let se=0;he.subscribe(new Q.Q(K,J=>{K.next(te.call(le,J,se++))}))})}},5373:(Be,ae,x)=>{x.d(ae,{J:()=>oe});var f=x(5724),Q=x(4623);function oe(te=1/0){return(0,f.z)(Q.y,te)}},5724:(Be,ae,x)=>{x.d(ae,{z:()=>se});var f=x(4753),Q=x(9985),oe=x(9947),le=(x(8395),x(8889)),K=x(5044);function se(J,H,z=1/0){return(0,K.m)(H)?se((G,re)=>(0,f.U)((Z,_e)=>H(G,Z,re,_e))((0,Q.Xf)(J(G,re))),z):("number"==typeof H&&(z=H),(0,oe.e)((G,re)=>function(J,H,z,G,re,Z,_e,Me){const xe=[];let de=0,De=0,He=!1;const Fe=()=>{He&&!xe.length&&!de&&H.complete()},Oe=je=>de<G?be(je):xe.push(je),be=je=>{de++;let Qe=!1;(0,Q.Xf)(z(je,De++)).subscribe(new le.Q(H,at=>{H.next(at)},()=>{Qe=!0},void 0,()=>{if(Qe)try{for(de--;xe.length&&de<G;){const at=xe.shift();be(at)}Fe()}catch(at){H.error(at)}}))};return J.subscribe(new le.Q(H,Oe,()=>{He=!0,Fe()})),()=>{}}(G,re,J,z)))}},4763:(Be,ae,x)=>{x.d(ae,{Q:()=>te});var f=x(8395),Q=x(9947),oe=x(8889);function te(le,he=0){return(0,Q.e)((K,se)=>{K.subscribe(new oe.Q(se,J=>(0,f.f)(se,le,()=>se.next(J),he),()=>(0,f.f)(se,le,()=>se.complete(),he),J=>(0,f.f)(se,le,()=>se.error(J),he)))})}},3174:(Be,ae,x)=>{x.d(ae,{B:()=>he});var f=x(5947),Q=x(9468),oe=x(273),te=x(584),le=x(9947);function he(se={}){const{connector:J=(()=>new oe.x),resetOnError:H=!0,resetOnComplete:z=!0,resetOnRefCountZero:G=!0}=se;return re=>{let Z=null,_e=null,Me=null,xe=0,de=!1,De=!1;const He=()=>{null==_e||_e.unsubscribe(),_e=null},Fe=()=>{He(),Z=Me=null,de=De=!1},Oe=()=>{const be=Z;Fe(),null==be||be.unsubscribe()};return(0,le.e)((be,je)=>{xe++,!De&&!de&&He();const Qe=Me=null!=Me?Me:J();je.add(()=>{xe--,0===xe&&!De&&!de&&(_e=K(Oe,G))}),Qe.subscribe(je),Z||(Z=new te.Hp({next:at=>Qe.next(at),error:at=>{De=!0,He(),_e=K(Fe,H,at),Qe.error(at)},complete:()=>{de=!0,He(),_e=K(Fe,z),Qe.complete()}}),(0,f.D)(be).subscribe(Z))})(re)}}function K(se,J,...H){return!0===J?(se(),null):!1===J?null:J(...H).pipe((0,Q.q)(1)).subscribe(()=>se())}},5222:(Be,ae,x)=>{x.d(ae,{R:()=>Q});var f=x(9947);function Q(oe,te=0){return(0,f.e)((le,he)=>{he.add(oe.schedule(()=>le.subscribe(he),te))})}},9468:(Be,ae,x)=>{x.d(ae,{q:()=>te});var f=x(5583),Q=x(9947),oe=x(8889);function te(le){return le<=0?()=>f.E:(0,Q.e)((he,K)=>{let se=0;he.subscribe(new oe.Q(K,J=>{++se<=le&&(K.next(J),le<=se&&K.complete())}))})}},7384:(Be,ae,x)=>{x.d(ae,{b:()=>le});var f=x(5044),Q=x(9947),oe=x(8889),te=x(4623);function le(he,K,se){const J=(0,f.m)(he)||K||se?{next:he,error:K,complete:se}:he;return J?(0,Q.e)((H,z)=>{var G;null===(G=J.subscribe)||void 0===G||G.call(J);let re=!0;H.subscribe(new oe.Q(z,Z=>{var _e;null===(_e=J.next)||void 0===_e||_e.call(J,Z),z.next(Z)},()=>{var Z;re=!1,null===(Z=J.complete)||void 0===Z||Z.call(J),z.complete()},Z=>{var _e;re=!1,null===(_e=J.error)||void 0===_e||_e.call(J,Z),z.error(Z)},()=>{var Z,_e;re&&(null===(Z=J.unsubscribe)||void 0===Z||Z.call(J)),null===(_e=J.finalize)||void 0===_e||_e.call(J)}))}):te.y}},2869:(Be,ae,x)=>{x.d(ae,{o:()=>le});var f=x(7908);class Q extends f.w0{constructor(K,se){super()}schedule(K,se=0){return this}}const oe={setInterval(...he){const{delegate:K}=oe;return((null==K?void 0:K.setInterval)||setInterval)(...he)},clearInterval(he){const{delegate:K}=oe;return((null==K?void 0:K.clearInterval)||clearInterval)(he)},delegate:void 0};var te=x(3980);class le extends Q{constructor(K,se){super(K,se),this.scheduler=K,this.work=se,this.pending=!1}schedule(K,se=0){if(this.closed)return this;this.state=K;const J=this.id,H=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(H,J,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(H,this.id,se),this}requestAsyncId(K,se,J=0){return oe.setInterval(K.flush.bind(K,this),J)}recycleAsyncId(K,se,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return se;oe.clearInterval(se)}execute(K,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(K,se);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(K,se){let H,J=!1;try{this.work(K)}catch(z){J=!0,H=z||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),H}unsubscribe(){if(!this.closed){const{id:K,scheduler:se}=this,{actions:J}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,te.P)(J,this),null!=K&&(this.id=this.recycleAsyncId(se,K,null)),this.delay=null,super.unsubscribe()}}}},8843:(Be,ae,x)=>{x.d(ae,{v:()=>oe});var f=x(1733);class Q{constructor(le,he=Q.now){this.schedulerActionCtor=le,this.now=he}schedule(le,he=0,K){return new this.schedulerActionCtor(this,le).schedule(K,he)}}Q.now=f.l.now;class oe extends Q{constructor(le,he=Q.now){super(le,he),this.actions=[],this._active=!1,this._scheduled=void 0}flush(le){const{actions:he}=this;if(this._active)return void he.push(le);let K;this._active=!0;do{if(K=le.execute(le.state,le.delay))break}while(le=he.shift());if(this._active=!1,K){for(;le=he.shift();)le.unsubscribe();throw K}}}},2210:(Be,ae,x)=>{x.d(ae,{z:()=>oe,P:()=>te});var f=x(2869);const oe=new(x(8843).v)(f.o),te=oe},1733:(Be,ae,x)=>{x.d(ae,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},2496:(Be,ae,x)=>{x.d(ae,{z:()=>f});const f={setTimeout(...Q){const{delegate:oe}=f;return((null==oe?void 0:oe.setTimeout)||setTimeout)(...Q)},clearTimeout(Q){const{delegate:oe}=f;return((null==oe?void 0:oe.clearTimeout)||clearTimeout)(Q)},delegate:void 0}},5497:(Be,ae,x)=>{x.d(ae,{h:()=>Q});const Q="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},4816:(Be,ae,x)=>{x.d(ae,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7613:(Be,ae,x)=>{x.d(ae,{jO:()=>te,yG:()=>le,_6:()=>he});var f=x(5044),Q=x(7398);function oe(K){return K[K.length-1]}function te(K){return(0,f.m)(oe(K))?K.pop():void 0}function le(K){return(0,Q.K)(oe(K))?K.pop():void 0}function he(K,se){return"number"==typeof oe(K)?K.pop():se}},3980:(Be,ae,x)=>{function f(Q,oe){if(Q){const te=Q.indexOf(oe);0<=te&&Q.splice(te,1)}}x.d(ae,{P:()=>f})},4893:(Be,ae,x)=>{function f(Q){const te=Q(le=>{Error.call(le),le.stack=(new Error).stack});return te.prototype=Object.create(Error.prototype),te.prototype.constructor=te,te}x.d(ae,{d:()=>f})},8706:(Be,ae,x)=>{x.d(ae,{x:()=>oe,O:()=>te});var f=x(5367);let Q=null;function oe(le){if(f.v.useDeprecatedSynchronousErrorHandling){const he=!Q;if(he&&(Q={errorThrown:!1,error:null}),le(),he){const{errorThrown:K,error:se}=Q;if(Q=null,K)throw se}}else le()}function te(le){f.v.useDeprecatedSynchronousErrorHandling&&Q&&(Q.errorThrown=!0,Q.error=le)}},8395:(Be,ae,x)=>{function f(Q,oe,te,le=0,he=!1){const K=oe.schedule(function(){te(),he?Q.add(this.schedule(null,le)):this.unsubscribe()},le);if(Q.add(K),!he)return K}x.d(ae,{f:()=>f})},4623:(Be,ae,x)=>{function f(Q){return Q}x.d(ae,{y:()=>f})},1537:(Be,ae,x)=>{x.d(ae,{z:()=>f});const f=Q=>Q&&"number"==typeof Q.length&&"function"!=typeof Q},9908:(Be,ae,x)=>{x.d(ae,{D:()=>Q});var f=x(5044);function Q(oe){return Symbol.asyncIterator&&(0,f.m)(null==oe?void 0:oe[Symbol.asyncIterator])}},5044:(Be,ae,x)=>{function f(Q){return"function"==typeof Q}x.d(ae,{m:()=>f})},1073:(Be,ae,x)=>{x.d(ae,{c:()=>oe});var f=x(4816),Q=x(5044);function oe(te){return(0,Q.m)(te[f.L])}},2317:(Be,ae,x)=>{x.d(ae,{T:()=>oe});var f=x(5497),Q=x(5044);function oe(te){return(0,Q.m)(null==te?void 0:te[f.h])}},2442:(Be,ae,x)=>{x.d(ae,{t:()=>Q});var f=x(5044);function Q(oe){return(0,f.m)(null==oe?void 0:oe.then)}},7751:(Be,ae,x)=>{x.d(ae,{Q:()=>oe,L:()=>te});var f=x(9162),Q=x(5044);function oe(le){return(0,f.FC)(this,arguments,function*(){const K=le.getReader();try{for(;;){const{value:se,done:J}=yield(0,f.qq)(K.read());if(J)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(se)}}finally{K.releaseLock()}})}function te(le){return(0,Q.m)(null==le?void 0:le.getReader)}},7398:(Be,ae,x)=>{x.d(ae,{K:()=>Q});var f=x(5044);function Q(oe){return oe&&(0,f.m)(oe.schedule)}},9947:(Be,ae,x)=>{x.d(ae,{A:()=>Q,e:()=>oe});var f=x(5044);function Q(te){return(0,f.m)(null==te?void 0:te.lift)}function oe(te){return le=>{if(Q(le))return le.lift(function(he){try{return te(he,this)}catch(K){this.error(K)}});throw new TypeError("Unable to lift unknown Observable type")}}},6921:(Be,ae,x)=>{function f(){}x.d(ae,{Z:()=>f})},5160:(Be,ae,x)=>{x.d(ae,{h:()=>oe});var f=x(5367),Q=x(2496);function oe(te){Q.z.setTimeout(()=>{const{onUnhandledError:le}=f.v;if(!le)throw te;le(te)})}},3754:(Be,ae,x)=>{function f(Q){return new TypeError(`You provided ${null!==Q&&"object"==typeof Q?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(ae,{z:()=>f})},5309:(Be,ae,x)=>{var f=x(3668);let Q=null;function oe(){return Q}const K=new f.OlP("DocumentToken");let se=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:function(){return(0,f.LFG)(z)},providedIn:"platform"}),i})();const H=new f.OlP("Location Initialized");let z=(()=>{class i extends se{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return oe().getBaseHref(this._doc)}onPopState(t){const o=oe().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=oe().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,s){G()?this._history.pushState(t,o,s):this.location.hash=s}replaceState(t,o,s){G()?this._history.replaceState(t,o,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:function(){return new z((0,f.LFG)(K))},providedIn:"platform"}),i})();function G(){return!!window.history.pushState}function Z(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function _e(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function Me(i){return i&&"?"!==i[0]?"?"+i:i}let xe=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:function(){return function(i){const e=(0,f.LFG)(K).location;return new He((0,f.LFG)(se),e&&e.origin||"")}()},providedIn:"root"}),i})();const De=new f.OlP("appBaseHref");let He=(()=>{class i extends xe{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Z(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+Me(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${o}${s}`:o}pushState(t,o,s,u){const d=this.prepareExternalUrl(s+Me(u));this._platformLocation.pushState(t,o,d)}replaceState(t,o,s,u){const d=this.prepareExternalUrl(s+Me(u));this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null==(s=(o=this._platformLocation).historyGo)||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(se),f.LFG(De,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Fe=(()=>{class i extends xe{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=Z(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,s,u){let d=this.prepareExternalUrl(s+Me(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,o,d)}replaceState(t,o,s,u){let d=this.prepareExternalUrl(s+Me(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,s;null==(s=(o=this._platformLocation).historyGo)||s.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(se),f.LFG(De,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i{constructor(t,o){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=_e(Qe(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+Me(o))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,Qe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",s=null){this._platformStrategy.pushState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Me(o)),s)}replaceState(t,o="",s=null){this._platformStrategy.replaceState(s,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Me(o)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,s;null==(s=(o=this._platformStrategy).historyGo)||s.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(s=>s(t,o))}subscribe(t,o,s){return this._subject.subscribe({next:t,error:o,complete:s})}}return i.normalizeQueryParams=Me,i.joinWithSlash=Z,i.stripTrailingSlash=_e,i.\u0275fac=function(t){return new(t||i)(f.LFG(xe),f.LFG(se))},i.\u0275prov=f.Yz7({token:i,factory:function(){return new Oe((0,f.LFG)(xe),(0,f.LFG)(se))},providedIn:"root"}),i})();function Qe(i){return i.replace(/\/index.html$/,"")}var L=(()=>((L=L||{})[L.Zero=0]="Zero",L[L.One=1]="One",L[L.Two=2]="Two",L[L.Few=3]="Few",L[L.Many=4]="Many",L[L.Other=5]="Other",L))(),B=(()=>((B=B||{})[B.Format=0]="Format",B[B.Standalone=1]="Standalone",B))(),j=(()=>((j=j||{})[j.Narrow=0]="Narrow",j[j.Abbreviated=1]="Abbreviated",j[j.Wide=2]="Wide",j[j.Short=3]="Short",j))(),Y=(()=>((Y=Y||{})[Y.Short=0]="Short",Y[Y.Medium=1]="Medium",Y[Y.Long=2]="Long",Y[Y.Full=3]="Full",Y))(),F=(()=>((F=F||{})[F.Decimal=0]="Decimal",F[F.Group=1]="Group",F[F.List=2]="List",F[F.PercentSign=3]="PercentSign",F[F.PlusSign=4]="PlusSign",F[F.MinusSign=5]="MinusSign",F[F.Exponential=6]="Exponential",F[F.SuperscriptingExponent=7]="SuperscriptingExponent",F[F.PerMille=8]="PerMille",F[F.Infinity=9]="Infinity",F[F.NaN=10]="NaN",F[F.TimeSeparator=11]="TimeSeparator",F[F.CurrencyDecimal=12]="CurrencyDecimal",F[F.CurrencyGroup=13]="CurrencyGroup",F))();function lt(i,e){return Gt((0,f.cg1)(i)[f.wAp.DateFormat],e)}function mt(i,e){return Gt((0,f.cg1)(i)[f.wAp.TimeFormat],e)}function sr(i,e){return Gt((0,f.cg1)(i)[f.wAp.DateTimeFormat],e)}function Wt(i,e){const t=(0,f.cg1)(i),o=t[f.wAp.NumberSymbols][e];if(void 0===o){if(e===F.CurrencyDecimal)return t[f.wAp.NumberSymbols][F.Decimal];if(e===F.CurrencyGroup)return t[f.wAp.NumberSymbols][F.Group]}return o}const bt=f.kL8;function wt(i){if(!i[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${i[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Gt(i,e){for(let t=e;t>-1;t--)if(void 0!==i[t])return i[t];throw new Error("Locale data API: locale data undefined")}function Sn(i){const[e,t]=i.split(":");return{hours:+e,minutes:+t}}const Fi=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,An={},lE=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ln=(()=>((ln=ln||{})[ln.Short=0]="Short",ln[ln.ShortGMT=1]="ShortGMT",ln[ln.Long=2]="Long",ln[ln.Extended=3]="Extended",ln))(),$e=(()=>(($e=$e||{})[$e.FullYear=0]="FullYear",$e[$e.Month=1]="Month",$e[$e.Date=2]="Date",$e[$e.Hours=3]="Hours",$e[$e.Minutes=4]="Minutes",$e[$e.Seconds=5]="Seconds",$e[$e.FractionalSeconds=6]="FractionalSeconds",$e[$e.Day=7]="Day",$e))(),ut=(()=>((ut=ut||{})[ut.DayPeriods=0]="DayPeriods",ut[ut.Days=1]="Days",ut[ut.Months=2]="Months",ut[ut.Eras=3]="Eras",ut))();function Oh(i,e,t,o){let s=function(i){if(Fh(i))return i;if("number"==typeof i&&!isNaN(i))return new Date(i);if("string"==typeof i){if(i=i.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(i)){const[s,u=1,d=1]=i.split("-").map(g=>+g);return Es(s,u-1,d)}const t=parseFloat(i);if(!isNaN(i-t))return new Date(t);let o;if(o=i.match(Fi))return function(i){const e=new Date(0);let t=0,o=0;const s=i[8]?e.setUTCFullYear:e.setFullYear,u=i[8]?e.setUTCHours:e.setHours;i[9]&&(t=Number(i[9]+i[10]),o=Number(i[9]+i[11])),s.call(e,Number(i[1]),Number(i[2])-1,Number(i[3]));const d=Number(i[4]||0)-t,g=Number(i[5]||0)-o,y=Number(i[6]||0),b=Math.floor(1e3*parseFloat("0."+(i[7]||0)));return u.call(e,d,g,y,b),e}(o)}const e=new Date(i);if(!Fh(e))throw new Error(`Unable to convert "${i}" into a date`);return e}(i);e=mi(t,e)||e;let g,d=[];for(;e;){if(g=lE.exec(e),!g){d.push(e);break}{d=d.concat(g.slice(1));const E=d.pop();if(!E)break;e=E}}let y=s.getTimezoneOffset();o&&(y=lr(o,y),s=function(i,e,t){const s=i.getTimezoneOffset();return function(i,e){return(i=new Date(i.getTime())).setMinutes(i.getMinutes()+e),i}(i,-1*(lr(e,s)-s))}(s,o));let b="";return d.forEach(E=>{const C=function(i){if(Tn[i])return Tn[i];let e;switch(i){case"G":case"GG":case"GGG":e=P(ut.Eras,j.Abbreviated);break;case"GGGG":e=P(ut.Eras,j.Wide);break;case"GGGGG":e=P(ut.Eras,j.Narrow);break;case"y":e=kt($e.FullYear,1,0,!1,!0);break;case"yy":e=kt($e.FullYear,2,0,!0,!0);break;case"yyy":e=kt($e.FullYear,3,0,!1,!0);break;case"yyyy":e=kt($e.FullYear,4,0,!1,!0);break;case"Y":e=It(1);break;case"YY":e=It(2,!0);break;case"YYY":e=It(3);break;case"YYYY":e=It(4);break;case"M":case"L":e=kt($e.Month,1,1);break;case"MM":case"LL":e=kt($e.Month,2,1);break;case"MMM":e=P(ut.Months,j.Abbreviated);break;case"MMMM":e=P(ut.Months,j.Wide);break;case"MMMMM":e=P(ut.Months,j.Narrow);break;case"LLL":e=P(ut.Months,j.Abbreviated,B.Standalone);break;case"LLLL":e=P(ut.Months,j.Wide,B.Standalone);break;case"LLLLL":e=P(ut.Months,j.Narrow,B.Standalone);break;case"w":e=Mt(1);break;case"ww":e=Mt(2);break;case"W":e=Mt(1,!0);break;case"d":e=kt($e.Date,1);break;case"dd":e=kt($e.Date,2);break;case"c":case"cc":e=kt($e.Day,1);break;case"ccc":e=P(ut.Days,j.Abbreviated,B.Standalone);break;case"cccc":e=P(ut.Days,j.Wide,B.Standalone);break;case"ccccc":e=P(ut.Days,j.Narrow,B.Standalone);break;case"cccccc":e=P(ut.Days,j.Short,B.Standalone);break;case"E":case"EE":case"EEE":e=P(ut.Days,j.Abbreviated);break;case"EEEE":e=P(ut.Days,j.Wide);break;case"EEEEE":e=P(ut.Days,j.Narrow);break;case"EEEEEE":e=P(ut.Days,j.Short);break;case"a":case"aa":case"aaa":e=P(ut.DayPeriods,j.Abbreviated);break;case"aaaa":e=P(ut.DayPeriods,j.Wide);break;case"aaaaa":e=P(ut.DayPeriods,j.Narrow);break;case"b":case"bb":case"bbb":e=P(ut.DayPeriods,j.Abbreviated,B.Standalone,!0);break;case"bbbb":e=P(ut.DayPeriods,j.Wide,B.Standalone,!0);break;case"bbbbb":e=P(ut.DayPeriods,j.Narrow,B.Standalone,!0);break;case"B":case"BB":case"BBB":e=P(ut.DayPeriods,j.Abbreviated,B.Format,!0);break;case"BBBB":e=P(ut.DayPeriods,j.Wide,B.Format,!0);break;case"BBBBB":e=P(ut.DayPeriods,j.Narrow,B.Format,!0);break;case"h":e=kt($e.Hours,1,-12);break;case"hh":e=kt($e.Hours,2,-12);break;case"H":e=kt($e.Hours,1);break;case"HH":e=kt($e.Hours,2);break;case"m":e=kt($e.Minutes,1);break;case"mm":e=kt($e.Minutes,2);break;case"s":e=kt($e.Seconds,1);break;case"ss":e=kt($e.Seconds,2);break;case"S":e=kt($e.FractionalSeconds,1);break;case"SS":e=kt($e.FractionalSeconds,2);break;case"SSS":e=kt($e.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=X(ln.Short);break;case"ZZZZZ":e=X(ln.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=X(ln.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=X(ln.Long);break;default:return null}return Tn[i]=e,e}(E);b+=C?C(s,t,y):"''"===E?"'":E.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function Es(i,e,t){const o=new Date(0);return o.setFullYear(i,e,t),o.setHours(0,0,0),o}function mi(i,e){const t=function(i){return(0,f.cg1)(i)[f.wAp.LocaleId]}(i);if(An[t]=An[t]||{},An[t][e])return An[t][e];let o="";switch(e){case"shortDate":o=lt(i,Y.Short);break;case"mediumDate":o=lt(i,Y.Medium);break;case"longDate":o=lt(i,Y.Long);break;case"fullDate":o=lt(i,Y.Full);break;case"shortTime":o=mt(i,Y.Short);break;case"mediumTime":o=mt(i,Y.Medium);break;case"longTime":o=mt(i,Y.Long);break;case"fullTime":o=mt(i,Y.Full);break;case"short":const s=mi(i,"shortTime"),u=mi(i,"shortDate");o=Lt(sr(i,Y.Short),[s,u]);break;case"medium":const d=mi(i,"mediumTime"),g=mi(i,"mediumDate");o=Lt(sr(i,Y.Medium),[d,g]);break;case"long":const y=mi(i,"longTime"),b=mi(i,"longDate");o=Lt(sr(i,Y.Long),[y,b]);break;case"full":const E=mi(i,"fullTime"),C=mi(i,"fullDate");o=Lt(sr(i,Y.Full),[E,C])}return o&&(An[t][e]=o),o}function Lt(i,e){return e&&(i=i.replace(/\{([^}]+)}/g,function(t,o){return null!=e&&o in e?e[o]:t})),i}function Qr(i,e,t="-",o,s){let u="";(i<0||s&&i<=0)&&(s?i=1-i:(i=-i,u=t));let d=String(i);for(;d.length<e;)d="0"+d;return o&&(d=d.substr(d.length-e)),u+d}function kt(i,e,t=0,o=!1,s=!1){return function(u,d){let g=function(i,e){switch(i){case $e.FullYear:return e.getFullYear();case $e.Month:return e.getMonth();case $e.Date:return e.getDate();case $e.Hours:return e.getHours();case $e.Minutes:return e.getMinutes();case $e.Seconds:return e.getSeconds();case $e.FractionalSeconds:return e.getMilliseconds();case $e.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${i}".`)}}(i,u);if((t>0||g>-t)&&(g+=t),i===$e.Hours)0===g&&-12===t&&(g=12);else if(i===$e.FractionalSeconds)return function(i,e){return Qr(i,3).substr(0,e)}(g,e);const y=Wt(d,F.MinusSign);return Qr(g,e,y,o,s)}}function P(i,e,t=B.Format,o=!1){return function(s,u){return function(i,e,t,o,s,u){switch(t){case ut.Months:return function(i,e,t){const o=(0,f.cg1)(i),u=Gt([o[f.wAp.MonthsFormat],o[f.wAp.MonthsStandalone]],e);return Gt(u,t)}(e,s,o)[i.getMonth()];case ut.Days:return function(i,e,t){const o=(0,f.cg1)(i),u=Gt([o[f.wAp.DaysFormat],o[f.wAp.DaysStandalone]],e);return Gt(u,t)}(e,s,o)[i.getDay()];case ut.DayPeriods:const d=i.getHours(),g=i.getMinutes();if(u){const b=function(i){const e=(0,f.cg1)(i);return wt(e),(e[f.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Sn(o):[Sn(o[0]),Sn(o[1])])}(e),E=function(i,e,t){const o=(0,f.cg1)(i);wt(o);const u=Gt([o[f.wAp.ExtraData][0],o[f.wAp.ExtraData][1]],e)||[];return Gt(u,t)||[]}(e,s,o),C=b.findIndex(A=>{if(Array.isArray(A)){const[I,O]=A,V=d>=I.hours&&g>=I.minutes,W=d<O.hours||d===O.hours&&g<O.minutes;if(I.hours<O.hours){if(V&&W)return!0}else if(V||W)return!0}else if(A.hours===d&&A.minutes===g)return!0;return!1});if(-1!==C)return E[C]}return function(i,e,t){const o=(0,f.cg1)(i),u=Gt([o[f.wAp.DayPeriodsFormat],o[f.wAp.DayPeriodsStandalone]],e);return Gt(u,t)}(e,s,o)[d<12?0:1];case ut.Eras:return function(i,e){return Gt((0,f.cg1)(i)[f.wAp.Eras],e)}(e,o)[i.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(s,u,i,e,t,o)}}function X(i){return function(e,t,o){const s=-1*o,u=Wt(t,F.MinusSign),d=s>0?Math.floor(s/60):Math.ceil(s/60);switch(i){case ln.Short:return(s>=0?"+":"")+Qr(d,2,u)+Qr(Math.abs(s%60),2,u);case ln.ShortGMT:return"GMT"+(s>=0?"+":"")+Qr(d,1,u);case ln.Long:return"GMT"+(s>=0?"+":"")+Qr(d,2,u)+":"+Qr(Math.abs(s%60),2,u);case ln.Extended:return 0===o?"Z":(s>=0?"+":"")+Qr(d,2,u)+":"+Qr(Math.abs(s%60),2,u);default:throw new Error(`Unknown zone width "${i}"`)}}}function St(i){return Es(i.getFullYear(),i.getMonth(),i.getDate()+(4-i.getDay()))}function Mt(i,e=!1){return function(t,o){let s;if(e){const u=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,d=t.getDate();s=1+Math.floor((d+u)/7)}else{const u=St(t),d=function(i){const e=Es(i,0,1).getDay();return Es(i,0,1+(e<=4?4:11)-e)}(u.getFullYear()),g=u.getTime()-d.getTime();s=1+Math.round(g/6048e5)}return Qr(s,i,Wt(o,F.MinusSign))}}function It(i,e=!1){return function(t,o){return Qr(St(t).getFullYear(),i,Wt(o,F.MinusSign),e)}}const Tn={};function lr(i,e){i=i.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+i)/6e4;return isNaN(t)?e:t}function Fh(i){return i instanceof Date&&!isNaN(i.valueOf())}class Ds{}let ur=(()=>{class i extends Ds{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(bt(o||this.locale)(t)){case L.Zero:return"zero";case L.One:return"one";case L.Two:return"two";case L.Few:return"few";case L.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.soG))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Cr=(()=>{class i{constructor(t,o,s,u){this._iterableDiffers=t,this._keyValueDiffers=o,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),t.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),t.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!0)):Object.keys(t).forEach(o=>this._toggleClass(o,!!t[o])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(o=>this._toggleClass(o,!1)):Object.keys(t).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(t,o){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{o?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),i})();class uE{constructor(e,t,o,s){this.$implicit=e,this.ngForOf=t,this.index=o,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let xu=(()=>{class i{constructor(t,o,s){this._viewContainer=t,this._template=o,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(i){return i.name||typeof i}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const o=[];t.forEachOperation((s,u,d)=>{if(null==s.previousIndex){const g=this._viewContainer.createEmbeddedView(this._template,new uE(null,this._ngForOf,-1,-1),null===d?void 0:d),y=new Wa(s,g);o.push(y)}else if(null==d)this._viewContainer.remove(null===u?void 0:u);else if(null!==u){const g=this._viewContainer.get(u);this._viewContainer.move(g,d);const y=new Wa(s,g);o.push(y)}});for(let s=0;s<o.length;s++)this._perViewChange(o[s].view,o[s].record);for(let s=0,u=this._viewContainer.length;s<u;s++){const d=this._viewContainer.get(s);d.context.index=s,d.context.count=u,d.context.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{this._viewContainer.get(s.currentIndex).context.$implicit=s.item})}_perViewChange(t,o){t.context.$implicit=o.item}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),i})();class Wa{constructor(e,t){this.record=e,this.view=t}}let vi=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new Ou,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Xi("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Xi("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.s_b),f.Y36(f.Rgc))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class Ou{constructor(){this.$implicit=null,this.ngIf=null}}function Xi(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}class mn{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ya=(()=>{class i{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const o=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||o,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),o}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let o=0;o<this._defaultViews.length;o++)this._defaultViews[o].enforceState(t)}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=f.lG2({type:i,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),i})(),kr=(()=>{class i{constructor(t,o,s){this.ngSwitch=s,s._addCase(),this._view=new mn(t,o)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Ya,9))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),i})(),Nr=(()=>{class i{constructor(t,o,s){s._addDefault(new mn(t,o))}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(Ya,9))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngSwitchDefault",""]]}),i})();const uM=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let hE=(()=>{class i{constructor(t,o){this.locale=t,this.defaultTimezone=o}transform(t,o="mediumDate",s,u){var d;if(null==t||""===t||t!=t)return null;try{return Oh(t,o,u||this.locale,null!=(d=null!=s?s:this.defaultTimezone)?d:void 0)}catch(g){throw function(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,f.AaK)(i)}'`)}(i,g.message)}}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.soG,16),f.Y36(uM,24))},i.\u0275pipe=f.Yjl({name:"date",type:i,pure:!0}),i})(),Qa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[{provide:Ds,useClass:ur}]}),i})();const Lh="browser";let vE=(()=>{class i{}return i.\u0275prov=(0,f.Yz7)({token:i,providedIn:"root",factory:()=>new Bh((0,f.LFG)(K),window)}),i})();class Bh{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let s=o.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(o-u[0],s-u[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=_E(this.window.history)||_E(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function _E(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Uh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Uh,Q||(Q=i)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Fu=Fu||document.querySelector("base"),Fu?Fu.getAttribute("href"):null);return null==t?null:function(i){Wn=Wn||document.createElement("a"),Wn.setAttribute("href",i);const e=Wn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[s,u]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Wn,Fu=null;const ku=new f.OlP("TRANSITION_ID"),Sr=[{provide:f.ip1,useFactory:function(i,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const o=oe(),s=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let u=0;u<s.length;u++)o.remove(s[u])})}},deps:[ku,K,f.zs3],multi:!0}];class Nu{static init(){(0,f.VLi)(new Nu)}addToWindow(e){f.dqk.getAngularTestability=(o,s=!0)=>{const u=e.findTestabilityInTree(o,s);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(o=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const g=function(y){d=d||y,u--,0==u&&o(d)};s.forEach(function(y){y.whenStable(g)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:o?oe().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let jh=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Lu=new f.OlP("EventManagerPlugins");let ei=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,s){return this._findPluginFor(o).addEventListener(t,o,s)}addGlobalEventListener(t,o,s){return this._findPluginFor(o).addGlobalEventListener(t,o,s)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(Lu),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Hh{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const s=oe().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,o)}}let Vu=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),o.add(s))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),nt=(()=>{class i extends Vu{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(o.appendChild(d))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(CE),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,s)=>{this._addStylesToHost(t,s,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(CE))}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function CE(i){oe().remove(i)}const Gh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},zh=/%COMP%/g;function Ja(i,e,t){for(let o=0;o<e.length;o++){let s=e[o];Array.isArray(s)?Ja(i,s,t):(s=s.replace(zh,i),t.push(s))}return t}function on(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let eo=(()=>{class i{constructor(t,o,s){this.eventManager=t,this.sharedStylesHost=o,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Lr(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case f.ifc.Emulated:{let s=this.rendererByCompId.get(o.id);return s||(s=new yM(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,s)),s.applyToHost(t),s}case 1:case f.ifc.ShadowDom:return new TE(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const s=Ja(o.id,o.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(ei),f.LFG(nt),f.LFG(f.AFp))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class Lr{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Gh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,s){if(s){t=s+":"+t;const u=Gh[s];u?e.setAttributeNS(u,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const s=Gh[o];s?e.removeAttributeNS(s,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,o,s&f.JOm.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,on(o)):this.eventManager.addEventListener(e,t,on(o))}}class yM extends Lr{constructor(e,t,o,s){super(e),this.component=o;const u=Ja(s+"-"+o.id,o.styles,[]);t.addStyles(u),this.contentAttr="_ngcontent-%COMP%".replace(zh,s+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(zh,i)}(s+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class TE extends Lr{constructor(e,t,o,s){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=Ja(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const g=document.createElement("style");g.textContent=u[d],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Uu=(()=>{class i extends Hh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,s){return t.addEventListener(o,s,!1),()=>this.removeEventListener(t,o,s)}removeEventListener(t,o,s){return t.removeEventListener(o,s)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Xa=["alt","control","meta","shift"],Ni={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Wh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ts={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let Li=(()=>{class i extends Hh{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,s){const u=i.parseEventName(o),d=i.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>oe().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const o=t.toLowerCase().split("."),s=o.shift();if(0===o.length||"keydown"!==s&&"keyup"!==s)return null;const u=i._normalizeKey(o.pop());let d="";if(Xa.forEach(y=>{const b=o.indexOf(y);b>-1&&(o.splice(b,1),d+=y+".")}),d+=u,0!=o.length||0===u.length)return null;const g={};return g.domEventName=s,g.fullKey=d,g}static getEventFullKey(t){let o="",s=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&Wh.hasOwnProperty(e)&&(e=Wh[e]))}return Ni[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Xa.forEach(u=>{u!=s&&Ts[u](t)&&(o+=u+".")}),o+=s,o}static eventCallback(t,o,s){return u=>{i.getEventFullKey(u)===t&&s.runGuarded(()=>o(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Kh=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:Lh},{provide:f.g9A,useValue:function(){Uh.makeCurrent(),Nu.init()},multi:!0},{provide:K,useFactory:function(){return(0,f.RDi)(document),document},deps:[]}]),cy=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function(){return new f.qLn},deps:[]},{provide:Lu,useClass:Uu,multi:!0,deps:[K,f.R0b,f.Lbi]},{provide:Lu,useClass:Li,multi:!0,deps:[K]},{provide:eo,useClass:eo,deps:[ei,nt,f.AFp]},{provide:f.FYo,useExisting:eo},{provide:Vu,useExisting:nt},{provide:nt,useClass:nt,deps:[K]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b]},{provide:ei,useClass:ei,deps:[Lu,f.R0b]},{provide:class{},useClass:jh,deps:[]}];let ju=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:f.AFp,useValue:t.appId},{provide:ku,useExisting:f.AFp},Sr]}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(i,12))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:cy,imports:[Qa,f.hGG]}),i})();"undefined"!=typeof window&&window;var gt=x(273);let _y=(()=>{class i{constructor(){this.lang="en-IN",this.languge=[{viewValue:"Afrikaans (South Africa)",value:"af-ZA"},{viewValue:"Albanian (Albania)",value:"sq-AL"},{viewValue:"Amharic (Ethiopia)",value:"am-ET"},{viewValue:"Arabic (Algeria)",value:"ar-DZ"},{viewValue:"Arabic (Bahrain)",value:"ar-BH"},{viewValue:"Arabic (Egypt)",value:"ar-EG"},{viewValue:"Arabic (Iraq)",value:"ar-IQ"},{viewValue:"Arabic (Israel)",value:"ar-IL"},{viewValue:"Arabic (Jordan)",value:"ar-JO"},{viewValue:"Arabic (Kuwait)",value:"ar-KW"},{viewValue:"Arabic (Lebanon)",value:"ar-LB"},{viewValue:"Arabic (Morocco)",value:"ar-MA"},{viewValue:"Arabic (Oman)",value:"ar-OM"},{viewValue:"Arabic (Qatar)",value:"ar-QA"},{viewValue:"Arabic (Saudi Arabia)",value:"ar-SA"},{viewValue:"Arabic (State of Palestine)",value:"ar-PS"},{viewValue:"Arabic (Tunisia)",value:"ar-TN"},{viewValue:"Arabic (United Arab Emirates)",value:"ar-AE"},{viewValue:"Arabic (Yemen)",value:"ar-YE"},{viewValue:"Armenian (Armenia)",value:"hy-AM"},{viewValue:"Azerbaijani (Azerbaijan)",value:"az-AZ"},{viewValue:"Basque (Spain)",value:"eu-ES"},{viewValue:"Bengali (Bangladesh)",value:"bn-BD"},{viewValue:"Bengali (India)",value:"bn-IN"},{viewValue:"Bosnian (Bosnia and Herzegovina)",value:"bs-BA"},{viewValue:"Bulgarian (Bulgaria)",value:"bg-BG"},{viewValue:"Burmese (Myanmar)",value:"my-MM"},{viewValue:"Catalan (Spain)",value:"ca-ES"},{viewValue:"Chinese, Cantonese (Traditional Hong Kong)",value:"yue-Hant-HK"},{viewValue:"Chinese, Mandarin (Simplified, China)",value:"zh"},{viewValue:"Chinese, Mandarin (Traditional, Taiwan)",value:"zh-TW"},{viewValue:"Croatian (Croatia)",value:"hr-HR"},{viewValue:"Czech (Czech Republic)",value:"cs-CZ"},{viewValue:"Danish (Denmark)",value:"da-DK"},{viewValue:"Dutch (Belgium)",value:"nl-BE"},{viewValue:"Dutch (Netherlands)",value:"nl-NL"},{viewValue:"English (Australia)",value:"en-AU"},{viewValue:"English (Canada)",value:"en-CA"},{viewValue:"English (Ghana)",value:"en-GH"},{viewValue:"English (Hong Kong)",value:"en-HK"},{viewValue:"English (India)",value:"en-IN"},{viewValue:"English (Ireland)",value:"en-IE"},{viewValue:"English (Kenya)",value:"en-KE"},{viewValue:"English (New Zealand)",value:"en-NZ"},{viewValue:"English (Nigeria)",value:"en-NG"},{viewValue:"English (Pakistan)",value:"en-PK"},{viewValue:"English (Philippines)",value:"en-PH"},{viewValue:"English (Singapore)",value:"en-SG"},{viewValue:"English (South Africa)",value:"en-ZA"},{viewValue:"English (Tanzania)",value:"en-TZ"},{viewValue:"English (United Kingdom)",value:"en-GB"},{viewValue:"English (United States)",value:"en-US"},{viewValue:"Estonian (Estonia)",value:"et-EE"},{viewValue:"Filipino (Philippines)",value:"fil-PH"},{viewValue:"Finnish (Finland)",value:"fi-FI"},{viewValue:"French (Belgium)",value:"fr-BE"},{viewValue:"French (Canada)",value:"fr-CA"},{viewValue:"French (France)",value:"fr-FR"},{viewValue:"French (Switzerland)",value:"fr-CH"},{viewValue:"Galician (Spain)",value:"gl-ES"},{viewValue:"Georgian (Georgia)",value:"ka-GE"},{viewValue:"German (Austria)",value:"de-AT"},{viewValue:"German (Germany)",value:"de-DE"},{viewValue:"German (Switzerland)",value:"de-CH"},{viewValue:"Greek (Greece)",value:"el-GR"},{viewValue:"Gujarati (India)",value:"gu-IN"},{viewValue:"Hebrew (Israel)",value:"iw-IL"},{viewValue:"Hindi (India)",value:"hi-IN"},{viewValue:"Hungarian (Hungary)",value:"hu-HU"},{viewValue:"Icelandic (Iceland)",value:"is-IS"},{viewValue:"Indonesian (Indonesia)",value:"id-ID"},{viewValue:"Italian (Italy)",value:"it-IT"},{viewValue:"Italian (Switzerland)",value:"it-CH"},{viewValue:"Japanese (Japan)",value:"ja-JP"},{viewValue:"Javanese (Indonesia)",value:"jv-ID"},{viewValue:"Kannada (India)",value:"kn-IN"},{viewValue:"Kazakh (Kazakhstan)",value:"kk-KZ"},{viewValue:"Khmer (Cambodia)",value:"km-KH"},{viewValue:"Korean (South Korea)",value:"ko-KR"},{viewValue:"Lao (Laos)",value:"lo-LA"},{viewValue:"Latvian (Latvia)",value:"lv-LV"},{viewValue:"Lithuanian (Lithuania)",value:"lt-LT"},{viewValue:"Macedonian (North Macedonia)",value:"mk-MK"},{viewValue:"Malay (Malaysia)",value:"ms-MY"},{viewValue:"Malayalam (India)",value:"ml-IN"},{viewValue:"Marathi (India)",value:"mr-IN"},{viewValue:"Mongolian (Mongolia)",value:"mn-MN"},{viewValue:"Nepali (Nepal)",value:"ne-NP"},{viewValue:"Norwegian Bokm\xe5l (Norway)",value:"no-NO"},{viewValue:"Persian (Iran)",value:"fa-IR"},{viewValue:"Polish (Poland)",value:"pl-PL"},{viewValue:"Portuguese (Brazil)",value:"pt-BR"},{viewValue:"Portuguese (Portugal)",value:"pt-PT"},{viewValue:"Punjabi (Gurmukhi India)",value:"pa-Guru-IN"},{viewValue:"Romanian (Romania)",value:"ro-RO"},{viewValue:"Russian (Russia)",value:"ru-RU"},{viewValue:"Serbian (Serbia)",value:"sr-RS"},{viewValue:"Sinhala (Sri Lanka)",value:"si-LK"},{viewValue:"Slovak (Slovakia)",value:"sk-SK"},{viewValue:"Slovenian (Slovenia)",value:"sl-SI"},{viewValue:"Spanish (Argentina)",value:"es-AR"},{viewValue:"Spanish (Bolivia)",value:"es-BO"},{viewValue:"Spanish (Chile)",value:"es-CL"},{viewValue:"Spanish (Colombia)",value:"es-CO"},{viewValue:"Spanish (Costa Rica)",value:"es-CR"},{viewValue:"Spanish (Dominican Republic)",value:"es-DO"},{viewValue:"Spanish (Ecuador)",value:"es-EC"},{viewValue:"Spanish (El Salvador)",value:"es-SV"},{viewValue:"Spanish (Guatemala)",value:"es-GT"},{viewValue:"Spanish (Honduras)",value:"es-HN"},{viewValue:"Spanish (Mexico)",value:"es-MX"},{viewValue:"Spanish (Nicaragua)",value:"es-NI"},{viewValue:"Spanish (Panama)",value:"es-PA"},{viewValue:"Spanish (Paraguay)",value:"es-PY"},{viewValue:"Spanish (Peru)",value:"es-PE"},{viewValue:"Spanish (Puerto Rico)",value:"es-PR"},{viewValue:"Spanish (Spain)",value:"es-ES"},{viewValue:"Spanish (United States)",value:"es-US"},{viewValue:"Spanish (Uruguay)",value:"es-UY"},{viewValue:"Spanish (Venezuela)",value:"es-VE"},{viewValue:"Sundanese (Indonesia)",value:"su-ID"},{viewValue:"Swahili (Kenya)",value:"sw-KE"},{viewValue:"Swahili (Tanzania)",value:"sw-TZ"},{viewValue:"Swedish (Sweden)",value:"sv-SE"},{viewValue:"Tamil (India)",value:"ta-IN"},{viewValue:"Tamil (Malaysia)",value:"ta-MY"},{viewValue:"Tamil (Singapore)",value:"ta-SG"},{viewValue:"Tamil (Sri Lanka)",value:"ta-LK"},{viewValue:"Telugu (India)",value:"te-IN"},{viewValue:"Thai (Thailand)",value:"th-TH"},{viewValue:"Turkish (Turkey)",value:"tr-TR"},{viewValue:"Ukrainian (Ukraine)",value:"uk-UA"},{viewValue:"Urdu (India)",value:"ur-IN"},{viewValue:"Urdu (Pakistan)",value:"ur-PK"},{viewValue:"Uzbek (Uzbekistan)",value:"uz-UZ"},{viewValue:"Vietnamese (Vietnam)",value:"vi-VN"},{viewValue:"Zulu (South Africa)",value:"zu-ZA"}],this.isStoppedSpeechRecog=!1,this.text="",this.voiceToTextSubject=new gt.x,this.speakingPaused=new gt.x,this.tempWords=""}speechInput(){return this.voiceToTextSubject.asObservable()}init(){let t=localStorage.getItem("userpref");return this.lang=t?JSON.parse(t).language:"en-IN",this.recognition=new webkitSpeechRecognition,this.recognition.interimResults=!0,this.recognition.lang=this.lang,this.recognition.addEventListener("result",o=>{const s=Array.from(o.results).map(u=>u[0]).map(u=>u.transcript).join("");this.tempWords=s,this.voiceToTextSubject.next(this.text||s)}),this.initListeners()}initListeners(){return this.recognition.addEventListener("end",t=>{this.recognition.stop()}),this.speakingPaused.asObservable()}start(){this.text="",this.isStoppedSpeechRecog=!1,this.recognition.start(),this.recognition.addEventListener("end",t=>{this.isStoppedSpeechRecog?(this.recognition.isActive=!0,this.recognition.stop()):(this.isStoppedSpeechRecog=!1,this.wordConcat(),(!this.recognition.lastActiveTime||Date.now()-this.recognition.lastActive>200)&&(this.recognition.start(),this.recognition.lastActive=Date.now())),this.voiceToTextSubject.next(this.text)})}stop(){console.log(this.text),this.isStoppedSpeechRecog=!0,this.wordConcat(),this.recognition.stop(),this.recognition.isActive=!1,this.speakingPaused.next("Stopped speaking")}wordConcat(){this.text=this.text.trim()+" "+this.tempWords,this.text=this.text.trim(),this.tempWords=""}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function yn(i){return null!=i&&"false"!=`${i}`}function Ms(i,e=0){return function(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}(i)?Number(i):e}function tf(i){return Array.isArray(i)?i:[i]}function Ut(i){return null==i?"":"string"==typeof i?i:`${i}px`}function Vi(i){return i instanceof f.SBq?i.nativeElement:i}var no=x(7613),jt=x(5947);function rt(...i){const e=(0,no.yG)(i);return(0,jt.D)(i,e)}var Ln=x(8305),ro=x(9985),Mn=x(5724),kE=x(1537),Ar=x(5044),ct=x(4753);const{isArray:nf}=Array;function Is(i){return(0,ct.U)(e=>function(i,e){return nf(e)?i(...e):i(e)}(i,e))}const NE=["addListener","removeListener"],wy=["addEventListener","removeEventListener"],Ey=["on","off"];function tl(i,e,t,o){if((0,Ar.m)(t)&&(o=t,t=void 0),o)return tl(i,e,t).pipe(Is(o));const[s,u]=function(i){return(0,Ar.m)(i.addEventListener)&&(0,Ar.m)(i.removeEventListener)}(i)?wy.map(d=>g=>i[d](e,g,t)):function(i){return(0,Ar.m)(i.addListener)&&(0,Ar.m)(i.removeListener)}(i)?NE.map(rf(i,e)):function(i){return(0,Ar.m)(i.on)&&(0,Ar.m)(i.off)}(i)?Ey.map(rf(i,e)):[];if(!s&&(0,kE.z)(i))return(0,Mn.z)(d=>tl(d,e,t))((0,ro.Xf)(i));if(!s)throw new TypeError("Invalid event target");return new Ln.y(d=>{const g=(...y)=>d.next(1<y.length?y:y[0]);return s(g),()=>u(g)})}function rf(i,e){return t=>o=>i[t](e,o)}var xs=x(2869),ti=x(7908);const Os={schedule(i){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:o}=Os;o&&(e=o.requestAnimationFrame,t=o.cancelAnimationFrame);const s=e(u=>{t=void 0,i(u)});return new ti.w0(()=>null==t?void 0:t(s))},requestAnimationFrame(...i){const{delegate:e}=Os;return((null==e?void 0:e.requestAnimationFrame)||requestAnimationFrame)(...i)},cancelAnimationFrame(...i){const{delegate:e}=Os;return((null==e?void 0:e.cancelAnimationFrame)||cancelAnimationFrame)(...i)},delegate:void 0};var ko=x(8843);new class extends ko.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,s=-1;e=e||t.shift();const u=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++s<u&&(e=t.shift()));if(this._active=!1,o){for(;++s<u&&(e=t.shift());)e.unsubscribe();throw o}}}(class extends xs.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=Os.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(Os.cancelAnimationFrame(t),e._scheduled=void 0)}});let io,Rs=1;const Bi={};function Fs(i){return i in Bi&&(delete Bi[i],!0)}const af={setImmediate(i){const e=Rs++;return Bi[e]=!0,io||(io=Promise.resolve()),io.then(()=>Fs(e)&&i()),e},clearImmediate(i){Fs(i)}},{setImmediate:MM,clearImmediate:BE}=af,Ht={setImmediate(...i){const{delegate:e}=Ht;return((null==e?void 0:e.setImmediate)||MM)(...i)},clearImmediate(i){const{delegate:e}=Ht;return((null==e?void 0:e.clearImmediate)||BE)(i)},delegate:void 0};new class extends ko.v{flush(e){this._active=!0,this._scheduled=void 0;const{actions:t}=this;let o,s=-1;e=e||t.shift();const u=t.length;do{if(o=e.execute(e.state,e.delay))break}while(++s<u&&(e=t.shift()));if(this._active=!1,o){for(;++s<u&&(e=t.shift());)e.unsubscribe();throw o}}}(class extends xs.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,o=0){return null!==o&&o>0?super.requestAsyncId(e,t,o):(e.actions.push(this),e._scheduled||(e._scheduled=Ht.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,o=0){if(null!=o&&o>0||null==o&&this.delay>0)return super.recycleAsyncId(e,t,o);0===e.actions.length&&(Ht.clearImmediate(t),e._scheduled=void 0)}});var lf=x(2210),Vn=x(9947),vn=x(8889),OM=x(7398);function Ps(i,e=lf.P){return function(i){return(0,Vn.e)((e,t)=>{let o=!1,s=null,u=null,d=!1;const g=()=>{if(null==u||u.unsubscribe(),u=null,o){o=!1;const b=s;s=null,t.next(b)}d&&t.complete()},y=()=>{u=null,d&&t.complete()};e.subscribe(new vn.Q(t,b=>{o=!0,s=b,u||(0,ro.Xf)(i()).subscribe(u=new vn.Q(t,g,y))},()=>{d=!0,(!o||!u||u.closed)&&t.complete()}))})}(()=>function(i=0,e,t=lf.P){let o=-1;return null!=e&&((0,OM.K)(e)?t=e:o=e),new Ln.y(s=>{let u=function(i){return i instanceof Date&&!isNaN(i)}(i)?+i-t.now():i;u<0&&(u=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=o?this.schedule(void 0,o):s.complete())},u)})}(i,e))}function In(i,e){return(0,Vn.e)((t,o)=>{let s=0;t.subscribe(new vn.Q(o,u=>i.call(e,u,s++)&&o.next(u)))})}let cf;try{cf="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(i){cf=!1}let No,zt=(()=>{class i{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function(i){return i===Lh}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!cf)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.Lbi))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Vr=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();const il=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ks(){if(No)return No;if("object"!=typeof document||!document)return No=new Set(il),No;let i=document.createElement("input");return No=new Set(il.filter(e=>(i.setAttribute("type",e),i.type===e))),No}let Ns,Ls,ol;function Wu(i){return function(){if(null==Ns&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ns=!0}))}finally{Ns=Ns||!1}return Ns}()?i:!!i.capture}function Ay(){if(null==Ls){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ls=!1,Ls;if("scrollBehavior"in document.documentElement.style)Ls=!0;else{const i=Element.prototype.scrollTo;Ls=!!i&&!/\{\s*\[native code\]\s*\}/.test(i.toString())}}return Ls}function Yu(){let i="undefined"!=typeof document&&document?document.activeElement:null;for(;i&&i.shadowRoot;){const e=i.shadowRoot.activeElement;if(e===i)break;i=e}return i}function Lo(i){return i.composedPath?i.composedPath()[0]:i.target}function hf(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}const HE=new f.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,f.f3M)(K)}}),zE=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let oo=(()=>{class i{constructor(t){if(this.value="ltr",this.change=new f.vpe,t){const s=t.documentElement?t.documentElement.dir:null;this.value=function(i){const e=(null==i?void 0:i.toLowerCase())||"";return"auto"===e&&"undefined"!=typeof navigator&&(null==navigator?void 0:navigator.language)?zE.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||s||"ltr")}}ngOnDestroy(){this.change.complete()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(HE,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ku=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})(),qE=(()=>{class i{constructor(t,o,s){this._ngZone=t,this._platform=o,this._scrolled=new gt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=s}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const o=this.scrollContainers.get(t);o&&(o.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new Ln.y(o=>{this._globalSubscription||this._addGlobalListener();const s=t>0?this._scrolled.pipe(Ps(t)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{s.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):rt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(t,o){const s=this.getAncestorScrollContainers(t);return this.scrolled(o).pipe(In(u=>!u||s.indexOf(u)>-1))}getAncestorScrollContainers(t){const o=[];return this.scrollContainers.forEach((s,u)=>{this._scrollableContainsElement(u,t)&&o.push(u)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,o){let s=Vi(o),u=t.getElementRef().nativeElement;do{if(s==u)return!0}while(s=s.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tl(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.R0b),f.LFG(zt),f.LFG(K,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),gf=(()=>{class i{constructor(t,o,s){this._platform=t,this._change=new gt.x,this._changeListener=u=>{this._change.next(u)},this._document=s,o.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:o,height:s}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+s,right:t.left+o,height:s,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,o=this._getWindow(),s=t.documentElement,u=s.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||o.scrollY||s.scrollTop||0,left:-u.left||t.body.scrollLeft||o.scrollX||s.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ps(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(zt),f.LFG(f.R0b),f.LFG(K,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),mf=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})(),Ry=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Ku,Vr,mf],Ku,mf]}),i})();class ec{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class al extends ec{constructor(e,t,o,s){super(),this.component=e,this.viewContainerRef=t,this.injector=o,this.componentFactoryResolver=s}}class Us extends ec{constructor(e,t,o){super(),this.templateRef=e,this.viewContainerRef=t,this.context=o}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Fy extends ec{constructor(e){super(),this.element=e instanceof f.SBq?e.nativeElement:e}}class yf{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof al?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Us?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Fy?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class js extends yf{constructor(e,t,o,s,u){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=o,this._defaultInjector=s,this.attachDomPortal=d=>{const g=d.element,y=this._document.createComment("dom-portal");g.parentNode.insertBefore(y,g),this.outletElement.appendChild(g),this._attachedPortal=d,super.setDisposeFn(()=>{y.parentNode&&y.parentNode.replaceChild(g,y)})},this._document=u}attachComponentPortal(e){const o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let s;return e.viewContainerRef?(s=e.viewContainerRef.createComponent(o,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>s.destroy())):(s=o.create(e.injector||this._defaultInjector),this._appRef.attachView(s.hostView),this.setDisposeFn(()=>{this._appRef.detachView(s.hostView),s.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(s)),this._attachedPortal=e,s}attachTemplatePortal(e){let t=e.viewContainerRef,o=t.createEmbeddedView(e.templateRef,e.context);return o.rootNodes.forEach(s=>this.outletElement.appendChild(s)),o.detectChanges(),this.setDisposeFn(()=>{let s=t.indexOf(o);-1!==s&&t.remove(s)}),this._attachedPortal=e,o}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let vf=(()=>{class i extends yf{constructor(t,o,s){super(),this._componentFactoryResolver=t,this._viewContainerRef=o,this._isInitialized=!1,this.attached=new f.vpe,this.attachDomPortal=u=>{const d=u.element,g=this._document.createComment("dom-portal");u.setAttachedHost(this),d.parentNode.insertBefore(g,d),this._getRootNode().appendChild(d),this._attachedPortal=u,super.setDisposeFn(()=>{g.parentNode&&g.parentNode.replaceChild(d,g)})},this._document=s}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const o=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,u=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),d=o.createComponent(u,o.length,t.injector||o.injector);return o!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=t,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(t){t.setAttachedHost(this);const o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f._Vd),f.Y36(f.s_b),f.Y36(K))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[f.qOj]}),i})(),YE=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();var Hs=x(3719),Ur=x(9468),nc=x(6921);function Kn(i){return(0,Vn.e)((e,t)=>{(0,ro.Xf)(i).subscribe(new vn.Q(t,()=>t.complete(),nc.Z)),!t.closed&&e.subscribe(t)})}function Vo(i,...e){return e.length?e.some(t=>i[t]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}const lc=Ay();class Cf{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Ut(-this._previousScrollPosition.left),e.style.top=Ut(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,o=e.style,s=this._document.body.style,u=o.scrollBehavior||"",d=s.scrollBehavior||"";this._isEnabled=!1,o.left=this._previousHTMLStyles.left,o.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),lc&&(o.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),lc&&(o.scrollBehavior=u,s.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,o=this._viewportRuler.getViewportSize();return t.scrollHeight>o.height||t.scrollWidth>o.width}}class NI{constructor(e,t,o,s){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=o,this._config=s,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Bo{enable(){}disable(){}attach(){}}function dl(i,e){return e.some(t=>i.bottom<t.top||i.top>t.bottom||i.right<t.left||i.left>t.right)}function Df(i,e){return e.some(t=>i.top<t.top||i.bottom>t.bottom||i.left<t.left||i.right>t.right)}class yC{constructor(e,t,o,s){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=o,this._config=s,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:o,height:s}=this._viewportRuler.getViewportSize();dl(t,[{width:o,height:s,bottom:s,right:o,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Sf=(()=>{class i{constructor(t,o,s,u){this._scrollDispatcher=t,this._viewportRuler=o,this._ngZone=s,this.noop=()=>new Bo,this.close=d=>new NI(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new Cf(this._viewportRuler,this._document),this.reposition=d=>new yC(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=u}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(qE),f.LFG(gf),f.LFG(f.R0b),f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class Af{constructor(e){if(this.scrollStrategy=new Bo,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const o of t)void 0!==e[o]&&(this[o]=e[o])}}}class vC{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let Tf=(()=>{class i{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const o=this._attachedOverlays.indexOf(t);o>-1&&this._attachedOverlays.splice(o,1),0===this._attachedOverlays.length&&this.detach()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Mf=(()=>{class i extends Tf{constructor(t){super(t),this._keydownListener=o=>{const s=this._attachedOverlays;for(let u=s.length-1;u>-1;u--)if(s[u]._keydownEvents.observers.length>0){s[u]._keydownEvents.next(o);break}}}add(t){super.add(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ev=(()=>{class i extends Tf{constructor(t,o){super(t),this._platform=o,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=Lo(s)},this._clickListener=s=>{const u=Lo(s),d="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const g=this._attachedOverlays.slice();for(let y=g.length-1;y>-1;y--){const b=g[y];if(!(b._outsidePointerEvents.observers.length<1)&&b.hasAttached()){if(b.overlayElement.contains(u)||b.overlayElement.contains(d))break;b._outsidePointerEvents.next(s)}}}}add(t){if(super.add(t),!this._isAttached){const o=this._document.body;o.addEventListener("pointerdown",this._pointerDownListener,!0),o.addEventListener("click",this._clickListener,!0),o.addEventListener("auxclick",this._clickListener,!0),o.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=o.style.cursor,o.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K),f.LFG(zt))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),hl=(()=>{class i{constructor(t,o){this._platform=o,this._document=t}ngOnDestroy(){var t;null==(t=this._containerElement)||t.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||hf()){const s=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<s.length;u++)s[u].remove()}const o=this._document.createElement("div");o.classList.add(t),hf()?o.setAttribute("platform","test"):this._platform.isBrowser||o.setAttribute("platform","server"),this._document.body.appendChild(o),this._containerElement=o}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K),f.LFG(zt))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class _C{constructor(e,t,o,s,u,d,g,y,b){this._portalOutlet=e,this._host=t,this._pane=o,this._config=s,this._ngZone=u,this._keyboardDispatcher=d,this._document=g,this._location=y,this._outsideClickDispatcher=b,this._backdropElement=null,this._backdropClick=new gt.x,this._attachments=new gt.x,this._detachments=new gt.x,this._locationChanges=ti.w0.EMPTY,this._backdropClickHandler=E=>this._backdropClick.next(E),this._keydownEvents=new gt.x,this._outsidePointerEvents=new gt.x,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe((0,Ur.q)(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){var t;const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),null==(t=this._host)||t.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Ne(Ne({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Fn(Ne({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Ut(this._config.width),e.height=Ut(this._config.height),e.minWidth=Ut(this._config.minWidth),e.minHeight=Ut(this._config.minHeight),e.maxWidth=Ut(this._config.maxWidth),e.maxHeight=Ut(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(!e)return;let t;const o=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",o),this._disposeBackdrop(e)),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",o)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(o,500))}_toggleClasses(e,t,o){const s=tf(t||[]).filter(u=>!!u);s.length&&(o?e.classList.add(...s):e.classList.remove(...s))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Kn((0,Hs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.remove(),this._backdropElement===e&&(this._backdropElement=null))}}const tv="cdk-overlay-connected-position-bounding-box",nv=/([A-Za-z%]+)$/;class rv{constructor(e,t,o,s,u){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new gt.x,this._resizeSubscription=ti.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(tv),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,o=this._viewportRect,s=[];let u;for(let d of this._preferredPositions){let g=this._getOriginPoint(e,d),y=this._getOverlayPoint(g,t,d),b=this._getOverlayFit(y,t,o,d);if(b.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,g);this._canFitWithFlexibleDimensions(b,y,o)?s.push({position:d,origin:g,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(g,d)}):(!u||u.overlayFit.visibleArea<b.visibleArea)&&(u={overlayFit:b,overlayPoint:y,originPoint:g,position:d,overlayRect:t})}if(s.length){let d=null,g=-1;for(const y of s){const b=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);b>g&&(g=b,d=y)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Tr(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tv),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let o,s;if("center"==t.originX)o=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,d=this._isRtl()?e.left:e.right;o="start"==t.originX?u:d}return s="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:o,y:s}}_getOverlayPoint(e,t,o){let s,u;return s="center"==o.overlayX?-t.width/2:"start"===o.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==o.overlayY?-t.height/2:"top"==o.overlayY?0:-t.height,{x:e.x+s,y:e.y+u}}_getOverlayFit(e,t,o,s){const u=xf(t);let{x:d,y:g}=e,y=this._getOffset(s,"x"),b=this._getOffset(s,"y");y&&(d+=y),b&&(g+=b);let A=0-g,I=g+u.height-o.height,O=this._subtractOverflows(u.width,0-d,d+u.width-o.width),V=this._subtractOverflows(u.height,A,I),W=O*V;return{visibleArea:W,isCompletelyWithinViewport:u.width*u.height===W,fitsInViewportVertically:V===u.height,fitsInViewportHorizontally:O==u.width}}_canFitWithFlexibleDimensions(e,t,o){if(this._hasFlexibleDimensions){const s=o.bottom-t.y,u=o.right-t.x,d=If(this._overlayRef.getConfig().minHeight),g=If(this._overlayRef.getConfig().minWidth),b=e.fitsInViewportHorizontally||null!=g&&g<=u;return(e.fitsInViewportVertically||null!=d&&d<=s)&&b}return!1}_pushOverlayOnScreen(e,t,o){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const s=xf(t),u=this._viewportRect,d=Math.max(e.x+s.width-u.width,0),g=Math.max(e.y+s.height-u.height,0),y=Math.max(u.top-o.top-e.y,0),b=Math.max(u.left-o.left-e.x,0);let E=0,C=0;return E=s.width<=u.width?b||-d:e.x<this._viewportMargin?u.left-o.left-e.x:0,C=s.height<=u.height?y||-g:e.y<this._viewportMargin?u.top-o.top-e.y:0,this._previousPushAmount={x:E,y:C},{x:e.x+E,y:e.y+C}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const o=this._getScrollVisibility(),s=new vC(e,o);this._positionChanges.next(s)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let o,s=e.overlayY;o="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${o} ${s}`}_calculateBoundingBoxRect(e,t){const o=this._viewportRect,s=this._isRtl();let u,d,g,E,C,A;if("top"===t.overlayY)d=e.y,u=o.height-d+this._viewportMargin;else if("bottom"===t.overlayY)g=o.height-e.y+2*this._viewportMargin,u=o.height-g+this._viewportMargin;else{const I=Math.min(o.bottom-e.y+o.top,e.y),O=this._lastBoundingBoxSize.height;u=2*I,d=e.y-I,u>O&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.y-O/2)}if("end"===t.overlayX&&!s||"start"===t.overlayX&&s)A=o.width-e.x+this._viewportMargin,E=e.x-this._viewportMargin;else if("start"===t.overlayX&&!s||"end"===t.overlayX&&s)C=e.x,E=o.right-e.x;else{const I=Math.min(o.right-e.x+o.left,e.x),O=this._lastBoundingBoxSize.width;E=2*I,C=e.x-I,E>O&&!this._isInitialRender&&!this._growAfterOpen&&(C=e.x-O/2)}return{top:d,left:C,bottom:g,right:A,width:E,height:u}}_setBoundingBoxStyles(e,t){const o=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(o.height=Math.min(o.height,this._lastBoundingBoxSize.height),o.width=Math.min(o.width,this._lastBoundingBoxSize.width));const s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;s.height=Ut(o.height),s.top=Ut(o.top),s.bottom=Ut(o.bottom),s.width=Ut(o.width),s.left=Ut(o.left),s.right=Ut(o.right),s.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",s.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(s.maxHeight=Ut(u)),d&&(s.maxWidth=Ut(d))}this._lastBoundingBoxSize=o,Tr(this._boundingBox.style,s)}_resetBoundingBoxStyles(){Tr(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Tr(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const o={},s=this._hasExactPosition(),u=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(s){const E=this._viewportRuler.getViewportScrollPosition();Tr(o,this._getExactOverlayY(t,e,E)),Tr(o,this._getExactOverlayX(t,e,E))}else o.position="static";let g="",y=this._getOffset(t,"x"),b=this._getOffset(t,"y");y&&(g+=`translateX(${y}px) `),b&&(g+=`translateY(${b}px)`),o.transform=g.trim(),d.maxHeight&&(s?o.maxHeight=Ut(d.maxHeight):u&&(o.maxHeight="")),d.maxWidth&&(s?o.maxWidth=Ut(d.maxWidth):u&&(o.maxWidth="")),Tr(this._pane.style,o)}_getExactOverlayY(e,t,o){let s={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o));let d=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return u.y-=d,"bottom"===e.overlayY?s.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":s.top=Ut(u.y),s}_getExactOverlayX(e,t,o){let d,s={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,o)),d=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===d?s.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":s.left=Ut(u.x),s}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),o=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Df(e,o),isOriginOutsideView:dl(e,o),isOverlayClipped:Df(t,o),isOverlayOutsideView:dl(t,o)}}_subtractOverflows(e,...t){return t.reduce((o,s)=>o-Math.max(s,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,o=this._viewportRuler.getViewportScrollPosition();return{top:o.top+this._viewportMargin,left:o.left+this._viewportMargin,right:o.left+e-this._viewportMargin,bottom:o.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&tf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof f.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,o=e.height||0;return{top:e.y,bottom:e.y+o,left:e.x,right:e.x+t,height:o,width:t}}}function Tr(i,e){for(let t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function If(i){if("number"!=typeof i&&null!=i){const[e,t]=i.split(nv);return t&&"px"!==t?null:parseFloat(e)}return i||null}function xf(i){return{top:Math.floor(i.top),right:Math.floor(i.right),bottom:Math.floor(i.bottom),left:Math.floor(i.left),width:Math.floor(i.width),height:Math.floor(i.height)}}const iv="cdk-global-overlay-wrapper";class uc{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(iv),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,o=this._overlayRef.getConfig(),{width:s,height:u,maxWidth:d,maxHeight:g}=o,y=!("100%"!==s&&"100vw"!==s||d&&"100%"!==d&&"100vw"!==d),b=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g);e.position=this._cssPosition,e.marginLeft=y?"0":this._leftOffset,e.marginTop=b?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,y?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=b?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,o=t.style;t.classList.remove(iv),o.justifyContent=o.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let bC=(()=>{class i{constructor(t,o,s,u){this._viewportRuler=t,this._document=o,this._platform=s,this._overlayContainer=u}global(){return new uc}flexibleConnectedTo(t){return new rv(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(gf),f.LFG(K),f.LFG(zt),f.LFG(hl))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),ov=0,Uo=(()=>{class i{constructor(t,o,s,u,d,g,y,b,E,C,A){this.scrollStrategies=t,this._overlayContainer=o,this._componentFactoryResolver=s,this._positionBuilder=u,this._keyboardDispatcher=d,this._injector=g,this._ngZone=y,this._document=b,this._directionality=E,this._location=C,this._outsideClickDispatcher=A}create(t){const o=this._createHostElement(),s=this._createPaneElement(o),u=this._createPortalOutlet(s),d=new Af(t);return d.direction=d.direction||this._directionality.value,new _C(u,o,s,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(t){const o=this._document.createElement("div");return o.id="cdk-overlay-"+ov++,o.classList.add("cdk-overlay-pane"),t.appendChild(o),o}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(f.z2F)),new js(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(Sf),f.LFG(hl),f.LFG(f._Vd),f.LFG(bC),f.LFG(Mf),f.LFG(f.zs3),f.LFG(f.R0b),f.LFG(K),f.LFG(oo),f.LFG(Oe),f.LFG(ev))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const sv=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],cc=new f.OlP("cdk-connected-overlay-scroll-strategy");let Of=(()=>{class i{constructor(t){this.elementRef=t}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),i})(),fl=(()=>{class i{constructor(t,o,s,u,d){this._overlay=t,this._dir=d,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=ti.w0.EMPTY,this._attachSubscription=ti.w0.EMPTY,this._detachSubscription=ti.w0.EMPTY,this._positionSubscription=ti.w0.EMPTY,this.viewportMargin=0,this.open=!1,this.disableClose=!1,this.backdropClick=new f.vpe,this.positionChange=new f.vpe,this.attach=new f.vpe,this.detach=new f.vpe,this.overlayKeydown=new f.vpe,this.overlayOutsideClick=new f.vpe,this._templatePortal=new Us(o,s),this._scrollStrategyFactory=u,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=yn(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=yn(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=yn(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=yn(t)}get push(){return this._push}set push(t){this._push=yn(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._attachSubscription.unsubscribe(),this._detachSubscription.unsubscribe(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this._overlayRef&&this._overlayRef.dispose()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){(!this.positions||!this.positions.length)&&(this.positions=sv);const t=this._overlayRef=this._overlay.create(this._buildConfig());this._attachSubscription=t.attachments().subscribe(()=>this.attach.emit()),this._detachSubscription=t.detachments().subscribe(()=>this.detach.emit()),t.keydownEvents().subscribe(o=>{this.overlayKeydown.next(o),27===o.keyCode&&!this.disableClose&&!Vo(o)&&(o.preventDefault(),this._detachOverlay())}),this._overlayRef.outsidePointerEvents().subscribe(o=>{this.overlayOutsideClick.next(o)})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),o=new Af({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(o.width=this.width),(this.height||0===this.height)&&(o.height=this.height),(this.minWidth||0===this.minWidth)&&(o.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(o.minHeight=this.minHeight),this.backdropClass&&(o.backdropClass=this.backdropClass),this.panelClass&&(o.panelClass=this.panelClass),o}_updatePositionStrategy(t){const o=this.positions.map(s=>({originX:s.originX,originY:s.originY,overlayX:s.overlayX,overlayY:s.overlayY,offsetX:s.offsetX||this.offsetX,offsetY:s.offsetY||this.offsetY,panelClass:s.panelClass||void 0}));return t.setOrigin(this._getFlexibleConnectedPositionStrategyOrigin()).withPositions(o).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this._getFlexibleConnectedPositionStrategyOrigin());return this._updatePositionStrategy(t),t}_getFlexibleConnectedPositionStrategyOrigin(){return this.origin instanceof Of?this.origin.elementRef:this.origin}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||this._overlayRef.attach(this._templatePortal),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe(),this.positionChange.observers.length>0&&(this._positionSubscription=this._position.positionChanges.pipe(function(i,e=!1){return(0,Vn.e)((t,o)=>{let s=0;t.subscribe(new vn.Q(o,u=>{const d=i(u,s++);(d||e)&&o.next(u),!d&&o.complete()}))})}(()=>this.positionChange.observers.length>0)).subscribe(t=>{this.positionChange.emit(t),0===this.positionChange.observers.length&&this._positionSubscription.unsubscribe()}))}_detachOverlay(){this._overlayRef&&this._overlayRef.detach(),this._backdropSubscription.unsubscribe(),this._positionSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(Uo),f.Y36(f.Rgc),f.Y36(f.s_b),f.Y36(cc),f.Y36(oo,8))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{origin:["cdkConnectedOverlayOrigin","origin"],positions:["cdkConnectedOverlayPositions","positions"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],open:["cdkConnectedOverlayOpen","open"],disableClose:["cdkConnectedOverlayDisableClose","disableClose"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown",overlayOutsideClick:"overlayOutsideClick"},exportAs:["cdkConnectedOverlay"],features:[f.TTD]}),i})();const av={provide:cc,deps:[Uo],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};let hc=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[Uo,av],imports:[[Ku,YE,Ry],Ry]}),i})();class dr extends gt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:o}=this;if(e)throw t;return this._throwIfClosed(),o}next(e){super.next(this._value=e)}}var _n=x(7384);function lv(i,e=lf.z){return(0,Vn.e)((t,o)=>{let s=null,u=null,d=null;const g=()=>{if(s){s.unsubscribe(),s=null;const b=u;u=null,o.next(b)}};function y(){const b=d+i,E=e.now();if(E<b)return s=this.schedule(void 0,b-E),void o.add(s);g()}t.subscribe(new vn.Q(o,b=>{u=b,d=e.now(),s||(s=e.schedule(y,i),o.add(s))},()=>{g(),o.complete()},void 0,()=>{u=s=null}))})}var pl=x(4623);function Rf(i,e=pl.y){return i=null!=i?i:cv,(0,Vn.e)((t,o)=>{let s,u=!0;t.subscribe(new vn.Q(o,d=>{const g=e(d);(u||!i(s,g))&&(u=!1,s=g,o.next(d))}))})}function cv(i,e){return i===e}class AC extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new gt.x,this._typeaheadSubscription=ti.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new gt.x,this.change=new gt.x,e instanceof f.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const s=t.toArray().indexOf(this._activeItem);s>-1&&s!==this._activeItemIndex&&(this._activeItemIndex=s)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,_n.b)(t=>this._pressedLetters.push(t)),lv(e),In(()=>this._pressedLetters.length>0),(0,ct.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const o=this._getItemsArray();for(let s=1;s<o.length+1;s++){const u=(this._activeItemIndex+s)%o.length,d=o[u];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(u);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,s=["altKey","ctrlKey","metaKey","shiftKey"].every(u=>!e[u]||this._allowedModifierKeys.indexOf(u)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&s){this.setNextItemActive();break}return;case 38:if(this._vertical&&s){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&s){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&s){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&s){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&s){this.setLastItemActive();break}return;default:return void((s||Vo(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),o="number"==typeof e?e:t.indexOf(e),s=t[o];this._activeItem=null==s?null:s,this._activeItemIndex=o}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let o=1;o<=t.length;o++){const s=(this._activeItemIndex+e*o+t.length)%t.length;if(!this._skipPredicateFn(t[s]))return void this.setActiveItem(s)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const o=this._getItemsArray();if(o[e]){for(;this._skipPredicateFn(o[e]);)if(!o[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof f.n_E?this._items.toArray():this._items}}{setActiveItem(e){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(e),this.activeItem&&this.activeItem.setActiveStyles()}}let hv=(()=>{class i{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function(i){return!!(i.offsetWidth||i.offsetHeight||"function"==typeof i.getClientRects&&i.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const o=function(i){try{return i.frameElement}catch(e){return null}}(function(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}(t));if(o&&(-1===mv(o)||!this.isVisible(o)))return!1;let s=t.nodeName.toLowerCase(),u=mv(t);return t.hasAttribute("contenteditable")?-1!==u:!("iframe"===s||"object"===s||this._platform.WEBKIT&&this._platform.IOS&&!function(i){let e=i.nodeName.toLowerCase(),t="input"===e&&i.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===s?!!t.hasAttribute("controls")&&-1!==u:"video"===s?-1!==u&&(null!==u||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,o){return function(i){return!function(i){return function(i){return"input"==i.nodeName.toLowerCase()}(i)&&"hidden"==i.type}(i)&&(function(i){let e=i.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(i)||function(i){return function(i){return"a"==i.nodeName.toLowerCase()}(i)&&i.hasAttribute("href")}(i)||i.hasAttribute("contenteditable")||Pf(i))}(t)&&!this.isDisabled(t)&&((null==o?void 0:o.ignoreVisibility)||this.isVisible(t))}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(zt))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Pf(i){if(!i.hasAttribute("tabindex")||void 0===i.tabIndex)return!1;let e=i.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function mv(i){if(!Pf(i))return null;const e=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class yv{constructor(e,t,o,s,u=!1){this._element=e,this._checker=t,this._ngZone=o,this._document=s,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,u||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const o=this._getFirstTabbableElement(t);return null==o||o.focus(e),!!o}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=0;o<t.length;o++){const s=t[o].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[o]):null;if(s)return s}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let o=t.length-1;o>=0;o--){const s=t[o].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[o]):null;if(s)return s}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe((0,Ur.q)(1)).subscribe(e)}}let Lf=(()=>{class i{constructor(t,o,s){this._checker=t,this._ngZone=o,this._document=s}create(t,o=!1){return new yv(t,this._checker,this._ngZone,this._document,o)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(hv),f.LFG(f.R0b),f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function gc(i){return 0===i.offsetX&&0===i.offsetY}function mc(i){const e=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const WI=new f.OlP("cdk-input-modality-detector-options"),xC={ignoreKeys:[18,17,224,91,16]},zs=Wu({passive:!0,capture:!0});let OC=(()=>{class i{constructor(t,o,s,u){this._platform=t,this._mostRecentTarget=null,this._modality=new dr(null),this._lastTouchMs=0,this._onKeydown=d=>{var g,y;(null==(y=null==(g=this._options)?void 0:g.ignoreKeys)?void 0:y.some(b=>b===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Lo(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next(gc(d)?"keyboard":"mouse"),this._mostRecentTarget=Lo(d))},this._onTouchstart=d=>{mc(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Lo(d))},this._options=Ne(Ne({},xC),u),this.modalityDetected=this._modality.pipe(In((e,t)=>1<=t)),this.modalityChanged=this.modalityDetected.pipe(Rf()),t.isBrowser&&o.runOutsideAngular(()=>{s.addEventListener("keydown",this._onKeydown,zs),s.addEventListener("mousedown",this._onMousedown,zs),s.addEventListener("touchstart",this._onTouchstart,zs)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,zs),document.removeEventListener("mousedown",this._onMousedown,zs),document.removeEventListener("touchstart",this._onTouchstart,zs))}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(zt),f.LFG(f.R0b),f.LFG(K),f.LFG(WI,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const bv=new f.OlP("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),RC=new f.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let KI=(()=>{class i{constructor(t,o,s,u){this._ngZone=o,this._defaultOptions=u,this._document=s,this._liveElement=t||this._createLiveElement()}announce(t,...o){const s=this._defaultOptions;let u,d;return 1===o.length&&"number"==typeof o[0]?d=o[0]:[u,d]=o,this.clear(),clearTimeout(this._previousTimeout),u||(u=s&&s.politeness?s.politeness:"polite"),null==d&&s&&(d=s.duration),this._liveElement.setAttribute("aria-live",u),this._ngZone.runOutsideAngular(()=>new Promise(g=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,g(),"number"==typeof d&&(this._previousTimeout=setTimeout(()=>this.clear(),d))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){var t;clearTimeout(this._previousTimeout),null==(t=this._liveElement)||t.remove(),this._liveElement=null}_createLiveElement(){const t="cdk-live-announcer-element",o=this._document.getElementsByClassName(t),s=this._document.createElement("div");for(let u=0;u<o.length;u++)o[u].remove();return s.classList.add(t),s.classList.add("cdk-visually-hidden"),s.setAttribute("aria-atomic","true"),s.setAttribute("aria-live","polite"),this._document.body.appendChild(s),s}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(bv,8),f.LFG(f.R0b),f.LFG(K),f.LFG(RC,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const wv=new f.OlP("cdk-focus-monitor-default-options"),yc=Wu({passive:!0,capture:!0});let vc=(()=>{class i{constructor(t,o,s,u,d){this._ngZone=t,this._platform=o,this._inputModalityDetector=s,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new gt.x,this._rootNodeFocusAndBlurListener=g=>{const y=Lo(g),b="focus"===g.type?this._onFocus:this._onBlur;for(let E=y;E;E=E.parentElement)b.call(this,g,E)},this._document=u,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(t,o=!1){const s=Vi(t);if(!this._platform.isBrowser||1!==s.nodeType)return rt(null);const u=function(i){if(function(){if(null==ol){const i="undefined"!=typeof document?document.head:null;ol=!(!i||!i.createShadowRoot&&!i.attachShadow)}return ol}()){const e=i.getRootNode?i.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(s)||this._getDocument(),d=this._elementInfo.get(s);if(d)return o&&(d.checkChildren=!0),d.subject;const g={checkChildren:o,subject:new gt.x,rootNode:u};return this._elementInfo.set(s,g),this._registerGlobalListeners(g),g.subject}stopMonitoring(t){const o=Vi(t),s=this._elementInfo.get(o);s&&(s.subject.complete(),this._setClasses(o),this._elementInfo.delete(o),this._removeGlobalListeners(s))}focusVia(t,o,s){const u=Vi(t);u===this._getDocument().activeElement?this._getClosestElementsInfo(u).forEach(([g,y])=>this._originChanged(g,o,y)):(this._setOrigin(o),"function"==typeof u.focus&&u.focus(s))}ngOnDestroy(){this._elementInfo.forEach((t,o)=>this.stopMonitoring(o))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!(null==t?void 0:t.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(t,o){t.classList.toggle("cdk-focused",!!o),t.classList.toggle("cdk-touch-focused","touch"===o),t.classList.toggle("cdk-keyboard-focused","keyboard"===o),t.classList.toggle("cdk-mouse-focused","mouse"===o),t.classList.toggle("cdk-program-focused","program"===o)}_setOrigin(t,o=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&o,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,o){const s=this._elementInfo.get(o),u=Lo(t);!s||!s.checkChildren&&o!==u||this._originChanged(o,this._getFocusOrigin(u),s)}_onBlur(t,o){const s=this._elementInfo.get(o);!s||s.checkChildren&&t.relatedTarget instanceof Node&&o.contains(t.relatedTarget)||(this._setClasses(o),this._emitOrigin(s.subject,null))}_emitOrigin(t,o){this._ngZone.run(()=>t.next(o))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const o=t.rootNode,s=this._rootNodeFocusListenerCount.get(o)||0;s||this._ngZone.runOutsideAngular(()=>{o.addEventListener("focus",this._rootNodeFocusAndBlurListener,yc),o.addEventListener("blur",this._rootNodeFocusAndBlurListener,yc)}),this._rootNodeFocusListenerCount.set(o,s+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kn(this._stopInputModalityDetector)).subscribe(u=>{this._setOrigin(u,!0)}))}_removeGlobalListeners(t){const o=t.rootNode;if(this._rootNodeFocusListenerCount.has(o)){const s=this._rootNodeFocusListenerCount.get(o);s>1?this._rootNodeFocusListenerCount.set(o,s-1):(o.removeEventListener("focus",this._rootNodeFocusAndBlurListener,yc),o.removeEventListener("blur",this._rootNodeFocusAndBlurListener,yc),this._rootNodeFocusListenerCount.delete(o))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,o,s){this._setClasses(t,o),this._emitOrigin(s.subject,o),this._lastFocusOrigin=o}_getClosestElementsInfo(t){const o=[];return this._elementInfo.forEach((s,u)=>{(u===t||s.checkChildren&&u.contains(t))&&o.push([u,s])}),o}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.R0b),f.LFG(zt),f.LFG(OC),f.LFG(K,8),f.LFG(wv,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const PC="cdk-high-contrast-black-on-white",kC="cdk-high-contrast-white-on-black",Ev="cdk-high-contrast-active";let ZI=(()=>{class i{constructor(t,o){this._platform=t,this._document=o}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const o=this._document.defaultView||window,s=o&&o.getComputedStyle?o.getComputedStyle(t):null,u=(s&&s.backgroundColor||"").replace(/ /g,"");switch(t.remove(),u){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(Ev),t.remove(PC),t.remove(kC),this._hasCheckedHighContrastMode=!0;const o=this.getHighContrastMode();1===o?(t.add(Ev),t.add(PC)):2===o&&(t.add(Ev),t.add(kC))}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(zt),f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class LC{}const ao="*";function ri(i,e){return{type:7,name:i,definitions:e,options:{}}}function jo(i,e=null){return{type:4,styles:e,timings:i}}function Uf(i,e=null){return{type:2,steps:i,options:e}}function hr(i){return{type:6,styles:i,offset:null}}function Ho(i,e,t){return{type:0,name:i,styles:e,options:t}}function qs(i,e,t=null){return{type:1,expr:i,animation:e,options:t}}function Dv(i=null){return{type:9,options:i}}function jf(i,e,t=null){return{type:11,selector:i,animation:e,options:t}}function Hf(i){Promise.resolve(null).then(i)}class $s{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Sv{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,s=0;const u=this.players.length;0==u?Hf(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++t==u&&this._onFinish()}),d.onDestroy(()=>{++o==u&&this._onDestroy()}),d.onStart(()=>{++s==u&&this._onStart()})}),this.totalTime=this.players.reduce((d,g)=>Math.max(d,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const s=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(s)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function qo(){return"undefined"!=typeof window&&void 0!==window.document}function gl(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Mr(i){switch(i.length){case 0:return new $s;case 1:return i[0];default:return new Sv(i)}}function Ws(i,e,t,o,s={},u={}){const d=[],g=[];let y=-1,b=null;if(o.forEach(E=>{const C=E.offset,A=C==y,I=A&&b||{};Object.keys(E).forEach(O=>{let V=O,W=E[O];if("offset"!==O)switch(V=e.normalizePropertyName(V,d),W){case"!":W=s[O];break;case ao:W=u[O];break;default:W=e.normalizeStyleValue(O,V,W,d)}I[V]=W}),A||g.push(I),b=I,y=C}),d.length){const E="\n - ";throw new Error(`Unable to animate due to the following errors:${E}${d.join(E)}`)}return g}function lo(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&Gf(t,"start",i)));break;case"done":i.onDone(()=>o(t&&Gf(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&Gf(t,"destroy",i)))}}function Gf(i,e,t){const o=t.totalTime,u=_c(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),d=i._data;return null!=d&&(u._data=d),u}function _c(i,e,t,o,s="",u=0,d){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:s,totalTime:u,disabled:!!d}}function fr(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function bc(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let ml=(i,e)=>!1,wc=(i,e)=>!1,yl=(i,e,t)=>[];const Av=gl();(Av||"undefined"!=typeof Element)&&(ml=qo()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),wc=(()=>{if(Av||Element.prototype.matches)return(i,e)=>i.matches(e);{const i=Element.prototype,e=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return e?(t,o)=>e.apply(t,[o]):wc}})(),yl=(i,e,t)=>{let o=[];if(t){const s=i.querySelectorAll(e);for(let u=0;u<s.length;u++)o.push(s[u])}else{const s=i.querySelector(e);s&&o.push(s)}return o});let Ys=null,zf=!1;function Ec(i){Ys||(Ys=("undefined"!=typeof document?document.body:null)||{},zf=!!Ys.style&&"WebkitAppearance"in Ys.style);let e=!0;return Ys.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in Ys.style,!e&&zf&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in Ys.style)),e}const Cc=wc,qf=ml,$f=yl;function pr(i){const e={};return Object.keys(i).forEach(t=>{const o=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[o]=i[t]}),e}let Mv=(()=>{class i{validateStyleProperty(t){return Ec(t)}matchesElement(t,o){return Cc(t,o)}containsElement(t,o){return qf(t,o)}query(t,o,s){return $f(t,o,s)}computeStyle(t,o,s){return s||""}animate(t,o,s,u,d,g=[],y){return new $s(s,u)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Wf=(()=>{class i{}return i.NOOP=new Mv,i})();const xv="ng-enter",Dc="ng-leave",Sc="ng-trigger",Ac=".ng-trigger",Rv="ng-animating",Tc=".ng-animating";function $o(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Mc(parseFloat(e[1]),e[2])}function Mc(i,e){return"s"===e?1e3*i:i}function Ic(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let s,u=0,d="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};s=Mc(parseFloat(g[1]),g[2]);const y=g[3];null!=y&&(u=Mc(parseFloat(y),g[4]));const b=g[5];b&&(d=b)}else s=i;if(!t){let g=!1,y=e.length;s<0&&(e.push("Duration values below 0 are not allowed for this animation step."),g=!0),u<0&&(e.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&e.splice(y,0,`The provided timing value "${i}" is invalid.`)}return{duration:s,delay:u,easing:d}}(i,e,t)}function Wo(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function uo(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else Wo(i,t);return t}function ii(i,e,t){return t?e+":"+t+";":""}function xc(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=ii(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=ii(0,Fc(t),i.style[t]));i.setAttribute("style",e)}function bi(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const s=Zf(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[s]),i.style[s]=e[o]}),gl()&&xc(i))}function Yo(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=Zf(t);i.style[o]=""}),gl()&&xc(i))}function Oc(i){return Array.isArray(i)?1==i.length?i[0]:Uf(i):i}const Kf=new RegExp("{{\\s*(.+?)\\s*}}","g");function Pv(i){let e=[];if("string"==typeof i){let t;for(;t=Kf.exec(i);)e.push(t[1]);Kf.lastIndex=0}return e}function Rc(i,e,t){const o=i.toString(),s=o.replace(Kf,(u,d)=>{let g=e[d];return e.hasOwnProperty(d)||(t.push(`Please provide a value for the animation param ${d}`),g=""),g.toString()});return s==o?i:s}function Ks(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const HC=/-+([a-z0-9])/g;function Zf(i){return i.replace(HC,(...e)=>e[1].toUpperCase())}function Fc(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Pc(i,e){return 0===i||0===e}function kv(i,e,t){const o=Object.keys(t);if(o.length&&e.length){let u=e[0],d=[];if(o.forEach(g=>{u.hasOwnProperty(g)||d.push(g),u[g]=t[g]}),d.length)for(var s=1;s<e.length;s++){let g=e[s];d.forEach(function(y){g[y]=vl(i,y)})}}return e}function Qn(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function vl(i,e){return window.getComputedStyle(i)[e]}function GC(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,e,t){if(":"==i[0]){const y=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof y)return void e.push(y);i=y}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const s=o[1],u=o[2],d=o[3];e.push(Xf(s,d));"<"==u[0]&&!("*"==s&&"*"==d)&&e.push(Xf(d,s))}(o,t,e)):t.push(i),t}const Jf=new Set(["true","1"]),kc=new Set(["false","0"]);function Xf(i,e){const t=Jf.has(i)||kc.has(i),o=Jf.has(e)||kc.has(e);return(s,u)=>{let d="*"==i||i==s,g="*"==e||e==u;return!d&&t&&"boolean"==typeof s&&(d=s?Jf.has(i):kc.has(i)),!g&&o&&"boolean"==typeof u&&(g=u?Jf.has(e):kc.has(e)),d&&g}}const Nv=new RegExp("s*:selfs*,?","g");function Nc(i,e,t){return new zi(i).build(e,t)}class zi{constructor(e){this._driver=e}build(e,t){const o=new $C(t);return this._resetContextStyleTimingState(o),Qn(this,Oc(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,s=t.depCount=0;const u=[],d=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const y=g,b=y.name;b.toString().split(/\s*,\s*/).forEach(E=>{y.name=E,u.push(this.visitState(y,t))}),y.name=b}else if(1==g.type){const y=this.visitTransition(g,t);o+=y.queryCount,s+=y.depCount,d.push(y)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:u,transitions:d,queryCount:o,depCount:s,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(o.containsDynamicStyles){const u=new Set,d=s||{};if(o.styles.forEach(g=>{if(Zs(g)){const y=g;Object.keys(y).forEach(b=>{Pv(y[b]).forEach(E=>{d.hasOwnProperty(E)||u.add(E)})})}}),u.size){const g=Ks(u.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:e.name,style:o,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=Qn(this,Oc(e.animation),t);return{type:1,matchers:GC(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:qi(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>Qn(this,o,t)),options:qi(e.options)}}visitGroup(e,t){const o=t.currentTime;let s=0;const u=e.steps.map(d=>{t.currentTime=o;const g=Qn(this,d,t);return s=Math.max(s,t.currentTime),g});return t.currentTime=s,{type:3,steps:u,options:qi(e.options)}}visitAnimate(e,t){const o=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return Ko(Ic(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=Ko(0,0,"");return u.dynamic=!0,u.strValue=o,u}return t=t||Ic(o,e),Ko(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let s,u=e.styles?e.styles:hr({});if(5==u.type)s=this.visitKeyframes(u,t);else{let d=e.styles,g=!1;if(!d){g=!0;const b={};o.easing&&(b.easing=o.easing),d=hr(b)}t.currentTime+=o.duration+o.delay;const y=this.visitStyle(d,t);y.isEmptyStep=g,s=y}return t.currentAnimateTimings=null,{type:4,timings:o,style:s,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(d=>{"string"==typeof d?d==ao?o.push(d):t.errors.push(`The provided style string value ${d} is not allowed.`):o.push(d)}):o.push(e.styles);let s=!1,u=null;return o.forEach(d=>{if(Zs(d)){const g=d,y=g.easing;if(y&&(u=y,delete g.easing),!s)for(let b in g)if(g[b].toString().indexOf("{{")>=0){s=!0;break}}}),{type:6,styles:o,easing:u,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let s=t.currentTime,u=t.currentTime;o&&u>0&&(u-=o.duration+o.delay),e.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const y=t.collectedStyles[t.currentQuerySelector],b=y[g];let E=!0;b&&(u!=s&&u>=b.startTime&&s<=b.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${b.startTime}ms" and "${b.endTime}ms" is also being animated in a parallel animation between the times of "${u}ms" and "${s}ms"`),E=!1),u=b.startTime),E&&(y[g]={startTime:u,endTime:s}),t.options&&function(i,e,t){const o=e.params||{},s=Pv(i);s.length&&s.forEach(u=>{o.hasOwnProperty(u)||t.push(`Unable to resolve the local animation param ${u} in the given list of values`)})}(d[g],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let u=0;const d=[];let g=!1,y=!1,b=0;const E=e.steps.map(ie=>{const ge=this._makeStyleAst(ie,t);let me=null!=ge.offset?ge.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(Zs(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(Zs(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(ge.styles),ke=0;return null!=me&&(u++,ke=ge.offset=me),y=y||ke<0||ke>1,g=g||ke<b,b=ke,d.push(ke),ge});y&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const C=e.steps.length;let A=0;u>0&&u<C?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==u&&(A=1/(C-1));const I=C-1,O=t.currentTime,V=t.currentAnimateTimings,W=V.duration;return E.forEach((ie,ge)=>{const me=A>0?ge==I?1:A*ge:d[ge],ke=me*W;t.currentTime=O+V.delay+ke,V.duration=ke,this._validateStyleAst(ie,t),ie.offset=me,o.styles.push(ie)}),o}visitReference(e,t){return{type:8,animation:Qn(this,Oc(e.animation),t),options:qi(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:qi(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:qi(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[u,d]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(Nv,"")),i=i.replace(/@\*/g,Ac).replace(/@\w+/g,t=>Ac+"-"+t.substr(1)).replace(/:animating/g,Tc),[i,e]}(e.selector);t.currentQuerySelector=o.length?o+" "+u:u,fr(t.collectedStyles,t.currentQuerySelector,{});const g=Qn(this,Oc(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:u,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:g,originalSelector:e.selector,options:qi(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ic(e.timings,t.errors,!0);return{type:12,animation:Qn(this,Oc(e.animation),t),timings:o,options:null}}}class $C{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Zs(i){return!Array.isArray(i)&&"object"==typeof i}function qi(i){return i?(i=Wo(i)).params&&(i.params=function(i){return i?Wo(i):null}(i.params)):i={},i}function Ko(i,e,t){return{duration:i,delay:e,easing:t}}function np(i,e,t,o,s,u,d=null,g=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:s,delay:u,totalTime:s+u,easing:d,subTimeline:g}}class Qs{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Uv=new RegExp(":enter","g"),rp=new RegExp(":leave","g");function ip(i,e,t,o,s,u={},d={},g,y,b=[]){return(new YC).buildKeyframes(i,e,t,o,s,u,d,g,y,b)}class YC{buildKeyframes(e,t,o,s,u,d,g,y,b,E=[]){b=b||new Qs;const C=new co(e,t,b,s,u,E,[]);C.options=y,C.currentTimeline.setStyles([d],null,C.errors,y),Qn(this,o,C);const A=C.timelines.filter(I=>I.containsAnimation());if(A.length&&Object.keys(g).length){const I=A[A.length-1];I.allowOnlyTimelineStyles()||I.setStyles([g],null,C.errors,y)}return A.length?A.map(I=>I.buildKeyframes()):[np(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.consume(t.element);if(o){const s=t.createSubContext(e.options),u=t.currentTimeline.currentTime,d=this._visitSubInstructions(o,s,s.options);u!=d&&t.transformIntoNewTimeline(d)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let u=t.currentTimeline.currentTime;const d=null!=o.duration?$o(o.duration):null,g=null!=o.delay?$o(o.delay):null;return 0!==d&&e.forEach(y=>{const b=t.appendInstructionToTimeline(y,d,g);u=Math.max(u,b.duration+b.delay)}),u}visitReference(e,t){t.updateOptions(e.options,!0),Qn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let s=t;const u=e.options;if(u&&(u.params||u.delay)&&(s=t.createSubContext(u),s.transformIntoNewTimeline(),null!=u.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=bl);const d=$o(u.delay);s.delayNextStep(d)}e.steps.length&&(e.steps.forEach(d=>Qn(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>o&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let s=t.currentTimeline.currentTime;const u=e.options&&e.options.delay?$o(e.options.delay):0;e.steps.forEach(d=>{const g=t.createSubContext(e.options);u&&g.delayNextStep(u),Qn(this,d,g),s=Math.max(s,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(d=>t.currentTimeline.mergeTimelineCollectedStyles(d)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return Ic(t.params?Rc(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),s.snapshotCurrentStyles());const u=e.style;5==u.type?this.visitKeyframes(u,t):(t.incrementTime(o.duration),this.visitStyle(u,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,s=t.currentAnimateTimings;!s&&o.getCurrentStyleProperties().length&&o.forwardFrame();const u=s&&s.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(u):o.setStyles(e.styles,u,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,s=t.currentTimeline.duration,u=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,e.styles.forEach(y=>{g.forwardTime((y.offset||0)*u),g.setStyles(y.styles,y.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(s+u),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,s=e.options||{},u=s.delay?$o(s.delay):0;u&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bl);let d=o;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=g.length;let y=null;g.forEach((b,E)=>{t.currentQueryIndex=E;const C=t.createSubContext(e.options,b);u&&C.delayNextStep(u),b===t.element&&(y=C.currentTimeline),Qn(this,e.animation,C),C.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,C.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(d),y&&(t.currentTimeline.mergeTimelineCollectedStyles(y),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,s=t.currentTimeline,u=e.timings,d=Math.abs(u.duration),g=d*(t.currentQueryTotal-1);let y=d*t.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":y=g-y;break;case"full":y=o.currentStaggerTime}const E=t.currentTimeline;y&&E.delayNextStep(y);const C=E.currentTime;Qn(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=s.currentTime-C+(s.startTime-o.currentTimeline.startTime)}}const bl={};class co{constructor(e,t,o,s,u,d,g,y){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=s,this._leaveClassName=u,this.errors=d,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bl,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new wl(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let s=this.options;null!=o.duration&&(s.duration=$o(o.duration)),null!=o.delay&&(s.delay=$o(o.delay));const u=o.params;if(u){let d=s.params;d||(d=this.options.params={}),Object.keys(u).forEach(g=>{(!t||!d.hasOwnProperty(g))&&(d[g]=Rc(u[g],d,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(s=>{o[s]=t[s]})}}return e}createSubContext(e=null,t,o){const s=t||this.element,u=new co(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,o||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(e),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(e){return this.previousNode=bl,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},u=new KC(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(u),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,s,u,d){let g=[];if(s&&g.push(this.element),e.length>0){e=(e=e.replace(Uv,"."+this._enterClassName)).replace(rp,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=o);0!==o&&(b=o<0?b.slice(b.length+o,b.length):b.slice(0,o)),g.push(...b)}return!u&&0==g.length&&d.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class wl{constructor(e,t,o,s){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wl(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ao,this._currentKeyframe[t]=ao}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,s){t&&(this._previousKeyframe.easing=t);const u=s&&s.params||{},d=function(i,e){const t={};let o;return i.forEach(s=>{"*"===s?(o=o||Object.keys(e),o.forEach(u=>{t[u]=ao})):uo(s,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(d).forEach(g=>{const y=Rc(d[g],u,o);this._pendingStyles[g]=y,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:ao),this._updateStyle(g,y)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],s=e._styleSummary[t];(!o||s.time>o.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((g,y)=>{const b=uo(g,!0);Object.keys(b).forEach(E=>{const C=b[E];"!"==C?e.add(E):C==ao&&t.add(E)}),o||(b.offset=y/this.duration),s.push(b)});const u=e.size?Ks(e.values()):[],d=t.size?Ks(t.values()):[];if(o){const g=s[0],y=Wo(g);g.offset=0,y.offset=1,s=[g,y]}return np(this.element,s,u,d,this.duration,this.startTime,this.easing,!1)}}class KC extends wl{constructor(e,t,o,s,u,d,g=!1){super(e,t,d.delay),this.keyframes=o,this.preStyleProps=s,this.postStyleProps=u,this._stretchStartingKeyframe=g,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const u=[],d=o+t,g=t/d,y=uo(e[0],!1);y.offset=0,u.push(y);const b=uo(e[0],!1);b.offset=jv(g),u.push(b);const E=e.length-1;for(let C=1;C<=E;C++){let A=uo(e[C],!1);A.offset=jv((t+A.offset*o)/d),u.push(A)}o=d,t=0,s="",e=u}return np(this.element,e,this.preStyleProps,this.postStyleProps,o,t,s,!0)}}function jv(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class op{}class ZC extends op{normalizePropertyName(e,t){return Zf(e)}normalizeStyleValue(e,t,o,s){let u="";const d=o.toString().trim();if(jr[t]&&0!==o&&"0"!==o)if("number"==typeof o)u="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&s.push(`Please provide a CSS unit value for ${e}:${o}`)}return d+u}}const jr=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function ap(i,e,t,o,s,u,d,g,y,b,E,C,A){return{type:0,element:i,triggerName:e,isRemovalTransition:s,fromState:t,fromStyles:u,toState:o,toStyles:d,timelines:g,queriedElements:y,preStyleProps:b,postStyleProps:E,totalTime:C,errors:A}}const Vc={};class lp{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,s){return function(i,e,t,o,s){return i.some(u=>u(e,t,o,s))}(this.ast.matchers,e,t,o,s)}buildStyles(e,t,o){const s=this._stateStyles["*"],u=this._stateStyles[e],d=s?s.buildStyles(t,o):{};return u?u.buildStyles(t,o):d}build(e,t,o,s,u,d,g,y,b,E){const C=[],A=this.ast.options&&this.ast.options.params||Vc,O=this.buildStyles(o,g&&g.params||Vc,C),V=y&&y.params||Vc,W=this.buildStyles(s,V,C),ie=new Set,ge=new Map,me=new Map,ke="void"===s,Ve={params:Ne(Ne({},A),V)},ht=E?[]:ip(e,t,this.ast.animation,u,d,O,W,Ve,b,C);let xt=0;if(ht.forEach(Fr=>{xt=Math.max(Fr.duration+Fr.delay,xt)}),C.length)return ap(t,this._triggerName,o,s,ke,O,W,[],[],ge,me,xt,C);ht.forEach(Fr=>{const Ri=Fr.element,Qm=fr(ge,Ri,{});Fr.preStyleProps.forEach(Du=>Qm[Du]=!0);const Jm=fr(me,Ri,{});Fr.postStyleProps.forEach(Du=>Jm[Du]=!0),Ri!==t&&ie.add(Ri)});const pi=Ks(ie.values());return ap(t,this._triggerName,o,s,ke,O,W,ht,pi,ge,me,xt)}}class QC{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},s=Wo(this.defaultParams);return Object.keys(e).forEach(u=>{const d=e[u];null!=d&&(s[u]=d)}),this.styles.styles.forEach(u=>{if("string"!=typeof u){const d=u;Object.keys(d).forEach(g=>{let y=d[g];y.length>1&&(y=Rc(y,s,t));const b=this.normalizer.normalizePropertyName(g,t);y=this.normalizer.normalizeStyleValue(g,b,y,t),o[b]=y})}}),o}}class XC{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(s=>{this.states[s.name]=new QC(s.style,s.options&&s.options.params||{},o)}),up(this.states,"true","1"),up(this.states,"false","0"),t.transitions.forEach(s=>{this.transitionFactories.push(new lp(e,s,this.states))}),this.fallbackTransition=function(i,e,t){return new lp(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,s){return this.transitionFactories.find(d=>d.match(e,t,o,s))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function up(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const ox=new Qs;class Gv{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],s=Nc(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,o){const s=e.element,u=Ws(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(s,u,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const s=[],u=this._animations[e];let d;const g=new Map;if(u?(d=ip(this._driver,t,u,xv,Dc,{},{},o,ox,s),d.forEach(E=>{const C=fr(g,E.element,{});E.postStyleProps.forEach(A=>C[A]=null)})):(s.push("The requested animation doesn't exist or has already been destroyed"),d=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);g.forEach((E,C)=>{Object.keys(E).forEach(A=>{E[A]=this._driver.computeStyle(C,A,ao)})});const b=Mr(d.map(E=>{const C=g.get(E.element);return this._buildPlayer(E,{},C)}));return this._playersById[e]=b,b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,s){const u=_c(t,"","","");return lo(this._getPlayer(e),o,u,s),()=>{}}command(e,t,o,s){if("register"==o)return void this.register(e,s[0]);if("create"==o)return void this.create(e,t,s[0]||{});const u=this._getPlayer(e);switch(o){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const zv="ng-animate-queued",nD="ng-animate-disabled",rD=".ng-animate-disabled",qv=[],dp={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},sx={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jt="__ng_removed";class $v{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=null!=(i=o?e.value:e)?i:null,o){const u=Wo(e);delete u.value,this.options=u}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(s=>{null==o[s]&&(o[s]=t[s])})}}}const Bc="void",Uc=new $v(Bc);class Wv{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Hr(t,this._hostClassName)}listen(e,t,o,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=o)&&"done"!=i)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);var i;const u=fr(this._elementListeners,e,[]),d={name:t,phase:o,callback:s};u.push(d);const g=fr(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(Hr(e,Sc),Hr(e,Sc+"-"+t),g[t]=Uc),()=>{this._engine.afterFlush(()=>{const y=u.indexOf(d);y>=0&&u.splice(y,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,s=!0){const u=this._getTrigger(t),d=new hp(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(Hr(e,Sc),Hr(e,Sc+"-"+t),this._engine.statesByElement.set(e,g={}));let y=g[t];const b=new $v(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&y&&b.absorbOptions(y.options),g[t]=b,y||(y=Uc),b.value!==Bc&&y.value===b.value){if(!function(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let s=0;s<t.length;s++){const u=t[s];if(!e.hasOwnProperty(u)||i[u]!==e[u])return!1}return!0}(y.params,b.params)){const V=[],W=u.matchStyles(y.value,y.params,V),ie=u.matchStyles(b.value,b.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{Yo(e,W),bi(e,ie)})}return}const A=fr(this._engine.playersByElement,e,[]);A.forEach(V=>{V.namespaceId==this.id&&V.triggerName==t&&V.queued&&V.destroy()});let I=u.matchTransition(y.value,b.value,e,b.params),O=!1;if(!I){if(!s)return;I=u.fallbackTransition,O=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:I,fromState:y,toState:b,player:d,isFallbackTransition:O}),O||(Hr(e,zv),d.onStart(()=>{ea(e,zv)})),d.onDone(()=>{let V=this.players.indexOf(d);V>=0&&this.players.splice(V,1);const W=this._engine.playersByElement.get(e);if(W){let ie=W.indexOf(d);ie>=0&&W.splice(ie,1)}}),this.players.push(d),A.push(d),d}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(s=>s.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,Ac,!0);o.forEach(s=>{if(s[Jt])return;const u=this._engine.fetchNamespacesByElement(s);u.size?u.forEach(d=>d.triggerLeaveAnimation(s,t,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(e,t,o,s){const u=this._engine.statesByElement.get(e);if(u){const d=[];if(Object.keys(u).forEach(g=>{if(this._triggers[g]){const y=this.trigger(e,g,Bc,s);y&&d.push(y)}}),d.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&Mr(d).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const s=new Set;t.forEach(u=>{const d=u.name;if(s.has(d))return;s.add(d);const y=this._triggers[d].fallbackTransition,b=o[d]||Uc,E=new $v(Bc),C=new hp(this.id,d,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:d,transition:y,fromState:b,toState:E,player:C,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(o.totalAnimations){const u=o.players.length?o.playersByQueriedElement.get(e):[];if(u&&u.length)s=!0;else{let d=e;for(;d=d.parentNode;)if(o.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(e),s)o.markElementAsRemoved(this.id,e,!1,t);else{const u=e[Jt];(!u||u===dp)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){Hr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const s=o.player;if(s.destroyed)return;const u=o.element,d=this._elementListeners.get(u);d&&d.forEach(g=>{if(g.name==o.triggerName){const y=_c(u,o.triggerName,o.fromState.value,o.toState.value);y._data=e,lo(o.player,g.phase,y,g.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(o)}),this._queue=[],t.sort((o,s)=>{const u=o.transition.ast.depCount,d=s.transition.ast.depCount;return 0==u||0==d?u-d:this._engine.driver.containsElement(o.element,s.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class Yv{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(s,u)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new Wv(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let s=!1;for(let u=o;u>=0;u--)if(this.driver.containsElement(this._namespaceList[u].hostElement,t)){this._namespaceList.splice(u+1,0,e),s=!0;break}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let s=this._namespaceLookup[e];s&&s.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const s=this._namespaceList.indexOf(o);s>=0&&this._namespaceList.splice(s,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const s=Object.keys(o);for(let u=0;u<s.length;u++){const d=o[s[u]].namespaceId;if(d){const g=this._fetchNamespace(d);g&&t.add(g)}}}return t}trigger(e,t,o,s){if(Xs(t)){const u=this._fetchNamespace(e);if(u)return u.trigger(t,o,s),!0}return!1}insertNode(e,t,o,s){if(!Xs(t))return;const u=t[Jt];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const d=this.collectedLeaveElements.indexOf(t);d>=0&&this.collectedLeaveElements.splice(d,1)}if(e){const d=this._fetchNamespace(e);d&&d.insertNode(t,o)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Hr(e,nD)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ea(e,nD))}removeNode(e,t,o,s){if(Xs(t)){const u=e?this._fetchNamespace(e):null;if(u?u.removeNode(t,s):this.markElementAsRemoved(e,t,!1,s),o){const d=this.namespacesByHostElement.get(t);d&&d.id!==e&&d.removeNode(t,s)}}else this._onRemovalComplete(t,s)}markElementAsRemoved(e,t,o,s){this.collectedLeaveElements.push(t),t[Jt]={namespaceId:e,setForRemoval:s,hasAnimation:o,removedBeforeQueried:!1}}listen(e,t,o,s,u){return Xs(t)?this._fetchNamespace(e).listen(t,o,s,u):()=>{}}_buildInstruction(e,t,o,s,u){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,s,e.fromState.options,e.toState.options,t,u)}destroyInnerAnimations(e){let t=this.driver.query(e,Ac,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tc,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Mr(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jt];if(t&&t.setForRemoval){if(e[Jt]=dp,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,rD)&&this.markElementAsDisabled(e,!1),this.driver.query(e,rD,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,s)=>this._balanceNamespaceList(o,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Hr(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let s=0;s<o.length;s++)o[s]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Mr(t).onDone(()=>{o.forEach(s=>s())}):o.forEach(s=>s())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new Qs,s=[],u=new Map,d=[],g=new Map,y=new Map,b=new Map,E=new Set;this.disabledNodes.forEach(Ge=>{E.add(Ge);const tt=this.driver.query(Ge,".ng-animate-queued",!0);for(let dt=0;dt<tt.length;dt++)E.add(tt[dt])});const C=this.bodyNode,A=Array.from(this.statesByElement.keys()),I=Qv(A,this.collectedEnterElements),O=new Map;let V=0;I.forEach((Ge,tt)=>{const dt=xv+V++;O.set(tt,dt),Ge.forEach(Ot=>Hr(Ot,dt))});const W=[],ie=new Set,ge=new Set;for(let Ge=0;Ge<this.collectedLeaveElements.length;Ge++){const tt=this.collectedLeaveElements[Ge],dt=tt[Jt];dt&&dt.setForRemoval&&(W.push(tt),ie.add(tt),dt.hasAnimation?this.driver.query(tt,".ng-star-inserted",!0).forEach(Ot=>ie.add(Ot)):ge.add(tt))}const me=new Map,ke=Qv(A,Array.from(ie));ke.forEach((Ge,tt)=>{const dt=Dc+V++;me.set(tt,dt),Ge.forEach(Ot=>Hr(Ot,dt))}),e.push(()=>{I.forEach((Ge,tt)=>{const dt=O.get(tt);Ge.forEach(Ot=>ea(Ot,dt))}),ke.forEach((Ge,tt)=>{const dt=me.get(tt);Ge.forEach(Ot=>ea(Ot,dt))}),W.forEach(Ge=>{this.processLeaveNode(Ge)})});const Ve=[],ht=[];for(let Ge=this._namespaceList.length-1;Ge>=0;Ge--)this._namespaceList[Ge].drainQueuedTransitions(t).forEach(dt=>{const Ot=dt.player,$n=dt.element;if(Ve.push(Ot),this.collectedEnterElements.length){const Io=$n[Jt];if(Io&&Io.setForMove)return void Ot.destroy()}const Mo=!C||!this.driver.containsElement(C,$n),gi=me.get($n),Ha=O.get($n),an=this._buildInstruction(dt,o,Ha,gi,Mo);if(an.errors&&an.errors.length)ht.push(an);else{if(Mo)return Ot.onStart(()=>Yo($n,an.fromStyles)),Ot.onDestroy(()=>bi($n,an.toStyles)),void s.push(Ot);if(dt.isFallbackTransition)return Ot.onStart(()=>Yo($n,an.fromStyles)),Ot.onDestroy(()=>bi($n,an.toStyles)),void s.push(Ot);an.timelines.forEach(Io=>Io.stretchStartingKeyframe=!0),o.append($n,an.timelines),d.push({instruction:an,player:Ot,element:$n}),an.queriedElements.forEach(Io=>fr(g,Io,[]).push(Ot)),an.preStyleProps.forEach((Io,Xm)=>{const aE=Object.keys(Io);if(aE.length){let Su=y.get(Xm);Su||y.set(Xm,Su=new Set),aE.forEach(eM=>Su.add(eM))}}),an.postStyleProps.forEach((Io,Xm)=>{const aE=Object.keys(Io);let Su=b.get(Xm);Su||b.set(Xm,Su=new Set),aE.forEach(eM=>Su.add(eM))})}});if(ht.length){const Ge=[];ht.forEach(tt=>{Ge.push(`@${tt.triggerName} has failed due to:\n`),tt.errors.forEach(dt=>Ge.push(`- ${dt}\n`))}),Ve.forEach(tt=>tt.destroy()),this.reportError(Ge)}const xt=new Map,pi=new Map;d.forEach(Ge=>{const tt=Ge.element;o.has(tt)&&(pi.set(tt,tt),this._beforeAnimationBuild(Ge.player.namespaceId,Ge.instruction,xt))}),s.forEach(Ge=>{const tt=Ge.element;this._getPreviousPlayers(tt,!1,Ge.namespaceId,Ge.triggerName,null).forEach(Ot=>{fr(xt,tt,[]).push(Ot),Ot.destroy()})});const Fr=W.filter(Ge=>Xv(Ge,y,b)),Ri=new Map;Zv(Ri,this.driver,ge,b,ao).forEach(Ge=>{Xv(Ge,y,b)&&Fr.push(Ge)});const Jm=new Map;I.forEach((Ge,tt)=>{Zv(Jm,this.driver,new Set(Ge),y,"!")}),Fr.forEach(Ge=>{const tt=Ri.get(Ge),dt=Jm.get(Ge);Ri.set(Ge,Ne(Ne({},tt),dt))});const Du=[],ak=[],lk={};d.forEach(Ge=>{const{element:tt,player:dt,instruction:Ot}=Ge;if(o.has(tt)){if(E.has(tt))return dt.onDestroy(()=>bi(tt,Ot.toStyles)),dt.disabled=!0,dt.overrideTotalTime(Ot.totalTime),void s.push(dt);let $n=lk;if(pi.size>1){let gi=tt;const Ha=[];for(;gi=gi.parentNode;){const an=pi.get(gi);if(an){$n=an;break}Ha.push(gi)}Ha.forEach(an=>pi.set(an,$n))}const Mo=this._buildAnimation(dt.namespaceId,Ot,xt,u,Jm,Ri);if(dt.setRealPlayer(Mo),$n===lk)Du.push(dt);else{const gi=this.playersByElement.get($n);gi&&gi.length&&(dt.parentPlayer=Mr(gi)),s.push(dt)}}else Yo(tt,Ot.fromStyles),dt.onDestroy(()=>bi(tt,Ot.toStyles)),ak.push(dt),E.has(tt)&&s.push(dt)}),ak.forEach(Ge=>{const tt=u.get(Ge.element);if(tt&&tt.length){const dt=Mr(tt);Ge.setRealPlayer(dt)}}),s.forEach(Ge=>{Ge.parentPlayer?Ge.syncPlayerEvents(Ge.parentPlayer):Ge.destroy()});for(let Ge=0;Ge<W.length;Ge++){const tt=W[Ge],dt=tt[Jt];if(ea(tt,Dc),dt&&dt.hasAnimation)continue;let Ot=[];if(g.size){let Mo=g.get(tt);Mo&&Mo.length&&Ot.push(...Mo);let gi=this.driver.query(tt,Tc,!0);for(let Ha=0;Ha<gi.length;Ha++){let an=g.get(gi[Ha]);an&&an.length&&Ot.push(...an)}}const $n=Ot.filter(Mo=>!Mo.destroyed);$n.length?Gc(this,tt,$n):this.processLeaveNode(tt)}return W.length=0,Du.forEach(Ge=>{this.players.push(Ge),Ge.onDone(()=>{Ge.destroy();const tt=this.players.indexOf(Ge);this.players.splice(tt,1)}),Ge.play()}),Du}elementContainsData(e,t){let o=!1;const s=t[Jt];return s&&s.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,s,u){let d=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(d=g)}else{const g=this.playersByElement.get(e);if(g){const y=!u||u==Bc;g.forEach(b=>{b.queued||!y&&b.triggerName!=s||d.push(b)})}}return(o||s)&&(d=d.filter(g=>!(o&&o!=g.namespaceId||s&&s!=g.triggerName))),d}_beforeAnimationBuild(e,t,o){const u=t.element,d=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const y of t.timelines){const b=y.element,E=b!==u,C=fr(o,b,[]);this._getPreviousPlayers(b,E,d,g,t.toState).forEach(I=>{const O=I.getRealPlayer();O.beforeDestroy&&O.beforeDestroy(),I.destroy(),C.push(I)})}Yo(u,t.fromStyles)}_buildAnimation(e,t,o,s,u,d){const g=t.triggerName,y=t.element,b=[],E=new Set,C=new Set,A=t.timelines.map(O=>{const V=O.element;E.add(V);const W=V[Jt];if(W&&W.removedBeforeQueried)return new $s(O.duration,O.delay);const ie=V!==y,ge=function(i){const e=[];return Jv(i,e),e}((o.get(V)||qv).map(xt=>xt.getRealPlayer())).filter(xt=>!!xt.element&&xt.element===V),me=u.get(V),ke=d.get(V),Ve=Ws(0,this._normalizer,0,O.keyframes,me,ke),ht=this._buildPlayer(O,Ve,ge);if(O.subTimeline&&s&&C.add(V),ie){const xt=new hp(e,g,V);xt.setRealPlayer(ht),b.push(xt)}return ht});b.forEach(O=>{fr(this.playersByQueriedElement,O.element,[]).push(O),O.onDone(()=>function(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const s=o.indexOf(t);o.splice(s,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,O.element,O))}),E.forEach(O=>Hr(O,Rv));const I=Mr(A);return I.onDestroy(()=>{E.forEach(O=>ea(O,Rv)),bi(y,t.toStyles)}),C.forEach(O=>{fr(s,O,[]).push(I)}),I}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new $s(e.duration,e.delay)}}class hp{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new $s,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>lo(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){fr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Xs(i){return i&&1===i.nodeType}function jc(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function Zv(i,e,t,o,s){const u=[];t.forEach(y=>u.push(jc(y)));const d=[];o.forEach((y,b)=>{const E={};y.forEach(C=>{const A=E[C]=e.computeStyle(b,C,s);(!A||0==A.length)&&(b[Jt]=sx,d.push(b))}),i.set(b,E)});let g=0;return t.forEach(y=>jc(y,u[g++])),d}function Qv(i,e){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==e.length)return t;const s=new Set(e),u=new Map;function d(g){if(!g)return 1;let y=u.get(g);if(y)return y;const b=g.parentNode;return y=t.has(b)?b:s.has(b)?1:d(b),u.set(g,y),y}return e.forEach(g=>{const y=d(g);1!==y&&t.get(y).push(g)}),t}const Hc="$$classes";function Hr(i,e){if(i.classList)i.classList.add(e);else{let t=i[Hc];t||(t=i[Hc]={}),t[e]=!0}}function ea(i,e){if(i.classList)i.classList.remove(e);else{let t=i[Hc];t&&delete t[e]}}function Gc(i,e,t){Mr(t).onDone(()=>i.processLeaveNode(e))}function Jv(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof Sv?Jv(o.players,e):e.push(o)}}function Xv(i,e,t){const o=t.get(i);if(!o)return!1;let s=e.get(i);return s?o.forEach(u=>s.add(u)):e.set(i,o),t.delete(i),!0}class zc{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(s,u)=>{},this._transitionEngine=new Yv(e,t,o),this._timelineEngine=new Gv(e,t,o),this._transitionEngine.onRemovalComplete=(s,u)=>this.onRemovalComplete(s,u)}registerTrigger(e,t,o,s,u){const d=e+"-"+s;let g=this._triggerCache[d];if(!g){const y=[],b=Nc(this._driver,u,y);if(y.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${y.join("\n - ")}`);g=function(i,e,t){return new XC(i,e,t)}(s,b,this._normalizer),this._triggerCache[d]=g}this._transitionEngine.registerTrigger(t,s,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,s){this._transitionEngine.insertNode(e,t,o,s)}onRemove(e,t,o,s){this._transitionEngine.removeNode(e,t,s||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,s){if("@"==o.charAt(0)){const[u,d]=bc(o);this._timelineEngine.command(u,t,d,s)}else this._transitionEngine.trigger(e,t,o,s)}listen(e,t,o,s,u){if("@"==o.charAt(0)){const[d,g]=bc(o);return this._timelineEngine.listen(d,t,g,u)}return this._transitionEngine.listen(e,t,o,s,u)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function qc(i,e){let t=null,o=null;return Array.isArray(e)&&e.length?(t=Zo(e[0]),e.length>1&&(o=Zo(e[e.length-1]))):e&&(t=Zo(e)),t||o?new wi(i,t,o):null}let wi=(()=>{class i{constructor(t,o,s){this._element=t,this._startStyles=o,this._endStyles=s,this._state=0;let u=i.initialStylesByElement.get(t);u||i.initialStylesByElement.set(t,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&bi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(bi(this._element,this._initialStyles),this._endStyles&&(bi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(i.initialStylesByElement.delete(this._element),this._startStyles&&(Yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Yo(this._element,this._endStyles),this._endStyles=null),bi(this._element,this._initialStyles),this._state=3)}}return i.initialStylesByElement=new WeakMap,i})();function Zo(i){let e=null;const t=Object.keys(i);for(let o=0;o<t.length;o++){const s=t[o];Bn(s)&&(e=e||{},e[s]=i[s])}return e}function Bn(i){return"display"===i||"position"===i}const Cl="animation",Ir="animationend";class na{constructor(e,t,o,s,u,d,g){this._element=e,this._name=t,this._duration=o,this._delay=s,this._easing=u,this._fillMode=d,this._onDoneFn=g,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=y=>this._handleCallback(y)}apply(){(function(i,e){const t=fo(i,"").trim();let o=0;t.length&&(function(i,e){let t=0;for(let o=0;o<i.length;o++)","===i.charAt(o)&&t++;return t}(t)+1,e=`${t}, ${e}`),$i(i,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),es(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Jo(this._element,this._name,"paused")}resume(){Jo(this._element,this._name,"running")}setPosition(e){const t=Xo(this._element,this._name);this._position=e*this._duration,$i(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),es(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(i,e){const o=fo(i,"").split(","),s=ho(o,e);s>=0&&(o.splice(s,1),$i(i,"",o.join(",")))}(this._element,this._name))}}function Jo(i,e,t){$i(i,"PlayState",t,Xo(i,e))}function Xo(i,e){const t=fo(i,"");return t.indexOf(",")>0?ho(t.split(","),e):ho([t],e)}function ho(i,e){for(let t=0;t<i.length;t++)if(i[t].indexOf(e)>=0)return t;return-1}function es(i,e,t){t?i.removeEventListener(Ir,e):i.addEventListener(Ir,e)}function $i(i,e,t,o){const s=Cl+e;if(null!=o){const u=i.style[s];if(u.length){const d=u.split(",");d[o]=t,t=d.join(",")}}i.style[s]=t}function fo(i,e){return i.style[Cl+e]||""}class pp{constructor(e,t,o,s,u,d,g,y){this.element=e,this.keyframes=t,this.animationName=o,this._duration=s,this._delay=u,this._finalStyles=g,this._specialStyles=y,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=s+u,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new na(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(e[o]=t?this._finalStyles[o]:vl(this.element,o))})}this.currentSnapshot=e}}class r_ extends $s{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=pr(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class mp{constructor(){this._count=0}validateStyleProperty(e){return Ec(e)}matchesElement(e,t){return Cc(e,t)}containsElement(e,t){return qf(e,t)}query(e,t,o){return $f(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,o){o=o.map(g=>pr(g));let s=`@keyframes ${t} {\n`,u="";o.forEach(g=>{u=" ";const y=parseFloat(g.offset);s+=`${u}${100*y}% {\n`,u+=" ",Object.keys(g).forEach(b=>{const E=g[b];switch(b){case"offset":return;case"easing":return void(E&&(s+=`${u}animation-timing-function: ${E};\n`));default:return void(s+=`${u}${b}: ${E};\n`)}}),s+=`${u}}\n`}),s+="}\n";const d=document.createElement("style");return d.textContent=s,d}animate(e,t,o,s,u,d=[],g){const y=d.filter(W=>W instanceof pp),b={};Pc(o,s)&&y.forEach(W=>{let ie=W.currentSnapshot;Object.keys(ie).forEach(ge=>b[ge]=ie[ge])});const E=function(i){let e={};return i&&(Array.isArray(i)?i:[i]).forEach(o=>{Object.keys(o).forEach(s=>{"offset"==s||"easing"==s||(e[s]=o[s])})}),e}(t=kv(e,t,b));if(0==o)return new r_(e,E);const C="gen_css_kf_"+this._count++,A=this.buildKeyframeElement(e,C,t);(function(i){var t;const e=null==(t=i.getRootNode)?void 0:t.call(i);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(e).appendChild(A);const O=qc(e,t),V=new pp(e,t,C,o,s,u,E,O);return V.onDestroy(()=>{var i;(i=A).parentNode.removeChild(i)}),V}}class yp{constructor(e,t,o,s){this.element=e,this.keyframes=t,this.options=o,this._specialStyles=s,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,o){return e.animate(t,o)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:vl(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class lD{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(vp().toString()),this._cssKeyframesDriver=new mp}validateStyleProperty(e){return Ec(e)}matchesElement(e,t){return Cc(e,t)}containsElement(e,t){return qf(e,t)}query(e,t,o){return $f(e,t,o)}computeStyle(e,t,o){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,o,s,u,d=[],g){if(!g&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,o,s,u,d);const E={duration:o,delay:s,fill:0==s?"both":"forwards"};u&&(E.easing=u);const C={},A=d.filter(O=>O instanceof yp);Pc(o,s)&&A.forEach(O=>{let V=O.currentSnapshot;Object.keys(V).forEach(W=>C[W]=V[W])});const I=qc(e,t=kv(e,t=t.map(O=>uo(O,!1)),C));return new yp(e,t,E,I)}}function vp(){return qo()&&Element.prototype.animate||{}}let cD=(()=>{class i extends LC{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:f.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const s=Array.isArray(t)?Uf(t):t;return u_(this._renderer,null,o,"register",[s]),new l_(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.FYo),f.LFG(K))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class l_ extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new dD(this._id,e,t||{},this._renderer)}}class dD{constructor(e,t,o,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return u_(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!=(t=null==(e=this._renderer.engine.players[+this.id])?void 0:e.getPosition())?t:0}}function u_(i,e,t,o,s){return i.setProperty(e,`@@${t}:${o}`,s)}const c_="@.disabled";let bp=(()=>{class i{constructor(t,o,s){this.delegate=t,this.engine=o,this._zone=s,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(u,d)=>{const g=null==d?void 0:d.parentNode(u);g&&d.removeChild(g,u)}}createRenderer(t,o){const u=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let E=this._rendererCache.get(u);return E||(E=new $c("",u,this.engine),this._rendererCache.set(u,E)),E}const d=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const y=E=>{Array.isArray(E)?E.forEach(y):this.engine.registerTrigger(d,g,t,E.name,E)};return o.data.animation.forEach(y),new hD(this,g,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,s){t>=0&&t<this._microtaskId?this._zone.run(()=>o(s)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[d,g]=u;d(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,s]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.FYo),f.LFG(zc),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();class $c{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?s=>t.destroyNode(s):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,s=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,s)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,s){this.delegate.setAttribute(e,t,o,s)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,s){this.delegate.setStyle(e,t,o,s)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==c_?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hD extends $c{constructor(e,t,o,s){super(t,o,s),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==c_?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const s=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let u=t.substr(1),d="";return"@"!=u.charAt(0)&&([u,d]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(u)),this.engine.listen(this.namespaceId,s,u,d,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(e,t,o)}}let dx=(()=>{class i extends zc{constructor(t,o,s){super(t.body,o,s)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(K),f.LFG(Wf),f.LFG(op))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const ts=new f.OlP("AnimationModuleType"),ns=[{provide:LC,useClass:cD},{provide:op,useFactory:function(){return new ZC}},{provide:zc,useClass:dx},{provide:f.FYo,useFactory:function(i,e,t){return new bp(i,e,t)},deps:[eo,zc,f.R0b]}],h_=[{provide:Wf,useFactory:function(){return"function"==typeof vp()?new lD:new mp}},{provide:ts,useValue:"BrowserAnimations"},...ns],f_=[{provide:Wf,useClass:Mv},{provide:ts,useValue:"NoopAnimations"},...ns];let pD=(()=>{class i{static withConfig(t){return{ngModule:i,providers:t.disableAnimations?f_:h_}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:h_,imports:[ju]}),i})();function p_(i,e){if(1&i&&f._UZ(0,"mat-pseudo-checkbox",4),2&i){const t=f.oxw();f.Q6J("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}function mD(i,e){if(1&i&&(f.TgZ(0,"span",5),f._uU(1),f.qZA()),2&i){const t=f.oxw();f.xp6(1),f.hij("(",t.group.label,")")}}const yD=["*"],g_=new f.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let gr=(()=>{class i{constructor(t,o,s){this._sanityChecks=o,this._document=s,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!hf()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(ZI),f.LFG(g_,8),f.LFG(K))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Ku],Ku]}),i})();function v_(i){return class extends i{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=yn(e)}}}function _D(i,e){return class extends i{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const o=t||this.defaultColor;o!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),o&&this._elementRef.nativeElement.classList.add(`mat-${o}`),this._color=o)}}}function oa(i){return class extends i{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yn(e)}}}function __(i,e=0){return class extends i{constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ms(t):this.defaultTabIndex}}}function Wc(i){return class extends i{constructor(...e){super(...e),this.stateChanges=new gt.x,this.errorState=!1}updateErrorState(){const e=this.errorState,u=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);u!==e&&(this.errorState=u,this.stateChanges.next())}}}let Yc=(()=>{class i{isErrorState(t,o){return!!(t&&t.invalid&&(t.touched||o&&o.submitted))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class A_{constructor(e,t,o){this._renderer=e,this.element=t,this.config=o,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Dp={enterDuration:225,exitDuration:150},Kc=Wu({passive:!0}),T_=["mousedown","touchstart"],Ap=["mouseup","mouseleave","touchend","touchcancel"];class M_{constructor(e,t,o,s){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,s.isBrowser&&(this._containerElement=Vi(o))}fadeInRipple(e,t,o={}){const s=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),u=Ne(Ne({},Dp),o.animation);o.centered&&(e=s.left+s.width/2,t=s.top+s.height/2);const d=o.radius||function(i,e,t){const o=Math.max(Math.abs(i-t.left),Math.abs(i-t.right)),s=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(o*o+s*s)}(e,t,s),g=e-s.left,y=t-s.top,b=u.enterDuration,E=document.createElement("div");E.classList.add("mat-ripple-element"),E.style.left=g-d+"px",E.style.top=y-d+"px",E.style.height=2*d+"px",E.style.width=2*d+"px",null!=o.color&&(E.style.backgroundColor=o.color),E.style.transitionDuration=`${b}ms`,this._containerElement.appendChild(E),window.getComputedStyle(E).getPropertyValue("opacity"),E.style.transform="scale(1)";const C=new A_(this,E,o);return C.state=0,this._activeRipples.add(C),o.persistent||(this._mostRecentTransientRipple=C),this._runTimeoutOutsideZone(()=>{const A=C===this._mostRecentTransientRipple;C.state=1,!o.persistent&&(!A||!this._isPointerDown)&&C.fadeOut()},b),C}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const o=e.element,s=Ne(Ne({},Dp),e.config.animation);o.style.transitionDuration=`${s.exitDuration}ms`,o.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,o.remove()},s.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Vi(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(T_))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Ap),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=gc(e),o=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!o&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!mc(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let o=0;o<t.length;o++)this.fadeInRipple(t[o].clientX,t[o].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,Kc)})})}_removeTriggerEvents(){this._triggerElement&&(T_.forEach(e=>{this._triggerElement.removeEventListener(e,this,Kc)}),this._pointerUpEventsRegistered&&Ap.forEach(e=>{this._triggerElement.removeEventListener(e,this,Kc)}))}}const x_=new f.OlP("mat-ripple-global-options");let Zc=(()=>{class i{constructor(t,o,s,u,d){this._elementRef=t,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=u||{},this._rippleRenderer=new M_(this,o,t,s)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Ne(Ne(Ne({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,o=0,s){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,o,Ne(Ne({},this.rippleConfig),s)):this._rippleRenderer.fadeInRipple(0,0,Ne(Ne({},this.rippleConfig),t))}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(f.R0b),f.Y36(zt),f.Y36(x_,8),f.Y36(ts,8))},i.\u0275dir=f.lG2({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,o){2&t&&f.ekj("mat-ripple-unbounded",o.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),i})(),Mp=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[gr,Vr],gr]}),i})(),O_=(()=>{class i{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(ts,8))},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,o){2&t&&f.ekj("mat-pseudo-checkbox-indeterminate","indeterminate"===o.state)("mat-pseudo-checkbox-checked","checked"===o.state)("mat-pseudo-checkbox-disabled",o.disabled)("_mat-animation-noopable","NoopAnimations"===o._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,o){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),i})(),R_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[gr]]}),i})();const Ip=new f.OlP("MAT_OPTION_PARENT_COMPONENT"),F_=new f.OlP("MatOptgroup");let P_=0;class SD{constructor(e,t=!1){this.source=e,this.isUserInput=t}}let dn=(()=>{class i{constructor(t,o,s,u){this._element=t,this._changeDetectorRef=o,this._parent=s,this.group=u,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id="mat-option-"+P_++,this.onSelectionChange=new f.vpe,this._stateChanges=new gt.x}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=yn(t)}get disableRipple(){return!(!this._parent||!this._parent.disableRipple)}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,o){const s=this._getHostElement();"function"==typeof s.focus&&s.focus(o)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!Vo(t)&&(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new SD(this,t))}}return i.\u0275fac=function(t){f.$Z()},i.\u0275dir=f.lG2({type:i,inputs:{value:"value",id:"id",disabled:"disabled"},outputs:{onSelectionChange:"onSelectionChange"}}),i})(),Qc=(()=>{class i extends dn{constructor(t,o,s,u){super(t,o,s,u)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(Ip,8),f.Y36(F_,8))},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,o){1&t&&f.NdJ("click",function(){return o._selectViaInteraction()})("keydown",function(u){return o._handleKeydown(u)}),2&t&&(f.Ikx("id",o.id),f.uIk("tabindex",o._getTabIndex())("aria-selected",o._getAriaSelected())("aria-disabled",o.disabled.toString()),f.ekj("mat-selected",o.selected)("mat-option-multiple",o.multiple)("mat-active",o.active)("mat-option-disabled",o.disabled))},exportAs:["matOption"],features:[f.qOj],ngContentSelectors:yD,decls:5,vars:4,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["class","cdk-visually-hidden",4,"ngIf"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"],[1,"cdk-visually-hidden"]],template:function(t,o){1&t&&(f.F$t(),f.YNc(0,p_,1,2,"mat-pseudo-checkbox",0),f.TgZ(1,"span",1),f.Hsn(2),f.qZA(),f.YNc(3,mD,2,1,"span",2),f._UZ(4,"div",3)),2&t&&(f.Q6J("ngIf",o.multiple),f.xp6(3),f.Q6J("ngIf",o.group&&o.group._inert),f.xp6(1),f.Q6J("matRippleTrigger",o._getHostElement())("matRippleDisabled",o.disabled||o.disableRipple))},directives:[vi,Zc,O_],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.cdk-high-contrast-active .mat-option[aria-disabled=true]{opacity:.5}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),i})();function k_(i,e,t){if(t.length){let o=e.toArray(),s=t.toArray(),u=0;for(let d=0;d<i+1;d++)o[d].group&&o[d].group===s[u]&&u++;return u}return 0}let xp=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mp,Qa,gr,R_]]}),i})();function Jc(i){return new Ln.y(e=>{(0,ro.Xf)(i()).subscribe(e)})}var Dl=x(5373);function po(...i){return(0,Dl.J)(1)((0,jt.D)(i,(0,no.yG)(i)))}function Ei(...i){const e=(0,no.yG)(i);return(0,Vn.e)((t,o)=>{(e?po(i,t,e):po(i,t)).subscribe(o)})}function TD(i,e){}class sa{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0}}const MD={dialogContainer:ri("dialogContainer",[Ho("void, exit",hr({opacity:0,transform:"scale(0.7)"})),Ho("enter",hr({transform:"none"})),qs("* => enter",jo("150ms cubic-bezier(0, 0, 0.2, 1)",hr({transform:"none",opacity:1}))),qs("* => void, * => exit",jo("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",hr({opacity:0})))])};let Ex=(()=>{class i extends yf{constructor(t,o,s,u,d,g,y,b){super(),this._elementRef=t,this._focusTrapFactory=o,this._changeDetectorRef=s,this._config=d,this._interactivityChecker=g,this._ngZone=y,this._focusMonitor=b,this._animationStateChanged=new f.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=E=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(E)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=u}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement()}attachComponentPortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}attachTemplatePortal(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,o){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{t.addEventListener("blur",()=>t.removeAttribute("tabindex")),t.addEventListener("mousedown",()=>t.removeAttribute("tabindex"))})),t.focus(o)}_focusByCssSelector(t,o){let s=this._elementRef.nativeElement.querySelector(t);s&&this._forceFocus(s,o)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(o=>{o||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){const o=Yu(),s=this._elementRef.nativeElement;(!o||o===this._document.body||o===s||s.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Yu())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,o=Yu();return t===o||t.contains(o)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(Lf),f.Y36(f.sBO),f.Y36(K,8),f.Y36(sa),f.Y36(hv),f.Y36(f.R0b),f.Y36(vc))},i.\u0275dir=f.lG2({type:i,viewQuery:function(t,o){if(1&t&&f.Gf(vf,7),2&t){let s;f.iGM(s=f.CRH())&&(o._portalOutlet=s.first)}},features:[f.qOj]}),i})(),Op=(()=>{class i extends Ex{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:t,totalTime:o}){"enter"===t?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:o})):"exit"===t&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:o}))}_onAnimationStart({toState:t,totalTime:o}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:o}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:o})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=f.n5z(i)))(o||i)}}(),i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,o){1&t&&f.WFA("@dialogContainer.start",function(u){return o._onAnimationStart(u)})("@dialogContainer.done",function(u){return o._onAnimationDone(u)}),2&t&&(f.Ikx("id",o._id),f.uIk("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledBy)("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),f.d8E("@dialogContainer",o._state))},features:[f.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){1&t&&f.YNc(0,TD,0,0,"ng-template",0)},directives:[vf],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[MD.dialogContainer]}}),i})(),Rp=0;class Gr{constructor(e,t,o="mat-dialog-"+Rp++){this._overlayRef=e,this._containerInstance=t,this.id=o,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new gt.x,this._afterClosed=new gt.x,this._beforeClosed=new gt.x,this._state=0,t._id=o,t._animationStateChanged.pipe(In(s=>"opened"===s.state),(0,Ur.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(In(s=>"closed"===s.state),(0,Ur.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(In(s=>27===s.keyCode&&!this.disableClose&&!Vo(s))).subscribe(s=>{s.preventDefault(),L_(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():L_(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(In(t=>"closing"===t.state),(0,Ur.q)(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._overlayRef.updateSize({width:e,height:t}),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function L_(i,e,t){return void 0!==i._containerInstance&&(i._containerInstance._closeInteractionType=e),i.close(t)}const Fp=new f.OlP("MatDialogData"),Ci=new f.OlP("mat-dialog-default-options"),zr=new f.OlP("mat-dialog-scroll-strategy"),B_={provide:zr,deps:[Uo],useFactory:function(i){return()=>i.scrollStrategies.block()}};let xD=(()=>{class i{constructor(t,o,s,u,d,g,y,b,E,C){this._overlay=t,this._injector=o,this._defaultOptions=s,this._parentDialog=u,this._overlayContainer=d,this._dialogRefConstructor=y,this._dialogContainerType=b,this._dialogDataToken=E,this._animationMode=C,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new gt.x,this._afterOpenedAtThisLevel=new gt.x,this._ariaHiddenElements=new Map,this._dialogAnimatingOpen=!1,this.afterAllClosed=Jc(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ei(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,o){if(o=function(i,e){return Ne(Ne({},e),i)}(o,this._defaultOptions||new sa),o.id&&this.getDialogById(o.id),this._dialogAnimatingOpen)return this._lastDialogRef;const s=this._createOverlay(o),u=this._attachDialogContainer(s,o);if("NoopAnimations"!==this._animationMode){const g=u._animationStateChanged.subscribe(y=>{"opening"===y.state&&(this._dialogAnimatingOpen=!0),"opened"===y.state&&(this._dialogAnimatingOpen=!1,g.unsubscribe())});this._animationStateSubscriptions||(this._animationStateSubscriptions=new ti.w0),this._animationStateSubscriptions.add(g)}const d=this._attachDialogContent(t,u,s,o);return this._lastDialogRef=d,this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),u._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(o=>o.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._animationStateSubscriptions&&this._animationStateSubscriptions.unsubscribe()}_createOverlay(t){const o=this._getOverlayConfig(t);return this._overlay.create(o)}_getOverlayConfig(t){const o=new Af({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(o.backdropClass=t.backdropClass),o}_attachDialogContainer(t,o){const u=f.zs3.create({parent:o&&o.viewContainerRef&&o.viewContainerRef.injector||this._injector,providers:[{provide:sa,useValue:o}]}),d=new al(this._dialogContainerType,o.viewContainerRef,u,o.componentFactoryResolver);return t.attach(d).instance}_attachDialogContent(t,o,s,u){const d=new this._dialogRefConstructor(s,o,u.id);if(t instanceof f.Rgc)o.attachTemplatePortal(new Us(t,null,{$implicit:u.data,dialogRef:d}));else{const g=this._createInjector(u,d,o),y=o.attachComponentPortal(new al(t,u.viewContainerRef,g));d.componentInstance=y.instance}return d.updateSize(u.width,u.height).updatePosition(u.position),d}_createInjector(t,o,s){const u=t&&t.viewContainerRef&&t.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:s},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:o}];return t.direction&&(!u||!u.get(oo,null,f.XFs.Optional))&&d.push({provide:oo,useValue:{value:t.direction,change:rt()}}),f.zs3.create({parent:u||this._injector,providers:d})}_removeOpenDialog(t){const o=this.openDialogs.indexOf(t);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((s,u)=>{s?u.setAttribute("aria-hidden",s):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const o=t.parentElement.children;for(let s=o.length-1;s>-1;s--){let u=o[s];u!==t&&"SCRIPT"!==u.nodeName&&"STYLE"!==u.nodeName&&!u.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}}}_closeDialogs(t){let o=t.length;for(;o--;)t[o].close()}}return i.\u0275fac=function(t){f.$Z()},i.\u0275dir=f.lG2({type:i}),i})(),U_=(()=>{class i extends xD{constructor(t,o,s,u,d,g,y,b){super(t,o,u,g,y,d,Gr,Op,Fp,b)}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(Uo),f.LFG(f.zs3),f.LFG(Oe,8),f.LFG(Ci,8),f.LFG(zr),f.LFG(i,12),f.LFG(hl),f.LFG(ts,8))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),Pp=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[U_,B_],imports:[[hc,YE,gr],gr]}),i})();class Wi{}class H_{constructor(){this.date=new Date}}let kp=(()=>{class i{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),G_=(()=>{class i{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,o)=>this._cleanupObserver(o))}observe(t){const o=Vi(t);return new Ln.y(s=>{const d=this._observeElement(o).subscribe(s);return()=>{d.unsubscribe(),this._unobserveElement(o)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const o=new gt.x,s=this._mutationObserverFactory.create(u=>o.next(u));s&&s.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:s,stream:o,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:o,stream:s}=this._observedElements.get(t);o&&o.disconnect(),s.complete(),this._observedElements.delete(t)}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(kp))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Np=(()=>{class i{constructor(t,o,s){this._contentObserver=t,this._elementRef=o,this._ngZone=s,this.event=new f.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=yn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ms(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(lv(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null==(t=this._currentSubscription)||t.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(G_),f.Y36(f.SBq),f.Y36(f.R0b))},i.\u0275dir=f.lG2({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),i})(),ed=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[kp]}),i})();const z_=["connectionContainer"],q_=["inputContainer"],$_=["label"];function W_(i,e){1&i&&(f.ynx(0),f.TgZ(1,"div",14),f._UZ(2,"div",15),f._UZ(3,"div",16),f._UZ(4,"div",17),f.qZA(),f.TgZ(5,"div",18),f._UZ(6,"div",15),f._UZ(7,"div",16),f._UZ(8,"div",17),f.qZA(),f.BQk())}function Y_(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"div",19),f.NdJ("cdkObserveContent",function(){return f.CHM(t),f.oxw().updateOutlineGap()}),f.Hsn(1,1),f.qZA()}if(2&i){const t=f.oxw();f.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function K_(i,e){if(1&i&&(f.ynx(0),f.Hsn(1,2),f.TgZ(2,"span"),f._uU(3),f.qZA(),f.BQk()),2&i){const t=f.oxw(2);f.xp6(3),f.Oqu(t._control.placeholder)}}function Z_(i,e){1&i&&f.Hsn(0,3,["*ngSwitchCase","true"])}function Q_(i,e){1&i&&(f.TgZ(0,"span",23),f._uU(1," *"),f.qZA())}function J_(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"label",20,21),f.NdJ("cdkObserveContent",function(){return f.CHM(t),f.oxw().updateOutlineGap()}),f.YNc(2,K_,4,1,"ng-container",12),f.YNc(3,Z_,1,0,"ng-content",12),f.YNc(4,Q_,2,0,"span",22),f.qZA()}if(2&i){const t=f.oxw();f.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),f.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),f.uIk("for",t._control.id)("aria-owns",t._control.id),f.xp6(2),f.Q6J("ngSwitchCase",!1),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function PD(i,e){1&i&&(f.TgZ(0,"div",24),f.Hsn(1,4),f.qZA())}function kD(i,e){if(1&i&&(f.TgZ(0,"div",25),f._UZ(1,"span",26),f.qZA()),2&i){const t=f.oxw();f.xp6(1),f.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function ND(i,e){if(1&i&&(f.TgZ(0,"div"),f.Hsn(1,5),f.qZA()),2&i){const t=f.oxw();f.Q6J("@transitionMessages",t._subscriptAnimationState)}}function LD(i,e){if(1&i&&(f.TgZ(0,"div",30),f._uU(1),f.qZA()),2&i){const t=f.oxw(2);f.Q6J("id",t._hintLabelId),f.xp6(1),f.Oqu(t.hintLabel)}}function VD(i,e){if(1&i&&(f.TgZ(0,"div",27),f.YNc(1,LD,2,2,"div",28),f.Hsn(2,6),f._UZ(3,"div",29),f.Hsn(4,7),f.qZA()),2&i){const t=f.oxw();f.Q6J("@transitionMessages",t._subscriptAnimationState),f.xp6(1),f.Q6J("ngIf",t.hintLabel)}}const BD=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],UD=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],jD=new f.OlP("MatError"),HD={transitionMessages:ri("transitionMessages",[Ho("enter",hr({opacity:1,transform:"translateY(0%)"})),qs("void => enter",[hr({opacity:0,transform:"translateY(-5px)"}),jo("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let td=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=f.lG2({type:i}),i})();const GD=new f.OlP("MatHint");let aa=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-label"]]}),i})(),X_=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=f.lG2({type:i,selectors:[["mat-placeholder"]]}),i})();const eb=new f.OlP("MatPrefix"),tb=new f.OlP("MatSuffix");let Lp=0;const Vp=_D(class{constructor(i){this._elementRef=i}},"primary"),is=new f.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Bp=new f.OlP("MatFormField");let Up=(()=>{class i extends Vp{constructor(t,o,s,u,d,g,y){super(t),this._changeDetectorRef=o,this._dir=s,this._defaults=u,this._platform=d,this._ngZone=g,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new gt.x,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Lp++,this._labelId="mat-form-field-label-"+Lp++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==y,this.appearance=u&&u.appearance?u.appearance:"legacy",this._hideRequiredMarker=!(!u||null==u.hideRequiredMarker)&&u.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const o=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&o!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=yn(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Ei(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(Kn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Hs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Ei(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Ei(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Kn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const o=this._control?this._control.ngControl:null;return o&&o[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tl(this._label.nativeElement,"transitionend").pipe((0,Ur.q)(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const o=this._hintChildren?this._hintChildren.find(u=>"start"===u.align):null,s=this._hintChildren?this._hintChildren.find(u=>"end"===u.align):null;o?t.push(o.id):this._hintLabel&&t.push(this._hintLabelId),s&&t.push(s.id)}else this._errorChildren&&t.push(...this._errorChildren.map(o=>o.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&t&&t.children.length&&t.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let o=0,s=0;const u=this._connectionContainerRef.nativeElement,d=u.querySelectorAll(".mat-form-field-outline-start"),g=u.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const y=u.getBoundingClientRect();if(0===y.width&&0===y.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const b=this._getStartEnd(y),E=t.children,C=this._getStartEnd(E[0].getBoundingClientRect());let A=0;for(let I=0;I<E.length;I++)A+=E[I].offsetWidth;o=Math.abs(C-b)-5,s=A>0?.75*A+10:0}for(let y=0;y<d.length;y++)d[y].style.width=`${o}px`;for(let y=0;y<g.length;y++)g[y].style.width=`${s}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const o=t.getRootNode();return o&&o!==t}return document.documentElement.contains(t)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(f.sBO),f.Y36(oo,8),f.Y36(is,8),f.Y36(zt),f.Y36(f.R0b),f.Y36(ts,8))},i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-form-field"]],contentQueries:function(t,o,s){if(1&t&&(f.Suo(s,td,5),f.Suo(s,td,7),f.Suo(s,aa,5),f.Suo(s,aa,7),f.Suo(s,X_,5),f.Suo(s,jD,5),f.Suo(s,GD,5),f.Suo(s,eb,5),f.Suo(s,tb,5)),2&t){let u;f.iGM(u=f.CRH())&&(o._controlNonStatic=u.first),f.iGM(u=f.CRH())&&(o._controlStatic=u.first),f.iGM(u=f.CRH())&&(o._labelChildNonStatic=u.first),f.iGM(u=f.CRH())&&(o._labelChildStatic=u.first),f.iGM(u=f.CRH())&&(o._placeholderChild=u.first),f.iGM(u=f.CRH())&&(o._errorChildren=u),f.iGM(u=f.CRH())&&(o._hintChildren=u),f.iGM(u=f.CRH())&&(o._prefixChildren=u),f.iGM(u=f.CRH())&&(o._suffixChildren=u)}},viewQuery:function(t,o){if(1&t&&(f.Gf(z_,7),f.Gf(q_,5),f.Gf($_,5)),2&t){let s;f.iGM(s=f.CRH())&&(o._connectionContainerRef=s.first),f.iGM(s=f.CRH())&&(o._inputContainerRef=s.first),f.iGM(s=f.CRH())&&(o._label=s.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,o){2&t&&f.ekj("mat-form-field-appearance-standard","standard"==o.appearance)("mat-form-field-appearance-fill","fill"==o.appearance)("mat-form-field-appearance-outline","outline"==o.appearance)("mat-form-field-appearance-legacy","legacy"==o.appearance)("mat-form-field-invalid",o._control.errorState)("mat-form-field-can-float",o._canLabelFloat())("mat-form-field-should-float",o._shouldLabelFloat())("mat-form-field-has-label",o._hasFloatingLabel())("mat-form-field-hide-placeholder",o._hideControlPlaceholder())("mat-form-field-disabled",o._control.disabled)("mat-form-field-autofilled",o._control.autofilled)("mat-focused",o._control.focused)("ng-untouched",o._shouldForward("untouched"))("ng-touched",o._shouldForward("touched"))("ng-pristine",o._shouldForward("pristine"))("ng-dirty",o._shouldForward("dirty"))("ng-valid",o._shouldForward("valid"))("ng-invalid",o._shouldForward("invalid"))("ng-pending",o._shouldForward("pending"))("_mat-animation-noopable",!o._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[f._Bn([{provide:Bp,useExisting:i}]),f.qOj],ngContentSelectors:UD,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,o){1&t&&(f.F$t(BD),f.TgZ(0,"div",0),f.TgZ(1,"div",1,2),f.NdJ("click",function(u){return o._control.onContainerClick&&o._control.onContainerClick(u)}),f.YNc(3,W_,9,0,"ng-container",3),f.YNc(4,Y_,2,1,"div",4),f.TgZ(5,"div",5,6),f.Hsn(7),f.TgZ(8,"span",7),f.YNc(9,J_,5,16,"label",8),f.qZA(),f.qZA(),f.YNc(10,PD,2,0,"div",9),f.qZA(),f.YNc(11,kD,2,4,"div",10),f.TgZ(12,"div",11),f.YNc(13,ND,2,1,"div",12),f.YNc(14,VD,5,2,"div",13),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.Q6J("ngIf","outline"==o.appearance),f.xp6(1),f.Q6J("ngIf",o._prefixChildren.length),f.xp6(5),f.Q6J("ngIf",o._hasFloatingLabel()),f.xp6(1),f.Q6J("ngIf",o._suffixChildren.length),f.xp6(1),f.Q6J("ngIf","outline"!=o.appearance),f.xp6(1),f.Q6J("ngSwitch",o._getDisplayedMessages()),f.xp6(1),f.Q6J("ngSwitchCase","error"),f.xp6(1),f.Q6J("ngSwitchCase","hint"))},directives:[vi,Ya,kr,Np],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[HD.transitionMessages]},changeDetection:0}),i})(),Si=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Qa,gr,ed],gr]}),i})();var la=x(5583);const rd=Wu({passive:!0});let Rx=(()=>{class i{constructor(t,o){this._platform=t,this._ngZone=o,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return la.E;const o=Vi(t),s=this._monitoredElements.get(o);if(s)return s.subject;const u=new gt.x,d="cdk-text-field-autofilled",g=y=>{"cdk-text-field-autofill-start"!==y.animationName||o.classList.contains(d)?"cdk-text-field-autofill-end"===y.animationName&&o.classList.contains(d)&&(o.classList.remove(d),this._ngZone.run(()=>u.next({target:y.target,isAutofilled:!1}))):(o.classList.add(d),this._ngZone.run(()=>u.next({target:y.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{o.addEventListener("animationstart",g,rd),o.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(o,{subject:u,unlisten:()=>{o.removeEventListener("animationstart",g,rd)}}),u}stopMonitoring(t){const o=Vi(t),s=this._monitoredElements.get(o);s&&(s.unlisten(),s.subject.complete(),o.classList.remove("cdk-text-field-autofill-monitored"),o.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(o))}ngOnDestroy(){this._monitoredElements.forEach((t,o)=>this.stopMonitoring(o))}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(zt),f.LFG(f.R0b))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),KD=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Vr]]}),i})();const{isArray:Xe}=Array,{getPrototypeOf:ZD,prototype:QD,keys:JD}=Object;function Sl(i){if(1===i.length){const e=i[0];if(Xe(e))return{args:e,keys:null};if(function(i){return i&&"object"==typeof i&&ZD(i)===QD}(e)){const t=JD(e);return{args:t.map(o=>e[o]),keys:t}}}return{args:i,keys:null}}function Al(i,e){return i.reduce((t,o,s)=>(t[o]=e[s],t),{})}let qt=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.Qsj),f.Y36(f.SBq))},i.\u0275dir=f.lG2({type:i}),i})(),ua=(()=>{class i extends qt{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=f.n5z(i)))(o||i)}}(),i.\u0275dir=f.lG2({type:i,features:[f.qOj]}),i})();const oi=new f.OlP("NgValueAccessor"),ib={provide:oi,useExisting:(0,f.Gpc)(()=>ca),multi:!0},sb=new f.OlP("CompositionEventMode");let ca=(()=>{class i extends qt{constructor(t,o,s){super(t,o),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=oe()?oe().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(sb,8))},i.\u0275dir=f.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&f.NdJ("input",function(u){return o._handleInput(u.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(u){return o._compositionEnd(u.target.value)})},features:[f._Bn([ib]),f.qOj]}),i})();function go(i){return null==i||0===i.length}function ab(i){return null!=i&&"number"==typeof i.length}const Un=new f.OlP("NgValidators"),qr=new f.OlP("NgAsyncValidators"),tS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lb{static min(e){return function(i){return e=>{if(go(e.value)||go(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<i?{min:{min:i,actual:e.value}}:null}}(e)}static max(e){return function(i){return e=>{if(go(e.value)||go(i))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>i?{max:{max:i,actual:e.value}}:null}}(e)}static required(e){return function(i){return go(i.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(i){return!0===i.value?null:{required:!0}}(e)}static email(e){return function(i){return go(i.value)||tS.test(i.value)?null:{email:!0}}(e)}static minLength(e){return function(i){return e=>go(e.value)||!ab(e.value)?null:e.value.length<i?{minlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(i){return e=>ab(e.value)&&e.value.length>i?{maxlength:{requiredLength:i,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(i){if(!i)return Ml;let e,t;return"string"==typeof i?(t="","^"!==i.charAt(0)&&(t+="^"),t+=i,"$"!==i.charAt(i.length-1)&&(t+="$"),e=new RegExp(t)):(t=i.toString(),e=i),o=>{if(go(o.value))return null;const s=o.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return $p(e)}static composeAsync(e){return gb(e)}}function Ml(i){return null}function db(i){return null!=i}function hb(i){const e=(0,f.QGY)(i)?(0,jt.D)(i):i;return(0,f.CqO)(e),e}function zp(i){let e={};return i.forEach(t=>{e=null!=t?Ne(Ne({},e),t):e}),0===Object.keys(e).length?null:e}function qp(i,e){return e.map(t=>t(i))}function pb(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function $p(i){if(!i)return null;const e=i.filter(db);return 0==e.length?null:function(t){return zp(qp(t,e))}}function Wp(i){return null!=i?$p(pb(i)):null}function gb(i){if(!i)return null;const e=i.filter(db);return 0==e.length?null:function(t){return function(...i){const e=(0,no.jO)(i),{args:t,keys:o}=Sl(i),s=new Ln.y(u=>{const{length:d}=t;if(!d)return void u.complete();const g=new Array(d);let y=d,b=d;for(let E=0;E<d;E++){let C=!1;(0,ro.Xf)(t[E]).subscribe(new vn.Q(u,A=>{C||(C=!0,b--),g[E]=A},()=>y--,void 0,()=>{(!y||!C)&&(b||u.next(o?Al(o,g):g),u.complete())}))}});return e?s.pipe(Is(e)):s}(qp(t,e).map(hb)).pipe((0,ct.U)(zp))}}function mb(i){return null!=i?gb(pb(i)):null}function nS(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function rS(i){return i._rawValidators}function iS(i){return i._rawAsyncValidators}function od(i){return i?Array.isArray(i)?i:[i]:[]}function os(i,e){return Array.isArray(i)?i.includes(e):i===e}function yb(i,e){const t=od(e);return od(i).forEach(s=>{os(t,s)||t.push(s)}),t}function vb(i,e){return od(e).filter(t=>!os(i,t))}class Yp{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Wp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class hn extends Yp{get formDirective(){return null}get path(){return null}}class Ai extends Yp{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let sd=(()=>{class i extends class{constructor(e){this._cd=e}is(e){var t,o,s;return"submitted"===e?!!(null==(t=this._cd)?void 0:t.submitted):!!(null==(s=null==(o=this._cd)?void 0:o.control)?void 0:s[e])}}{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(Ai,2))},i.\u0275dir=f.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&f.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[f.qOj]}),i})();function pa(i,e){xl(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&Db(i,e)})}(i,e),function(i,e){const t=(o,s)=>{e.valueAccessor.writeValue(o),s&&e.viewToModelUpdate(o)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&Db(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function ld(i,e,t=!0){const o=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(o),e.valueAccessor.registerOnTouched(o)),cd(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function ud(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function xl(i,e){const t=rS(i);null!==e.validator?i.setValidators(nS(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const o=iS(i);null!==e.asyncValidator?i.setAsyncValidators(nS(o,e.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const s=()=>i.updateValueAndValidity();ud(e._rawValidators,s),ud(e._rawAsyncValidators,s)}function cd(i,e){let t=!1;if(null!==i){if(null!==e.validator){const s=rS(i);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.validator);u.length!==s.length&&(t=!0,i.setValidators(u))}}if(null!==e.asyncValidator){const s=iS(i);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.asyncValidator);u.length!==s.length&&(t=!0,i.setAsyncValidators(u))}}}const o=()=>{};return ud(e._rawValidators,o),ud(e._rawAsyncValidators,o),t}function Db(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function Sb(i,e){xl(i,e)}function Jp(i,e){i._syncPendingControls(),e.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}function dd(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const Ol="VALID",hd="INVALID",ga="PENDING",ss="DISABLED";function fd(i){return(Rl(i)?i.validators:i)||null}function pd(i){return Array.isArray(i)?Wp(i):i||null}function tg(i,e){return(Rl(e)?e.asyncValidators:i)||null}function Tb(i){return Array.isArray(i)?mb(i):i||null}function Rl(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class ng{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=pd(this._rawValidators),this._composedAsyncValidatorFn=Tb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ol}get invalid(){return this.status===hd}get pending(){return this.status==ga}get disabled(){return this.status===ss}get enabled(){return this.status!==ss}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=pd(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=Tb(e)}addValidators(e){this.setValidators(yb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(yb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(vb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(vb(e,this._rawAsyncValidators))}hasValidator(e){return os(this._rawValidators,e)}hasAsyncValidator(e){return os(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ga,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ss,this.errors=null,this._forEachChild(o=>{o.disable(Fn(Ne({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Fn(Ne({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ol,this._forEachChild(o=>{o.enable(Fn(Ne({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Fn(Ne({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ol||this.status===ga)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ss:Ol}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ga,this._hasOwnPendingAsyncValidator=!0;const t=hb(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let o=i;return e.forEach(s=>{o=o instanceof rg?o.controls.hasOwnProperty(s)?o.controls[s]:null:o instanceof Mb&&o.at(s)||null}),o}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?ss:this.errors?hd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ga)?ga:this._anyControlsHaveStatus(hd)?hd:Ol}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Rl(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Fl extends ng{constructor(e=null,t,o){super(fd(t),tg(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){dd(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){dd(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class rg extends ng{constructor(e,t,o){super(fd(t),tg(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,s)=>{o.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof Fl?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((s,u)=>{o=t(o,s,u)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Mb extends ng{constructor(e,t,o){super(fd(t),tg(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((o,s)=>{this._throwIfControlMissing(s),this.at(s).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,s)=>{this.at(s)&&this.at(s).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,s)=>{o.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Fl?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const pS={provide:hn,useExisting:(0,f.Gpc)(()=>gd)},ma=(()=>Promise.resolve(null))();let gd=(()=>{class i extends hn{constructor(t,o){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new f.vpe,this.form=new rg({},Wp(t),mb(o))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ma.then(()=>{const o=this._findContainer(t.path);t.control=o.registerControl(t.name,t.control),pa(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ma.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name),dd(this._directives,t)})}addFormGroup(t){ma.then(()=>{const o=this._findContainer(t.path),s=new rg({});Sb(s,t),o.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ma.then(()=>{const o=this._findContainer(t.path);o&&o.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,o){ma.then(()=>{this.form.get(t.path).setValue(o)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Jp(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(Un,10),f.Y36(qr,10))},i.\u0275dir=f.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,o){1&t&&f.NdJ("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([pS]),f.qOj]}),i})();const xb={provide:Ai,useExisting:(0,f.Gpc)(()=>kl)},Ob=(()=>Promise.resolve(null))();let kl=(()=>{class i extends Ai{constructor(t,o,s,u){super(),this.control=new Fl,this._registered=!1,this.update=new f.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(s),this.valueAccessor=function(i,e){if(!e)return null;let t,o,s;return Array.isArray(e),e.forEach(u=>{u.constructor===ca?t=u:function(i){return Object.getPrototypeOf(i.constructor)===ua}(u)?o=u:s=u}),s||o||t||null}(0,u)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(i,e){return[...e.path,i]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){pa(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Ob.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const o=t.isDisabled.currentValue,s=""===o||o&&"false"!==o;Ob.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(hn,9),f.Y36(Un,10),f.Y36(qr,10),f.Y36(oi,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[f._Bn([xb]),f.qOj,f.TTD]}),i})(),Nl=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();const sg={provide:hn,useExisting:(0,f.Gpc)(()=>Vl)};let Vl=(()=>{class i extends hn{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(cd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return pa(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){ld(t.control||null,t,!1),dd(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,Jp(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,s=this.form.get(t.path);o!==s&&(ld(o||null,t),s instanceof Fl&&(pa(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);Sb(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,e){return cd(i,e)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){xl(this.form,this),this._oldForm&&cd(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(Un,10),f.Y36(qr,10))},i.\u0275dir=f.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&f.NdJ("submit",function(u){return o.onSubmit(u)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([sg]),f.qOj,f.TTD]}),i})(),Ti=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Nl]]}),i})(),IS=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[Ti]}),i})();const Dd=new f.OlP("MAT_INPUT_VALUE_ACCESSOR"),Sd=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let xS=0;const OS=Wc(class{constructor(i,e,t,o){this._defaultErrorStateMatcher=i,this._parentForm=e,this._parentFormGroup=t,this.ngControl=o}});let hg=(()=>{class i extends OS{constructor(t,o,s,u,d,g,y,b,E,C){super(g,u,d,s),this._elementRef=t,this._platform=o,this._autofillMonitor=b,this._formField=C,this._uid="mat-input-"+xS++,this.focused=!1,this.stateChanges=new gt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(O=>ks().has(O));const A=this._elementRef.nativeElement,I=A.nodeName.toLowerCase();this._inputValueAccessor=y||A,this._previousNativeValue=this.value,this.id=this.id,o.IOS&&E.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",O=>{const V=O.target;!V.value&&0===V.selectionStart&&0===V.selectionEnd&&(V.setSelectionRange(1,1),V.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===I,this._isTextarea="textarea"===I,this._isInFormField=!!C,this._isNativeSelect&&(this.controlType=A.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=yn(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){var t,o,s,u;return null!=(u=null!=(s=this._required)?s:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(lb.required))&&u}set required(t){this._required=yn(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&ks().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=yn(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var o,s;const t=(null==(s=null==(o=this._formField)?void 0:o._hideControlPlaceholder)?void 0:s.call(o))?null:this.placeholder;if(t!==this._previousPlaceholder){const u=this._elementRef.nativeElement;this._previousPlaceholder=t,t?u.setAttribute("placeholder",t):u.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){Sd.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,o=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&o&&o.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(zt),f.Y36(Ai,10),f.Y36(gd,8),f.Y36(Vl,8),f.Y36(Yc),f.Y36(Dd,10),f.Y36(Rx),f.Y36(f.R0b),f.Y36(Bp,8))},i.\u0275dir=f.lG2({type:i,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(t,o){1&t&&f.NdJ("focus",function(){return o._focusChanged(!0)})("blur",function(){return o._focusChanged(!1)})("input",function(){return o._onInput()}),2&t&&(f.Ikx("disabled",o.disabled)("required",o.required),f.uIk("id",o.id)("data-placeholder",o.placeholder)("readonly",o.readonly&&!o._isNativeSelect||null)("aria-invalid",o.empty&&o.required?null:o.errorState)("aria-required",o.required),f.ekj("mat-input-server",o._isServer)("mat-native-select-inline",o._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[f._Bn([{provide:td,useExisting:i}]),f.qOj,f.TTD]}),i})(),fg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[Yc],imports:[[KD,Si,gr],KD,Si]}),i})();class pg{constructor(e=!1,t,o=!0){this._multiple=e,this._emitChanges=o,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new gt.x,t&&t.length&&(e?t.forEach(s=>this._markSelected(s)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){}}function fn(i,e){return(0,Vn.e)((t,o)=>{let s=null,u=0,d=!1;const g=()=>d&&!s&&o.complete();t.subscribe(new vn.Q(o,y=>{null==s||s.unsubscribe();let b=0;const E=u++;(0,ro.Xf)(i(y,E)).subscribe(s=new vn.Q(o,C=>o.next(e?e(y,C,E,b++):C),()=>{s=null,g()}))},()=>{d=!0,g()}))})}const PS=["trigger"],kS=["panel"];function NS(i,e){if(1&i&&(f.TgZ(0,"span",8),f._uU(1),f.qZA()),2&i){const t=f.oxw();f.xp6(1),f.Oqu(t.placeholder)}}function LS(i,e){if(1&i&&(f.TgZ(0,"span",12),f._uU(1),f.qZA()),2&i){const t=f.oxw(2);f.xp6(1),f.Oqu(t.triggerValue)}}function t0(i,e){1&i&&f.Hsn(0,0,["*ngSwitchCase","true"])}function gg(i,e){if(1&i&&(f.TgZ(0,"span",9),f.YNc(1,LS,2,1,"span",10),f.YNc(2,t0,1,0,"ng-content",11),f.qZA()),2&i){const t=f.oxw();f.Q6J("ngSwitch",!!t.customTrigger),f.xp6(2),f.Q6J("ngSwitchCase",!0)}}function n0(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"div",13),f.TgZ(1,"div",14,15),f.NdJ("@transformPanel.done",function(s){return f.CHM(t),f.oxw()._panelDoneAnimatingStream.next(s.toState)})("keydown",function(s){return f.CHM(t),f.oxw()._handleKeydown(s)}),f.Hsn(3,1),f.qZA(),f.qZA()}if(2&i){const t=f.oxw();f.Q6J("@transformPanelWrap",void 0),f.xp6(1),f.Gre("mat-select-panel ",t._getPanelTheme(),""),f.Udp("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),f.Q6J("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),f.uIk("id",t.id+"-panel")("aria-multiselectable",t.multiple)("aria-label",t.ariaLabel||null)("aria-labelledby",t._getPanelAriaLabelledby())}}const r0=[[["mat-select-trigger"]],"*"],o0=["mat-select-trigger","*"],mg={transformPanelWrap:ri("transformPanelWrap",[qs("* => void",jf("@transformPanel",[Dv()],{optional:!0}))]),transformPanel:ri("transformPanel",[Ho("void",hr({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),Ho("showing",hr({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),Ho("showing-multiple",hr({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),qs("void => *",jo("120ms cubic-bezier(0, 0, 0.2, 1)")),qs("* => void",jo("100ms 25ms linear",hr({opacity:0})))])};let s0=0;const US=new f.OlP("mat-select-scroll-strategy"),jS=new f.OlP("MAT_SELECT_CONFIG"),yg={provide:US,deps:[Uo],useFactory:function(i){return()=>i.scrollStrategies.reposition()}};class HS{constructor(e,t){this.source=e,this.value=t}}const l0=oa(__(v_(Wc(class{constructor(i,e,t,o,s){this._elementRef=i,this._defaultErrorStateMatcher=e,this._parentForm=t,this._parentFormGroup=o,this.ngControl=s}})))),GS=new f.OlP("MatSelectTrigger");let vg=(()=>{class i extends l0{constructor(t,o,s,u,d,g,y,b,E,C,A,I,O,V){var W,ie,ge;super(d,u,y,b,C),this._viewportRuler=t,this._changeDetectorRef=o,this._ngZone=s,this._dir=g,this._parentFormField=E,this._liveAnnouncer=O,this._defaultOptions=V,this._panelOpen=!1,this._compareWith=(me,ke)=>me===ke,this._uid="mat-select-"+s0++,this._triggerAriaLabelledBy=null,this._destroy=new gt.x,this._onChange=()=>{},this._onTouched=()=>{},this._valueId="mat-select-value-"+s0++,this._panelDoneAnimatingStream=new gt.x,this._overlayPanelClass=(null==(W=this._defaultOptions)?void 0:W.overlayPanelClass)||"",this._focused=!1,this.controlType="mat-select",this._multiple=!1,this._disableOptionCentering=null!=(ge=null==(ie=this._defaultOptions)?void 0:ie.disableOptionCentering)&&ge,this.ariaLabel="",this.optionSelectionChanges=Jc(()=>{const me=this.options;return me?me.changes.pipe(Ei(me),fn(()=>(0,Hs.T)(...me.map(ke=>ke.onSelectionChange)))):this._ngZone.onStable.pipe((0,Ur.q)(1),fn(()=>this.optionSelectionChanges))}),this.openedChange=new f.vpe,this._openedStream=this.openedChange.pipe(In(me=>me),(0,ct.U)(()=>{})),this._closedStream=this.openedChange.pipe(In(me=>!me),(0,ct.U)(()=>{})),this.selectionChange=new f.vpe,this.valueChange=new f.vpe,this.ngControl&&(this.ngControl.valueAccessor=this),null!=(null==V?void 0:V.typeaheadDebounceInterval)&&(this._typeaheadDebounceInterval=V.typeaheadDebounceInterval),this._scrollStrategyFactory=I,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(A)||0,this.id=this.id}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){var t,o,s,u;return null!=(u=null!=(s=this._required)?s:null==(o=null==(t=this.ngControl)?void 0:t.control)?void 0:o.hasValidator(lb.required))&&u}set required(t){this._required=yn(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){this._multiple=yn(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=yn(t)}get compareWith(){return this._compareWith}set compareWith(t){this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){(t!==this._value||this._multiple&&Array.isArray(t))&&(this.options&&this._setSelectionByValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=Ms(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new pg(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(Rf(),Kn(this._destroy)).subscribe(()=>this._panelDoneAnimating(this.panelOpen))}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(Kn(this._destroy)).subscribe(t=>{t.added.forEach(o=>o.select()),t.removed.forEach(o=>o.deselect())}),this.options.changes.pipe(Ei(null),Kn(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){const t=this._getTriggerAriaLabelledby();if(t!==this._triggerAriaLabelledBy){const o=this._elementRef.nativeElement;this._triggerAriaLabelledBy=t,t?o.setAttribute("aria-labelledby",t):o.removeAttribute("aria-labelledby")}this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){this._canOpen()&&(this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck())}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.value=t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){var t,o;return this.multiple?(null==(t=this._selectionModel)?void 0:t.selected)||[]:null==(o=this._selectionModel)?void 0:o.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(o=>o.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const o=t.keyCode,s=40===o||38===o||37===o||39===o,u=13===o||32===o,d=this._keyManager;if(!d.isTyping()&&u&&!Vo(t)||(this.multiple||t.altKey)&&s)t.preventDefault(),this.open();else if(!this.multiple){const g=this.selected;d.onKeydown(t);const y=this.selected;y&&g!==y&&this._liveAnnouncer.announce(y.viewValue,1e4)}}_handleOpenKeydown(t){const o=this._keyManager,s=t.keyCode,u=40===s||38===s,d=o.isTyping();if(u&&t.altKey)t.preventDefault(),this.close();else if(d||13!==s&&32!==s||!o.activeItem||Vo(t))if(!d&&this._multiple&&65===s&&t.ctrlKey){t.preventDefault();const g=this.options.some(y=>!y.disabled&&!y.selected);this.options.forEach(y=>{y.disabled||(g?y.select():y.deselect())})}else{const g=o.activeItemIndex;o.onKeydown(t),this._multiple&&u&&t.shiftKey&&o.activeItem&&o.activeItemIndex!==g&&o.activeItem._selectViaInteraction()}else t.preventDefault(),o.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,!this.disabled&&!this.panelOpen&&(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this._overlayDir.positionChange.pipe((0,Ur.q)(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._positioningSettled()})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this._selectionModel.selected.forEach(o=>o.setInactiveStyles()),this._selectionModel.clear(),this.multiple&&t)Array.isArray(t),t.forEach(o=>this._selectValue(o)),this._sortValues();else{const o=this._selectValue(t);o?this._keyManager.updateActiveItem(o):this.panelOpen||this._keyManager.updateActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const o=this.options.find(s=>{if(this._selectionModel.isSelected(s))return!1;try{return null!=s.value&&this._compareWith(s.value,t)}catch(u){return!1}});return o&&this._selectionModel.select(o),o}_initKeyManager(){this._keyManager=new AC(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withHomeAndEnd().withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(Kn(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(Kn(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollOptionIntoView(this._keyManager.activeItemIndex||0):!this._panelOpen&&!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=(0,Hs.T)(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(Kn(t)).subscribe(o=>{this._onSelect(o.source,o.isUserInput),o.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),(0,Hs.T)(...this.options.map(o=>o._stateChanges)).pipe(Kn(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()})}_onSelect(t,o){const s=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(s!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),o&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),o&&this.focus())):(t.deselect(),this._selectionModel.clear(),null!=this.value&&this._propagateChanges(t.value)),s!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((o,s)=>this.sortComparator?this.sortComparator(o,s,t):t.indexOf(o)-t.indexOf(s)),this.stateChanges.next()}}_propagateChanges(t){let o=null;o=this.multiple?this.selected.map(s=>s.value):this.selected?this.selected.value:t,this._value=o,this.valueChange.emit(o),this._onChange(o),this.selectionChange.emit(this._getChangeEvent(o)),this._changeDetectorRef.markForCheck()}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_canOpen(){var t;return!this._panelOpen&&!this.disabled&&(null==(t=this.options)?void 0:t.length)>0}focus(t){this._elementRef.nativeElement.focus(t)}_getPanelAriaLabelledby(){var s;if(this.ariaLabel)return null;const t=null==(s=this._parentFormField)?void 0:s.getLabelId();return this.ariaLabelledby?(t?t+" ":"")+this.ariaLabelledby:t}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_getTriggerAriaLabelledby(){var s;if(this.ariaLabel)return null;const t=null==(s=this._parentFormField)?void 0:s.getLabelId();let o=(t?t+" ":"")+this._valueId;return this.ariaLabelledby&&(o+=" "+this.ariaLabelledby),o}_panelDoneAnimating(t){this.openedChange.emit(t)}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty||this._focused&&!!this._placeholder}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(gf),f.Y36(f.sBO),f.Y36(f.R0b),f.Y36(Yc),f.Y36(f.SBq),f.Y36(oo,8),f.Y36(gd,8),f.Y36(Vl,8),f.Y36(Bp,8),f.Y36(Ai,10),f.$8M("tabindex"),f.Y36(US),f.Y36(KI),f.Y36(jS,8))},i.\u0275dir=f.lG2({type:i,viewQuery:function(t,o){if(1&t&&(f.Gf(PS,5),f.Gf(kS,5),f.Gf(fl,5)),2&t){let s;f.iGM(s=f.CRH())&&(o.trigger=s.first),f.iGM(s=f.CRH())&&(o.panel=s.first),f.iGM(s=f.CRH())&&(o._overlayDir=s.first)}},inputs:{panelClass:"panelClass",placeholder:"placeholder",required:"required",multiple:"multiple",disableOptionCentering:"disableOptionCentering",compareWith:"compareWith",value:"value",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",typeaheadDebounceInterval:"typeaheadDebounceInterval",sortComparator:"sortComparator",id:"id"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},features:[f.qOj,f.TTD]}),i})(),_g=(()=>{class i extends vg{constructor(){super(...arguments),this._scrollTop=0,this._triggerFontSize=0,this._transformOrigin="top",this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}]}_calculateOverlayScroll(t,o,s){const u=this._getItemHeight();return Math.min(Math.max(0,u*t-o+u/2),s)}ngOnInit(){super.ngOnInit(),this._viewportRuler.change().pipe(Kn(this._destroy)).subscribe(()=>{this.panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}open(){super._canOpen()&&(super.open(),this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._calculateOverlayPosition(),this._ngZone.onStable.pipe((0,Ur.q)(1)).subscribe(()=>{this._triggerFontSize&&this._overlayDir.overlayRef&&this._overlayDir.overlayRef.overlayElement&&(this._overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}_scrollOptionIntoView(t){const o=k_(t,this.options,this.optionGroups),s=this._getItemHeight();this.panel.nativeElement.scrollTop=0===t&&1===o?0:function(i,e,t,o){return i<t?i:i+e>t+256?Math.max(0,i-256+e):t}((t+o)*s,s,this.panel.nativeElement.scrollTop)}_positioningSettled(){this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop}_panelDoneAnimating(t){this.panelOpen?this._scrollTop=0:(this._overlayDir.offsetX=0,this._changeDetectorRef.markForCheck()),super._panelDoneAnimating(t)}_getChangeEvent(t){return new HS(this,t)}_calculateOverlayOffsetX(){const t=this._overlayDir.overlayRef.overlayElement.getBoundingClientRect(),o=this._viewportRuler.getViewportSize(),s=this._isRtl(),u=this.multiple?56:32;let d;if(this.multiple)d=40;else if(this.disableOptionCentering)d=16;else{let b=this._selectionModel.selected[0]||this.options.first;d=b&&b.group?32:16}s||(d*=-1);const g=0-(t.left+d-(s?u:0)),y=t.right+d-o.width+(s?0:u);g>0?d+=g+8:y>0&&(d-=y+8),this._overlayDir.offsetX=Math.round(d),this._overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,o,s){const u=this._getItemHeight(),d=(u-this._triggerRect.height)/2,g=Math.floor(256/u);let y;return this.disableOptionCentering?0:(y=0===this._scrollTop?t*u:this._scrollTop===s?(t-(this._getItemCount()-g))*u+(u-(this._getItemCount()*u-256)%u):o-u/2,Math.round(-1*y-d))}_checkOverlayWithinViewport(t){const o=this._getItemHeight(),s=this._viewportRuler.getViewportSize(),u=this._triggerRect.top-8,d=s.height-this._triggerRect.bottom-8,g=Math.abs(this._offsetY),b=Math.min(this._getItemCount()*o,256)-g-this._triggerRect.height;b>d?this._adjustPanelUp(b,d):g>u?this._adjustPanelDown(g,u,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,o){const s=Math.round(t-o);this._scrollTop-=s,this._offsetY-=s,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,o,s){const u=Math.round(t-o);if(this._scrollTop+=u,this._offsetY+=u,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=s)return this._scrollTop=s,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_calculateOverlayPosition(){const t=this._getItemHeight(),o=this._getItemCount(),s=Math.min(o*t,256),d=o*t-s;let g;g=this.empty?0:Math.max(this.options.toArray().indexOf(this._selectionModel.selected[0]),0),g+=k_(g,this.options,this.optionGroups);const y=s/2;this._scrollTop=this._calculateOverlayScroll(g,y,d),this._offsetY=this._calculateOverlayOffsetY(g,y,d),this._checkOverlayWithinViewport(d)}_getOriginBasedOnOption(){const t=this._getItemHeight(),o=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-o+t/2}px 0px`}_getItemHeight(){return 3*this._triggerFontSize}_getItemCount(){return this.options.length+this.optionGroups.length}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=f.n5z(i)))(o||i)}}(),i.\u0275cmp=f.Xpm({type:i,selectors:[["mat-select"]],contentQueries:function(t,o,s){if(1&t&&(f.Suo(s,GS,5),f.Suo(s,Qc,5),f.Suo(s,F_,5)),2&t){let u;f.iGM(u=f.CRH())&&(o.customTrigger=u.first),f.iGM(u=f.CRH())&&(o.options=u),f.iGM(u=f.CRH())&&(o.optionGroups=u)}},hostAttrs:["role","combobox","aria-autocomplete","none","aria-haspopup","true",1,"mat-select"],hostVars:20,hostBindings:function(t,o){1&t&&f.NdJ("keydown",function(u){return o._handleKeydown(u)})("focus",function(){return o._onFocus()})("blur",function(){return o._onBlur()}),2&t&&(f.uIk("id",o.id)("tabindex",o.tabIndex)("aria-controls",o.panelOpen?o.id+"-panel":null)("aria-expanded",o.panelOpen)("aria-label",o.ariaLabel||null)("aria-required",o.required.toString())("aria-disabled",o.disabled.toString())("aria-invalid",o.errorState)("aria-describedby",o._ariaDescribedby||null)("aria-activedescendant",o._getAriaActiveDescendant()),f.ekj("mat-select-disabled",o.disabled)("mat-select-invalid",o.errorState)("mat-select-required",o.required)("mat-select-empty",o.empty)("mat-select-multiple",o.multiple))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matSelect"],features:[f._Bn([{provide:td,useExisting:i},{provide:Ip,useExisting:i}]),f.qOj],ngContentSelectors:o0,decls:9,vars:12,consts:[["cdk-overlay-origin","",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder mat-select-min-line",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayPanelClass","cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder","mat-select-min-line"],[1,"mat-select-value-text",3,"ngSwitch"],["class","mat-select-min-line",4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-min-line"],[1,"mat-select-panel-wrap"],["role","listbox","tabindex","-1",3,"ngClass","keydown"],["panel",""]],template:function(t,o){if(1&t&&(f.F$t(r0),f.TgZ(0,"div",0,1),f.NdJ("click",function(){return o.toggle()}),f.TgZ(3,"div",2),f.YNc(4,NS,2,1,"span",3),f.YNc(5,gg,3,2,"span",4),f.qZA(),f.TgZ(6,"div",5),f._UZ(7,"div",6),f.qZA(),f.qZA(),f.YNc(8,n0,4,14,"ng-template",7),f.NdJ("backdropClick",function(){return o.close()})("attach",function(){return o._onAttached()})("detach",function(){return o.close()})),2&t){const s=f.MAs(1);f.uIk("aria-owns",o.panelOpen?o.id+"-panel":null),f.xp6(3),f.Q6J("ngSwitch",o.empty),f.uIk("id",o._valueId),f.xp6(1),f.Q6J("ngSwitchCase",!0),f.xp6(1),f.Q6J("ngSwitchCase",!1),f.xp6(3),f.Q6J("cdkConnectedOverlayPanelClass",o._overlayPanelClass)("cdkConnectedOverlayScrollStrategy",o._scrollStrategy)("cdkConnectedOverlayOrigin",s)("cdkConnectedOverlayOpen",o.panelOpen)("cdkConnectedOverlayPositions",o._positions)("cdkConnectedOverlayMinWidth",null==o._triggerRect?null:o._triggerRect.width)("cdkConnectedOverlayOffsetY",o._offsetY)}},directives:[Of,Ya,kr,fl,Nr,Cr],styles:['.mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px;outline:0}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}.mat-select-min-line:empty::before{content:" ";white-space:pre;width:1px;display:inline-block;opacity:0}\n'],encapsulation:2,data:{animation:[mg.transformPanelWrap,mg.transformPanel]},changeDetection:0}),i})(),bg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({providers:[yg],imports:[[Qa,hc,xp,gr],mf,Si,xp,gr]}),i})();const Td=["mat-button",""],wg=["*"],zS=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],c0=_D(v_(oa(class{constructor(i){this._elementRef=i}})));let Ul=(()=>{class i extends c0{constructor(t,o,s){super(t),this._focusMonitor=o,this._animationMode=s,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const u of zS)this._hasHostAttributes(u)&&this._getHostElement().classList.add(u);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,o){t?this._focusMonitor.focusVia(this._getHostElement(),t,o):this._getHostElement().focus(o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(o=>this._getHostElement().hasAttribute(o))}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(f.SBq),f.Y36(vc),f.Y36(ts,8))},i.\u0275cmp=f.Xpm({type:i,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){if(1&t&&f.Gf(Zc,5),2&t){let s;f.iGM(s=f.CRH())&&(o.ripple=s.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(f.uIk("disabled",o.disabled||null),f.ekj("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[f.qOj],attrs:Td,ngContentSelectors:wg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(f.F$t(),f.TgZ(0,"span",0),f.Hsn(1),f.qZA(),f._UZ(2,"span",1),f._UZ(3,"span",2)),2&t&&(f.xp6(2),f.ekj("mat-button-ripple-round",o.isRoundButton||o.isIconButton),f.Q6J("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[Zc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),i})(),d0=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Mp,gr],gr]}),i})();function Eg(i,e){if(1&i&&(f.TgZ(0,"mat-option",8),f._uU(1),f.qZA()),2&i){const t=e.$implicit;f.Q6J("value",t.value),f.xp6(1),f.hij(" ",t.viewValue," ")}}let Cg=(()=>{class i{constructor(t,o,s){this.$=t,this.dialogRef=o,this.userPref=new Wi,this.voice=this.$.voice,console.log(s)}ngOnInit(){this.userPref=new Wi,this.userPref.language=this.voice.lang}save(){this.$.ls.setCollection("userpref",this.userPref),this.userPref=new Wi,this.dialogRef.close("i got close")}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(qw),f.Y36(Gr),f.Y36(Fp))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-dialog"]],decls:17,vars:5,consts:[[1,"row"],[1,"col-md-12","text-center"],["appearance","fill",1,"example-full-width"],["type","text","matInput","",3,"ngModel","ngModelChange"],["appearance","fill"],[3,"value","ngModel","valueChange","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[3,"value"]],template:function(t,o){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"mat-form-field",2),f.TgZ(3,"mat-label"),f._uU(4,"Enter Name"),f.qZA(),f.TgZ(5,"input",3),f.NdJ("ngModelChange",function(u){return o.userPref.name=u}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(6,"div",0),f.TgZ(7,"div",1),f.TgZ(8,"mat-form-field",4),f.TgZ(9,"mat-label"),f._uU(10,"Select Language"),f.qZA(),f.TgZ(11,"mat-select",5),f.NdJ("valueChange",function(u){return o.voice.lang=u})("ngModelChange",function(u){return o.userPref.language=u})("ngModelChange",function(){return o.voice.init()}),f.YNc(12,Eg,2,2,"mat-option",6),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.TgZ(13,"div",0),f.TgZ(14,"div",1),f.TgZ(15,"button",7),f.NdJ("click",function(){return o.save()}),f._uU(16,"Save"),f.qZA(),f.qZA(),f.qZA()),2&t&&(f.xp6(5),f.Q6J("ngModel",o.userPref.name),f.xp6(6),f.Q6J("value",o.voice.lang)("ngModel",o.userPref.language),f.xp6(1),f.Q6J("ngForOf",o.voice.languge),f.xp6(3),f.Q6J("disabled",!o.userPref.language||!o.userPref.name))},directives:[Up,aa,hg,ca,sd,kl,_g,xu,Ul,Qc],styles:[".mat-dialog-container{background:#24222f!important}"]}),i})();function $S(i,e){if(1&i&&(f.TgZ(0,"mat-option",8),f._uU(1),f.qZA()),2&i){const t=e.$implicit;f.Q6J("value",t.value),f.xp6(1),f.hij(" ",t.viewValue," ")}}function WS(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"mat-form-field",5),f.TgZ(3,"mat-label"),f._uU(4,"Select Language"),f.qZA(),f.TgZ(5,"mat-select",6),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().changeLang=s})("ngModelChange",function(){return f.CHM(t),f.oxw().setLang()}),f.YNc(6,$S,2,2,"mat-option",7),f.qZA(),f.qZA(),f.qZA(),f.qZA()}if(2&i){const t=f.oxw();f.xp6(5),f.Q6J("ngModel",t.changeLang),f.xp6(1),f.Q6J("ngForOf",t.$.voice.languge)}}function h0(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"button",9),f.NdJ("click",function(){return f.CHM(t),f.oxw().toggle()}),f._uU(1,"Change Language"),f.qZA()}}function f0(i,e){if(1&i){const t=f.EpF();f.TgZ(0,"button",10),f.NdJ("click",function(){return f.CHM(t),f.oxw().changeLanguage()}),f._uU(1,"Save"),f.qZA()}}let p0=(()=>{class i{constructor(t,o,s){this.$=t,this.dialogRef=o,this.change=!1,this.res=new H_,this.userPref=new Wi,this.res=s}ngOnInit(){console.log(this.res),this.changeLang=this.$.voice.lang}toggle(){this.change=!this.change}setLang(){this.userPref=this.$.ls.getCollection("userpref");let t={};t.name=this.userPref.name,t.language=this.changeLang,this.$.ls.setCollection("userpref",t)}changeLanguage(){this.$.voice.init(),this.userPref=new Wi,this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(qw),f.Y36(Gr),f.Y36(Fp))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-result"]],decls:13,vars:5,consts:[[1,"row"],[1,"col-md-12","text-center"],["class","row",4,"ngIf"],["mat-raised-button","","color","basic","style","background-color: #24222f !important;",3,"click",4,"ngIf"],["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["appearance","fill"],[3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-raised-button","","color","basic",2,"background-color","#24222f !important",3,"click"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,o){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"div",1),f.TgZ(2,"h2"),f._uU(3),f.qZA(),f.qZA(),f.qZA(),f.TgZ(4,"div",0),f.TgZ(5,"div",1),f.TgZ(6,"h2"),f._uU(7),f.qZA(),f.qZA(),f.qZA(),f.YNc(8,WS,7,2,"div",2),f.TgZ(9,"div",0),f.TgZ(10,"div",1),f.YNc(11,h0,2,0,"button",3),f.YNc(12,f0,2,0,"button",4),f.qZA(),f.qZA()),2&t&&(f.xp6(3),f.hij("",o.res.que," ?"),f.xp6(4),f.Oqu(o.res.ans),f.xp6(1),f.Q6J("ngIf",o.change),f.xp6(3),f.Q6J("ngIf",!o.change),f.xp6(1),f.Q6J("ngIf",o.change))},directives:[vi,Up,aa,_g,sd,kl,xu,Qc,Ul],styles:[".mat-dialog-container{background:#24222f!important}"]}),i})(),YS=(()=>{class i{constructor(t){this.dialog=t}openDialog(t=[]){let o=new sa;return o.data=t,this.dialog.open(Cg,o).afterClosed()}openResult(t=[]){let o=new sa;return o.data=t,this.dialog.open(p0,o).afterClosed()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(U_))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Md(){return(0,Vn.e)((i,e)=>{let t,o=!1;i.subscribe(new vn.Q(e,s=>{const u=t;t=s,o&&e.next([u,s]),o=!0}))})}function g0(i,e,t,o,s){return(u,d)=>{let g=t,y=e,b=0;u.subscribe(new vn.Q(d,E=>{const C=b++;y=g?i(y,E,C):(g=!0,E),o&&d.next(y)},s&&(()=>{g&&d.next(y),d.complete()})))}}function jl(i,e){return(0,Vn.e)(g0(i,e,arguments.length>=2,!0))}var as=x(4763),tn=x(7506),KS=x(7713),m0=x(417),T=x(4762),At=x(3923),yo=x(6433),Dg=function(i,e){return(Dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(t[s]=o[s])})(i,e)};function y0(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ue,v0="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_0=_0||{},st=v0||self;function Sg(){}function b0(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Id(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var w0="closure_uid_"+(1e9*Math.random()>>>0),xd=0;function Xx(i,e,t){return i.call.apply(i.bind,arguments)}function Ag(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,o),i.apply(e,s)}}return function(){return i.apply(e,arguments)}}function Xt(i,e,t){return(Xt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Xx:Ag).apply(null,arguments)}function Hl(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function On(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,s,u){for(var d=Array(arguments.length-2),g=2;g<arguments.length;g++)d[g-2]=arguments[g];return e.prototype[s].apply(o,d)}}function vo(){this.s=this.s,this.o=this.o}var E0={};vo.prototype.s=!1,vo.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,w0)&&i[w0]||(i[w0]=++xd)}(this);delete E0[i]}},vo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Mg=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(var t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},Ig=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){for(var o=i.length,s="string"==typeof i?i.split(""):i,u=0;u<o;u++)u in s&&e.call(t,s[u],u,i)};function xg(i){return Array.prototype.concat.apply([],arguments)}function Ea(i){var e=i.length;if(0<e){for(var t=Array(e),o=0;o<e;o++)t[o]=i[o];return t}return[]}function Gl(i){return/^[\s\xa0]*$/.test(i)}var Xn,QS=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function mr(i,e){return-1!=i.indexOf(e)}function C0(i,e){return i<e?-1:i>e?1:0}e:{var Od=st.navigator;if(Od){var D0=Od.userAgent;if(D0){Xn=D0;break e}}Xn=""}function S0(i,e,t){for(var o in i)e.call(t,i[o],o,i)}function A0(i){var e={};for(var t in i)e[t]=i[t];return e}var Rd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T0(i,e){for(var t,o,s=1;s<arguments.length;s++){for(t in o=arguments[s])i[t]=o[t];for(var u=0;u<Rd.length;u++)t=Rd[u],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function er(i){return er[" "](i),i}er[" "]=Sg;var ql,i,Og=mr(Xn,"Opera"),Ca=mr(Xn,"Trident")||mr(Xn,"MSIE"),M0=mr(Xn,"Edge"),zl=M0||Ca,Rg=mr(Xn,"Gecko")&&!(mr(Xn.toLowerCase(),"webkit")&&!mr(Xn,"Edge"))&&!(mr(Xn,"Trident")||mr(Xn,"MSIE"))&&!mr(Xn,"Edge"),I0=mr(Xn.toLowerCase(),"webkit")&&!mr(Xn,"Edge");function x0(){var i=st.document;return i?i.documentMode:void 0}e:{var Fd="",Fg=(i=Xn,Rg?/rv:([^\);]+)(\)|;)/.exec(i):M0?/Edge\/([\d\.]+)/.exec(i):Ca?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):I0?/WebKit\/(\S+)/.exec(i):Og?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Fg&&(Fd=Fg?Fg[1]:""),Ca){var Pg=x0();if(null!=Pg&&Pg>parseFloat(Fd)){ql=String(Pg);break e}}ql=Fd}var kg={};function si(){return e=kg,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var i=0,e=QS(String(ql)).split("."),t=QS("9").split("."),o=Math.max(e.length,t.length),s=0;0==i&&s<o;s++){var u=e[s]||"",d=t[s]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==u[0].length&&0==d[0].length)break;i=C0(0==u[1].length?0:parseInt(u[1],10),0==d[1].length?0:parseInt(d[1],10))||C0(0==u[2].length,0==d[2].length)||C0(u[2],d[2]),u=u[3],d=d[3]}while(0==i)}return 0<=i}();var e}var XS=st.document&&Ca&&(x0()||parseInt(ql,10))||void 0,R0=function(){if(!st.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{st.addEventListener("test",Sg,e),st.removeEventListener("test",Sg,e)}catch(t){}return i}();function jn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function $l(i,e){if(jn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Rg){e:{try{er(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:F0[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&$l.Z.h.call(this)}}jn.prototype.h=function(){this.defaultPrevented=!0},On($l,jn);var F0={2:"touch",3:"pen",4:"mouse"};$l.prototype.h=function(){$l.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Wl="closure_listenable_"+(1e6*Math.random()|0),tO=0;function P0(i,e,t,o,s){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=s,this.key=++tO,this.ca=this.fa=!1}function Yl(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Pd(i){this.src=i,this.g={},this.h=0}function Lg(i,e){var t=e.type;if(t in i.g){var u,o=i.g[t],s=Mg(o,e);(u=0<=s)&&Array.prototype.splice.call(o,s,1),u&&(Yl(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function kd(i,e,t,o){for(var s=0;s<i.length;++s){var u=i[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==o)return s}return-1}Pd.prototype.add=function(i,e,t,o,s){var u=i.toString();(i=this.g[u])||(i=this.g[u]=[],this.h++);var d=kd(i,e,o,s);return-1<d?(e=i[d],t||(e.fa=!1)):((e=new P0(e,this.src,u,!!o,s)).fa=t,i.push(e)),e};var ls="closure_lm_"+(1e6*Math.random()|0),Kl={};function Vg(i,e,t,o,s){if(o&&o.once)return Bg(i,e,t,o,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)Vg(i,e[u],t,o,s);return null}return t=Hg(t),i&&i[Wl]?i.N(e,t,Id(o)?!!o.capture:!!o,s):k0(i,e,t,!1,o,s)}function k0(i,e,t,o,s,u){if(!e)throw Error("Invalid event type");var d=Id(s)?!!s.capture:!!s,g=Nd(i);if(g||(i[ls]=g=new Pd(i)),(t=g.add(e,t,o,d,u)).proxy)return t;if(o=function(){var e=nO;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)R0||(s=d),void 0===s&&(s=!1),i.addEventListener(e.toString(),o,s);else if(i.attachEvent)i.attachEvent(eA(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Bg(i,e,t,o,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Bg(i,e[u],t,o,s);return null}return t=Hg(t),i&&i[Wl]?i.O(e,t,Id(o)?!!o.capture:!!o,s):k0(i,e,t,!0,o,s)}function L0(i,e,t,o,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)L0(i,e[u],t,o,s);else o=Id(o)?!!o.capture:!!o,t=Hg(t),i&&i[Wl]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=kd(u=i.g[e],t,o,s))&&(Yl(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete i.g[e],i.h--))):i&&(i=Nd(i))&&(e=i.g[e.toString()],i=-1,e&&(i=kd(e,t,o,s)),(t=-1<i?e[i]:null)&&Ug(t))}function Ug(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Wl])Lg(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(eA(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=Nd(e))?(Lg(t,i),0==t.h&&(t.src=null,e[ls]=null)):Yl(i)}}}function eA(i){return i in Kl?Kl[i]:Kl[i]="on"+i}function nO(i,e){if(i.ca)i=!0;else{e=new $l(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&Ug(i),i=t.call(o,e)}return i}function Nd(i){return(i=i[ls])instanceof Pd?i:null}var jg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hg(i){return"function"==typeof i?i:(i[jg]||(i[jg]=function(e){return i.handleEvent(e)}),i[jg])}function bn(){vo.call(this),this.i=new Pd(this),this.P=this,this.I=null}function Hn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new jn(e,i);else if(e instanceof jn)e.target=e.target||i;else{var s=e;T0(e=new jn(o,i),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=Gg(d,o,!0,e)&&s}if(s=Gg(d=e.g=i,o,!0,e)&&s,s=Gg(d,o,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Gg(d=e.g=t[u],o,!1,e)&&s}function Gg(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var g=d.listener,y=d.ia||d.src;d.fa&&Lg(i.i,d),s=!1!==g.call(y,o)&&s}}return s&&!o.defaultPrevented}On(bn,vo),bn.prototype[Wl]=!0,bn.prototype.removeEventListener=function(i,e,t,o){L0(this,i,e,t,o)},bn.prototype.M=function(){if(bn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Yl(t[o]);delete i.g[e],i.h--}}this.I=null},bn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},bn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var V0=st.JSON.stringify;function rO(){var i=Ud,e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var Vd,iO=function(){function i(){this.h=this.g=null}return i.prototype.add=function(e,t){var o=B0.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o},i}(),B0=new(function(){function i(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return i.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},i}())(function(){return new Ld},function(i){return i.reset()}),Ld=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function tA(i){st.setTimeout(function(){throw i},0)}function zg(i,e){Vd||function(){var i=st.Promise.resolve(void 0);Vd=function(){i.then(qg)}}(),Bd||(Vd(),Bd=!0),Ud.add(i,e)}var Bd=!1,Ud=new iO;function qg(){for(var i;i=rO();){try{i.h.call(i.g)}catch(t){tA(t)}var e=B0;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Bd=!1}function jd(i,e){bn.call(this),this.h=i||1,this.g=e||st,this.j=Xt(this.kb,this),this.l=Date.now()}function Zl(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Ql(i,e,t){if("function"==typeof i)t&&(i=Xt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Xt(i.handleEvent,i)}return 2147483647<Number(e)?-1:st.setTimeout(i,e||0)}function $g(i){i.g=Ql(function(){i.g=null,i.i&&(i.i=!1,$g(i))},i.j);var e=i.h;i.h=null,i.m.apply(null,e)}On(jd,bn),(Ue=jd.prototype).da=!1,Ue.S=null,Ue.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Hn(this,"tick"),this.da&&(Zl(this),this.start()))}},Ue.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.M=function(){jd.Z.M.call(this),Zl(this),delete this.g};var U0=function(i){function e(t,o){var s=i.call(this)||this;return s.m=t,s.j=o,s.h=null,s.i=!1,s.g=null,s}return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}Dg(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,i),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:$g(this)},e.prototype.M=function(){i.prototype.M.call(this),this.g&&(st.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(vo);function Hd(i){vo.call(this),this.h=i,this.g={}}On(Hd,vo);var nA=[];function rA(i,e,t,o){Array.isArray(t)||(t&&(nA[0]=t.toString()),t=nA);for(var s=0;s<t.length;s++){var u=Vg(e,t[s],o||i.handleEvent,!1,i.h||i);if(!u)break;i.g[u.key]=u}}function iA(i){S0(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ug(e)},i),i.g={}}function Wg(){this.g=!0}function cs(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var s=o[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return V0(t)}catch(g){return e}}(i,t)+(o?" "+o:"")})}Hd.prototype.M=function(){Hd.Z.M.call(this),iA(this)},Hd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Wg.prototype.Aa=function(){this.g=!1},Wg.prototype.info=function(){};var ds={},j0=null;function Jl(){return j0=j0||new bn}function Yg(i){jn.call(this,ds.Ma,i)}function Da(i){var e=Jl();Hn(e,new Yg(e,i))}function H0(i,e){jn.call(this,ds.STAT_EVENT,i),this.stat=e}function tr(i){var e=Jl();Hn(e,new H0(e,i))}function Kg(i,e){jn.call(this,ds.Na,i),this.size=e}function _o(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return st.setTimeout(function(){i()},e)}ds.Ma="serverreachability",On(Yg,jn),ds.STAT_EVENT="statevent",On(H0,jn),ds.Na="timingevent",On(Kg,jn);var Gd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Zg={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Sa(){}function z0(){}Sa.prototype.h=null;var Jg,Xl={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Qg(){jn.call(this,"d")}function q0(){jn.call(this,"c")}function zd(){}function eu(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new Hd(this),this.P=aA,this.W=new jd(i=zl?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $0}function $0(){this.i=null,this.g="",this.h=!1}On(Qg,jn),On(q0,jn),On(zd,Sa),zd.prototype.g=function(){return new XMLHttpRequest},zd.prototype.i=function(){return{}},Jg=new zd;var aA=45e3,Xg={},qd={};function em(i,e,t){i.K=1,i.v=ne(w(e)),i.s=t,i.U=!0,lA(i,null)}function lA(i,e){i.F=Date.now(),$d(i),i.A=w(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),Zd(t.h,"t",o),i.C=0,t=i.l.H,i.h=new $0,i.g=xO(i.l,t?e:null,!i.s),0<i.O&&(i.L=new U0(Xt(i.Ia,i,i.g),i.O)),rA(i.V,i.g,"readystatechange",i.gb),e=i.H?A0(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Da(1),function(i,e,t,o,s,u){i.info(function(){if(i.g)if(u)for(var d="",g=u.split("&"),y=0;y<g.length;y++){var b=g[y].split("=");if(1<b.length){var E=b[0];b=b[1];var C=E.split("_");d=2<=C.length&&"type"==C[1]?d+(E+"=")+b+"&":d+(E+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+o+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(i.j,i.u,i.A,i.m,i.X,i.s)}function uA(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function cA(i,e,t){for(var s,o=!0;!i.I&&i.C<t.length;){if((s=aO(i,t))==qd){4==e&&(i.o=4,tr(14),o=!1),cs(i.j,i.m,null,"[Incomplete Response]");break}if(s==Xg){i.o=4,tr(15),cs(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}cs(i.j,i.m,s,null),Y0(i,s)}uA(i)&&s!=qd&&s!=Xg&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,tr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),_A(e),e.L=!0,tr(11))):(cs(i.j,i.m,t,"[Invalid Chunked Response]"),Aa(i),Wd(i))}function aO(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?qd:(t=Number(e.substring(t,o)),isNaN(t)?Xg:(o+=1)+t>e.length?qd:(e=e.substr(o,t),i.C=o+t,e))}function $d(i){i.Y=Date.now()+i.P,W0(i,i.P)}function W0(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=_o(Xt(i.eb,i),e)}function tm(i){i.B&&(st.clearTimeout(i.B),i.B=null)}function Wd(i){0==i.l.G||i.I||AO(i.l,i)}function Aa(i){tm(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Zl(i.W),iA(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Y0(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||dA(t.i,i)))if(t.I=i.N,!i.J&&dA(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(W){o=null}if(Array.isArray(o)&&3==o.length){var s=o;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=_o(Xt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;ew(t),J0(t)}vA(t),tr(18)}if(1>=cO(t.i)&&t.ka){try{t.ka()}catch(W){}t.ka=void 0}}else tu(t,11)}else if((i.J||t.g==i)&&ew(t),!Gl(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){var u=s[e];if(t.U=u[0],u=u[1],2==t.G)if("c"==u[0]){t.J=u[1],t.la=u[2];var d=u[3];null!=d&&(t.ma=d,t.h.info("VER="+t.ma));var g=u[4];null!=g&&(t.za=g,t.h.info("SVER="+t.za));var y=u[5];null!=y&&"number"==typeof y&&0<y&&(t.K=o=1.5*y,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;var b=i.g;if(b){var E=b.g?b.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(E){var C=o.i;!C.g&&(mr(E,"spdy")||mr(E,"quic")||mr(E,"h2"))&&(C.j=C.l,C.g=new Set,C.h&&(hA(C,C.h),C.h=null))}if(o.D){var A=b.g?b.g.getResponseHeader("X-HTTP-Session-Id"):null;A&&(o.sa=A,U(o.F,o.D,A))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var I=i;if((o=t).oa=IO(o,o.H?o.la:null,o.W),I.J){dO(o.i,I);var O=I,V=o.K;V&&O.setTimeout(V),O.B&&(tm(O),$d(O)),o.g=I}else DO(o);0<t.l.length&&X0(t)}else"stop"!=u[0]&&"close"!=u[0]||tu(t,7);else 3==t.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?tu(t,7):mA(t):"noop"!=u[0]&&t.j&&t.j.wa(u),t.A=0)}Da(4)}catch(W){}}function l(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(b0(i)||"string"==typeof i)Ig(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(b0(i)||"string"==typeof i){t=[];for(var o=i.length,s=0;s<o;s++)t.push(s)}else for(s in t=[],o=0,i)t[o++]=s;o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(b0(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),s=o.length;for(var u=0;u<s;u++)e.call(void 0,o[u],t&&t[u],i)}}function c(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof c)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function h(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];p(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var s={};for(t=e=0;e<i.g.length;)p(s,o=i.g[e])||(i.g[t++]=o,s[o]=1),e++;i.g.length=t}}function p(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Ue=eu.prototype).setTimeout=function(i){this.P=i},Ue.gb=function(i){i=i.target;var e=this.L;e&&3==ps(i)?e.l():this.Ia(i)},Ue.Ia=function(i){try{if(i==this.g)e:{var e=ps(this.g),t=this.g.Da(),o=this.g.ba();if(!(3>e)&&(3!=e||zl||this.g&&(this.h.h||this.g.ga()||_O(this.g)))){this.I||4!=e||7==t||Da(8==t||0>=o?3:2),tm(this);var s=this.g.ba();this.N=s;t:if(uA(this)){var u=_O(this.g);i="";var d=u.length,g=4==ps(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Aa(this),Wd(this);var y="";break t}this.h.i=new st.TextDecoder}for(t=0;t<d;t++)this.h.h=!0,i+=this.h.i.decode(u[t],{stream:g&&t==d-1});u.splice(0,d),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.ga();if(this.i=200==s,function(i,e,t,o,s,u,d){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,e,s),this.i){if(this.$&&!this.J){t:{if(this.g){var b,E=this.g;if((b=E.g?E.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gl(b)){var C=b;break t}}C=null}if(!(s=C)){this.i=!1,this.o=3,tr(12),Aa(this),Wd(this);break e}cs(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Y0(this,s)}this.U?(cA(this,e,y),zl&&this.i&&3==e&&(rA(this.V,this.W,"tick",this.fb),this.W.start())):(cs(this.j,this.m,y,null),Y0(this,y)),4==e&&Aa(this),this.i&&!this.I&&(4==e?AO(this.l,this):(this.i=!1,$d(this)))}else 400==s&&0<y.indexOf("Unknown SID")?(this.o=3,tr(12)):(this.o=0,tr(13)),Aa(this),Wd(this)}}}catch(A){}},Ue.fb=function(){if(this.g){var i=ps(this.g),e=this.g.ga();this.C<e.length&&(tm(this),cA(this,i,e),this.i&&4!=i&&$d(this))}},Ue.cancel=function(){this.I=!0,Aa(this)},Ue.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Da(3),tr(17)),Aa(this),this.o=2,Wd(this)):W0(this,this.Y-i)},(Ue=c.prototype).R=function(){h(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Ue.T=function(){return h(this),this.g.concat()},Ue.get=function(i,e){return p(this.h,i)?this.h[i]:e},Ue.set=function(i,e){p(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Ue.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var s=t[o],u=this.get(s);i.call(e,u,s,this)}};var m=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function _(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof _){this.g=void 0!==e?e:i.g,D(this,i.j),this.s=i.s,S(this,i.i),M(this,i.m),this.l=i.l,e=i.h;var t=new fs;t.i=e.i,e.g&&(t.g=new c(e.g),t.h=e.h),N(this,t),this.o=i.o}else i&&(t=String(i).match(m))?(this.g=!!e,D(this,t[1]||"",!0),this.s=Le(t[2]||""),S(this,t[3]||"",!0),M(this,t[4]),this.l=Le(t[5]||"",!0),N(this,t[6]||"",!0),this.o=Le(t[7]||"")):(this.g=!!e,this.h=new fs(null,this.g))}function w(i){return new _(i)}function D(i,e,t){i.j=t?Le(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function S(i,e,t){i.i=t?Le(e,!0):e}function M(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function N(i,e,t){e instanceof fs?(i.h=e,function(i,e){e&&!i.j&&(Mi(i),i.i=null,i.g.forEach(function(t,o){var s=o.toLowerCase();o!=s&&(Yd(this,o),Zd(this,s,t))},i)),i.j=e}(i.h,i.g)):(t||(e=ue(e,hs)),i.h=new fs(e,i.g))}function U(i,e,t){i.h.set(e,t)}function ne(i){return U(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Le(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function ue(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Ke),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Ke(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}_.prototype.toString=function(){var i=[],e=this.j;e&&i.push(ue(e,yt,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(ue(e,yt,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(ue(t,"/"==t.charAt(0)?xr:Rt,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",ue(t,nm)),i.join("")};var yt=/[#\/\?@]/g,Rt=/[#\?:]/g,xr=/[#\?]/g,hs=/[#\?@]/g,nm=/#/g;function fs(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Mi(i){i.g||(i.g=new c,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),s=null;if(0<=o){var u=i[t].substring(0,o);s=i[t].substring(o+1)}else u=i[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Yd(i,e){Mi(i),e=bo(i,e),p(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,p((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&h(i)))}function Kd(i,e){return Mi(i),e=bo(i,e),p(i.g.h,e)}function Zd(i,e,t){Yd(i,e),0<t.length&&(i.i=null,i.g.set(bo(i,e),Ea(t)),i.h+=t.length)}function bo(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(Ue=fs.prototype).add=function(i,e){Mi(this),this.i=null,i=bo(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(i,e){Mi(this),this.g.forEach(function(t,o){Ig(t,function(s){i.call(e,s,o,this)},this)},this)},Ue.T=function(){Mi(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var s=i[o],u=0;u<s.length;u++)t.push(e[o]);return t},Ue.R=function(i){Mi(this);var e=[];if("string"==typeof i)Kd(this,i)&&(e=xg(e,this.g.get(bo(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=xg(e,i[t])}return e},Ue.set=function(i,e){return Mi(this),this.i=null,Kd(this,i=bo(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ue.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],s=encodeURIComponent(String(o));o=this.R(o);for(var u=0;u<o.length;u++){var d=s;""!==o[u]&&(d+="="+encodeURIComponent(String(o[u]))),i.push(d)}}return this.i=i.join("&")};var im=function(e,t){this.h=e,this.g=t};function lO(i){this.l=i||Lk,i=st.PerformanceNavigationTiming?0<(i=st.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(st.g&&st.g.Ea&&st.g.Ea()&&st.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Lk=10;function uO(i){return!!i.h||!!i.g&&i.g.size>=i.j}function cO(i){return i.h?1:i.g?i.g.size:0}function dA(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function hA(i,e){i.g?i.g.add(e):i.h=e}function dO(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function hO(i){var e,t;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var s=y0(i.g.values()),u=s.next();!u.done;u=s.next())o=o.concat(u.value.D)}catch(g){e={error:g}}finally{try{u&&!u.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return o}return Ea(i.i)}function fA(){}function Vk(){this.g=new fA}function Bk(i,e,t){var o=t||"";try{l(i,function(s,u){var d=s;Id(s)&&(d=V0(s)),e.push(o+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(o+"type="+encodeURIComponent("_badmap")),s}}function K0(i,e,t,o,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(o)}catch(u){}}function om(i){this.l=i.$b||null,this.j=i.ib||!1}function Z0(i,e){bn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=pA,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}lO.prototype.cancel=function(){var i,e;if(this.i=hO(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=y0(this.g.values()),o=t.next();!o.done;o=t.next())o.value.cancel()}catch(u){i={error:u}}finally{try{o&&!o.done&&(e=t.return)&&e.call(t)}finally{if(i)throw i.error}}this.g.clear()}},fA.prototype.stringify=function(i){return st.JSON.stringify(i,void 0)},fA.prototype.parse=function(i){return st.JSON.parse(i,void 0)},On(om,Sa),om.prototype.g=function(){return new Z0(this.l,this.j)},om.prototype.i=function(i){return function(){return i}}({}),On(Z0,bn);var pA=0;function fO(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function sm(i){i.readyState=4,i.l=null,i.j=null,i.A=null,am(i)}function am(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ue=Z0.prototype).open=function(i,e){if(this.readyState!=pA)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,am(this)},Ue.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||st).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sm(this)),this.readyState=pA},Ue.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,am(this)),this.g&&(this.readyState=3,am(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==st.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fO(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Ue.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?sm(this):am(this),3==this.readyState&&fO(this)}},Ue.Ua=function(i){this.g&&(this.response=this.responseText=i,sm(this))},Ue.Ta=function(i){this.g&&(this.response=i,sm(this))},Ue.ha=function(){this.g&&sm(this)},Ue.setRequestHeader=function(i,e){this.v.append(i,e)},Ue.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],e=this.h.entries(),t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Z0.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var jk=st.JSON.parse;function wn(i){bn.call(this),this.headers=new c,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=pO,this.K=this.L=!1}On(wn,bn);var pO="",Hk=/^https?$/i,Gk=["POST","PUT"];function qk(i){return"content-type"==i.toLowerCase()}function gO(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,mO(i),Q0(i)}function mO(i){i.D||(i.D=!0,Hn(i,"complete"),Hn(i,"error"))}function yO(i){if(i.h&&void 0!==_0&&(!i.C[1]||4!=ps(i)||2!=i.ba()))if(i.v&&4==ps(i))Ql(i.Fa,0,i);else if(Hn(i,"readystatechange"),4==ps(i)){i.h=!1;try{var o,e=i.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(o=t)){var s;if(s=0===e){var u=String(i.H).match(m)[1]||null;if(!u&&st.self&&st.self.location){var d=st.self.location.protocol;u=d.substr(0,d.length-1)}s=!Hk.test(u?u.toLowerCase():"")}o=s}if(o)Hn(i,"complete"),Hn(i,"success");else{i.m=6;try{var g=2<ps(i)?i.g.statusText:""}catch(y){g=""}i.j=g+" ["+i.ba()+"]",mO(i)}}finally{Q0(i)}}}function Q0(i,e){if(i.g){vO(i);var t=i.g,o=i.C[0]?Sg:null;i.g=null,i.C=null,e||Hn(i,"ready");try{t.onreadystatechange=o}catch(s){}}}function vO(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(st.clearTimeout(i.A),i.A=null)}function ps(i){return i.g?i.g.readyState:0}function _O(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case pO:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function gA(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function(i){var e="";return S0(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):U(i,e,t))}function lm(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function bO(i){this.za=0,this.l=[],this.h=new Wg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=lm("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=lm("baseRetryDelayMs",5e3,i),this.$a=lm("retryDelaySeedMs",1e4,i),this.Ya=lm("forwardChannelMaxRetries",2,i),this.ra=lm("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new lO(i&&i.concurrentRequestLimit),this.Ca=new Vk,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function mA(i){if(wO(i),3==i.G){var e=i.V++,t=w(i.F);U(t,"SID",i.J),U(t,"RID",e),U(t,"TYPE","terminate"),um(i,t),(e=new eu(i,i.h,e,void 0)).K=2,e.v=ne(w(t)),t=!1,st.navigator&&st.navigator.sendBeacon&&(t=st.navigator.sendBeacon(e.v.toString(),"")),!t&&st.Image&&((new Image).src=e.v,t=!0),t||(e.g=xO(e.l,null),e.g.ea(e.v)),e.F=Date.now(),$d(e)}MO(i)}function J0(i){i.g&&(_A(i),i.g.cancel(),i.g=null)}function wO(i){J0(i),i.u&&(st.clearTimeout(i.u),i.u=null),ew(i),i.i.cancel(),i.m&&("number"==typeof i.m&&st.clearTimeout(i.m),i.m=null)}function yA(i,e){i.l.push(new im(i.Za++,e)),3==i.G&&X0(i)}function X0(i){uO(i.i)||i.m||(i.m=!0,zg(i.Ha,i),i.C=0)}function EO(i,e){var t;t=e?e.m:i.V++;var o=w(i.F);U(o,"SID",i.J),U(o,"RID",t),U(o,"AID",i.U),um(i,o),i.o&&i.s&&gA(o,i.o,i.s),t=new eu(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=CO(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),hA(i.i,t),em(t,o,e)}function um(i,e){i.j&&l({},function(t,o){U(e,o,t)})}function CO(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Xt(i.j.Oa,i.j,i):null;e:for(var s=i.l,u=-1;;){var d=["count="+t];-1==u?0<t?d.push("ofs="+(u=s[0].h)):u=0:d.push("ofs="+u);for(var g=!0,y=0;y<t;y++){var b=s[y].h,E=s[y].g;if(0>(b-=u))u=Math.max(0,s[y].h-100),g=!1;else try{Bk(E,d,"req"+b+"_")}catch(C){o&&o(E)}}if(g){o=d.join("&");break e}}return i=i.l.splice(0,t),e.D=i,o}function DO(i){i.g||i.u||(i.Y=1,zg(i.Ga,i),i.A=0)}function vA(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=_o(Xt(i.Ga,i),TO(i,i.A)),i.A++,0))}function _A(i){null!=i.B&&(st.clearTimeout(i.B),i.B=null)}function SO(i){i.g=new eu(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=w(i.oa);U(e,"RID","rpc"),U(e,"SID",i.J),U(e,"CI",i.N?"0":"1"),U(e,"AID",i.U),um(i,e),U(e,"TYPE","xmlhttp"),i.o&&i.s&&gA(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=ne(w(e)),t.s=null,t.U=!0,lA(t,i)}function ew(i){null!=i.v&&(st.clearTimeout(i.v),i.v=null)}function AO(i,e){var t=null;if(i.g==e){ew(i),_A(i),i.g=null;var o=2}else{if(!dA(i.i,e))return;t=e.D,dO(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=i.C;Hn(o=Jl(),new Kg(o,t,e,s)),X0(i)}else DO(i);else if(3==(s=e.o)||0==s&&0<i.I||!(1==o&&function(i,e){return!(cO(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=_o(Xt(i.Ha,i,e),TO(i,i.C)),i.C++,0)))}(i,e)||2==o&&vA(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),s){case 1:tu(i,5);break;case 4:tu(i,10);break;case 3:tu(i,6);break;default:tu(i,2)}}function TO(i,e){var t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function tu(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Xt(i.jb,i);t||(t=new _("//www.google.com/images/cleardot.gif"),st.location&&"http"==st.location.protocol||D(t,"https"),ne(t)),function(i,e){var t=new Wg;if(st.Image){var o=new Image;o.onload=Hl(K0,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Hl(K0,t,o,"TestLoadImage: error",!1,e),o.onabort=Hl(K0,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Hl(K0,t,o,"TestLoadImage: timeout",!1,e),st.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else tr(2);i.G=0,i.j&&i.j.va(e),MO(i),wO(i)}function MO(i){i.G=0,i.I=-1,i.j&&((0!=hO(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Ea(i.l),i.l.length=0),i.j.ua())}function IO(i,e,t){var o=function(i){return i instanceof _?w(i):new _(i,void 0)}(t);if(""!=o.i)e&&S(o,e+"."+o.i),M(o,o.m);else{var s=st.location;o=function(i,e,t,o){var s=new _(null,void 0);return i&&D(s,i),e&&S(s,e),t&&M(s,t),o&&(s.l=o),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return i.aa&&S0(i.aa,function(u,d){U(o,d,u)}),t=i.sa,(e=i.D)&&t&&U(o,e,t),U(o,"VER",i.ma),um(i,o),o}function xO(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new wn(t&&i.Ba&&!i.qa?new om({ib:!0}):i.qa)).L=i.H,e}function OO(){}function tw(){if(Ca&&!(10<=Number(XS)))throw Error("Environmental error: no available transport.")}function ai(i,e){bn.call(this),this.g=new bO(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Gl(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gl(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Qd(this)}function RO(i){Qg.call(this);var e=i.__sm__;if(e){e:{for(var t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function FO(){q0.call(this),this.status=1}function Qd(i){this.g=i}(Ue=wn.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Jg.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:Jg),this.g.onreadystatechange=Xt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(u){return void gO(this,u)}i=t||"";var s=new c(this.headers);o&&l(o,function(u,d){s.set(d,u)}),o=function(i){e:{for(var e=qk,t=i.length,o="string"==typeof i?i.split(""):i,s=0;s<t;s++)if(s in o&&e.call(void 0,o[s],s,i)){e=s;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(s.T()),t=st.FormData&&i instanceof st.FormData,!(0<=Mg(Gk,e))||o||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{vO(this),0<this.B&&((this.K=function(i){return Ca&&si()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.pa,this)):this.A=Ql(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(u){gO(this,u)}},Ue.pa=function(){void 0!==_0&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Hn(this,"timeout"),this.abort(8))},Ue.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Hn(this,"complete"),Hn(this,"abort"),Q0(this))},Ue.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Q0(this,!0)),wn.Z.M.call(this)},Ue.Fa=function(){this.s||(this.F||this.v||this.l?yO(this):this.cb())},Ue.cb=function(){yO(this)},Ue.ba=function(){try{return 2<ps(this)?this.g.status:-1}catch(i){return-1}},Ue.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Ue.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),jk(e)}},Ue.Da=function(){return this.m},Ue.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=bO.prototype).ma=8,Ue.G=1,Ue.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Ue.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var e=new eu(this,this.h,i,void 0),t=this.s;if(this.P&&(t?T0(t=A0(t),this.P):t=this.P),null===this.o&&(e.H=t),this.ja)e:{for(var o=0,s=0;s<this.l.length;s++){var u=this.l[s];if(void 0===(u="__data__"in u.g&&"string"==typeof(u=u.g.__data__)?u.length:void 0))break;if(4096<(o+=u)){o=s;break e}if(4096===o||s===this.l.length-1){o=s+1;break e}}o=1e3}else o=1e3;o=CO(this,e,o),U(s=w(this.F),"RID",i),U(s,"CVER",22),this.D&&U(s,"X-HTTP-Session-Id",this.D),um(this,s),this.o&&t&&gA(s,this.o,t),hA(this.i,e),this.Ra&&U(s,"TYPE","init"),this.ja?(U(s,"$req",o),U(s,"SID","null"),e.$=!0,em(e,s,null)):em(e,s,o),this.G=2}}else 3==this.G&&(i?EO(this,i):0==this.l.length||uO(this.i)||EO(this))},Ue.Ga=function(){if(this.u=null,SO(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=_o(Xt(this.bb,this),i)}},Ue.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,tr(10),J0(this),SO(this))},Ue.ab=function(){null!=this.v&&(this.v=null,J0(this),vA(this),tr(19))},Ue.jb=function(i){i?(this.h.info("Successfully pinged google.com"),tr(2)):(this.h.info("Failed to ping google.com"),tr(1))},(Ue=OO.prototype).xa=function(){},Ue.wa=function(){},Ue.va=function(){},Ue.ua=function(){},Ue.Oa=function(){},tw.prototype.g=function(i,e){return new ai(i,e)},On(ai,bn),ai.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),zg(Xt(i.hb,i,e))),tr(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=IO(i,null,i.W),X0(i)},ai.prototype.close=function(){mA(this.g)},ai.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,yA(this.g,e)}else this.v?((e={}).__data__=V0(i),yA(this.g,e)):yA(this.g,i)},ai.prototype.M=function(){this.g.j=null,delete this.j,mA(this.g),delete this.g,ai.Z.M.call(this)},On(RO,Qg),On(FO,q0),On(Qd,OO),Qd.prototype.xa=function(){Hn(this.g,"a")},Qd.prototype.wa=function(i){Hn(this.g,new RO(i))},Qd.prototype.va=function(i){Hn(this.g,new FO(i))},Qd.prototype.ua=function(){Hn(this.g,"b")},tw.prototype.createWebChannel=tw.prototype.g,ai.prototype.send=ai.prototype.u,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,Gd.NO_ERROR=0,Gd.TIMEOUT=8,Gd.HTTP_ERROR=6,Zg.COMPLETE="complete",z0.EventType=Xl,Xl.OPEN="a",Xl.CLOSE="b",Xl.ERROR="c",Xl.MESSAGE="d",bn.prototype.listen=bn.prototype.N,wn.prototype.listenOnce=wn.prototype.O,wn.prototype.getLastError=wn.prototype.La,wn.prototype.getLastErrorCode=wn.prototype.Da,wn.prototype.getStatus=wn.prototype.ba,wn.prototype.getResponseJson=wn.prototype.Qa,wn.prototype.getResponseText=wn.prototype.ga,wn.prototype.send=wn.prototype.ea;var nw=Gd,NO=Zg,LO=ds,bA_PROXY=10,bA_NOPROXY=11,VO=om,cm=z0,BO=wn,li=function(){function i(e,t){var o=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(s){return o.t(s)},this.i=function(s){return t.writeSequenceNumber(s)})}return i.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},i.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},i}();li.o=-1;var ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=function(i){function e(t,o){var s=this;return(s=i.call(this,o)||this).code=t,s.message=o,s.name="FirebaseError",s.toString=function(){return s.name+": [code="+s.code+"]: "+s.message},s}return(0,T.ZT)(e,i),e}(Error),Yi=new yo.Yd("@firebase/firestore");function wA(){return Yi.logLevel}function Te(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Yi.logLevel<=yo.in.DEBUG){var o=e.map(EA);Yi.debug.apply(Yi,(0,T.ev)(["Firestore (8.10.0): "+i],o))}}function En(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Yi.logLevel<=yo.in.ERROR){var o=e.map(EA);Yi.error.apply(Yi,(0,T.ev)(["Firestore (8.10.0): "+i],o))}}function dm(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(Yi.logLevel<=yo.in.WARN){var o=e.map(EA);Yi.warn.apply(Yi,(0,T.ev)(["Firestore (8.10.0): "+i],o))}}function EA(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function We(i){void 0===i&&(i="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+i;throw En(e),new Error(e)}function it(i,e){i||We()}function Re(i,e){return i}function Yk(i){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(var o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}var UO=function(){function i(){}return i.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,o="";o.length<20;)for(var s=Yk(40),u=0;u<s.length;++u)o.length<20&&s[u]<t&&(o+=e.charAt(s[u]%e.length));return o},i}();function Ct(i,e){return i<e?-1:i>e?1:0}function Jd(i,e,t){return i.length===e.length&&i.every(function(o,s){return t(o,e[s])})}function jO(i){return i+"\0"}var $r=function(){function i(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(e){return i.fromMillis(e.getTime())},i.fromMillis=function(e){var t=Math.floor(e/1e3);return new i(t,Math.floor(1e6*(e-1e3*t)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(e){return this.seconds===e.seconds?Ct(this.nanoseconds,e.nanoseconds):Ct(this.seconds,e.seconds)},i.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),vt=function(){function i(e){this.timestamp=e}return i.fromTimestamp=function(e){return new i(e)},i.min=function(){return new i(new $r(0,0))},i.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},i.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function HO(i){var e=0;for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function nu(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function GO(i){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}var zO=function(){function i(e,t,o){void 0===t?t=0:t>e.length&&We(),void 0===o?o=e.length-t:o>e.length-t&&We(),this.segments=e,this.offset=t,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return 0===i.comparator(this,e)},i.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(function(o){t.push(o)}):t.push(e),this.construct(t)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(e){return this.segments[this.offset+e]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.forEach=function(e){for(var t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(e,t){for(var o=Math.min(e.length,t.length),s=0;s<o;s++){var u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0},i}(),Ft=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype.construct=function(t,o,s){return new e(t,o,s)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var s=[],u=0,d=t;u<d.length;u++){var g=d[u];if(g.indexOf("//")>=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid segment ("+g+"). Paths must not contain // in them.");s.push.apply(s,g.split("/").filter(function(y){return y.length>0}))}return new e(s)},e.emptyPath=function(){return new e([])},e}(zO),Kk=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ki=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype.construct=function(t,o,s){return new e(t,o,s)},e.isValidIdentifier=function(t){return Kk.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var o=[],s="",u=0,d=function(){if(0===s.length)throw new ye(ee.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(s),s=""},g=!1;u<t.length;){var y=t[u];if("\\"===y){if(u+1===t.length)throw new ye(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var b=t[u+1];if("\\"!==b&&"."!==b&&"`"!==b)throw new ye(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=b,u+=2}else"`"===y?(g=!g,u++):"."!==y||g?(s+=y,u++):(d(),u++)}if(d(),g)throw new ye(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(o)},e.emptyPath=function(){return new e([])},e}(zO),Xd=function(){function i(e){this.fields=e,e.sort(Ki.comparator)}return i.prototype.covers=function(e){for(var t=0,o=this.fields;t<o.length;t++)if(o[t].isPrefixOf(e))return!0;return!1},i.prototype.isEqual=function(e){return Jd(this.fields,e.fields,function(t,o){return t.isEqual(o)})},i}(),Or=function(){function i(e){this.binaryString=e}return i.fromBase64String=function(e){return new i(atob(e))},i.fromUint8Array=function(e){return new i(function(t){for(var o="",s=0;s<t.length;++s)o+=String.fromCharCode(t[s]);return o}(e))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(e){return Ct(this.binaryString,e.binaryString)},i.prototype.isEqual=function(e){return this.binaryString===e.binaryString},i}();Or.EMPTY_BYTE_STRING=new Or("");var Zk=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ta(i){if(it(!!i),"string"==typeof i){var e=0,t=Zk.exec(i);if(it(!!t),t[1]){var o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}var s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Cn(i.seconds),nanos:Cn(i.nanos)}}function Cn(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function eh(i){return"string"==typeof i?Or.fromBase64String(i):Or.fromUint8Array(i)}function CA(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qO(i){var e=i.mapValue.fields.__previous_value__;return CA(e)?qO(e):e}function hm(i){var e=Ta(i.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}function ru(i){return null==i}function rw(i){return 0===i&&1/i==-1/0}function $O(i){return"number"==typeof i&&Number.isInteger(i)&&!rw(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Ze=function(){function i(e){this.path=e}return i.fromPath=function(e){return new i(Ft.fromString(e))},i.fromName=function(e){return new i(Ft.fromString(e).popFirst(5))},i.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},i.prototype.isEqual=function(e){return null!==e&&0===Ft.comparator(this.path,e.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(e,t){return Ft.comparator(e.path,t.path)},i.isDocumentKey=function(e){return e.length%2==0},i.fromSegments=function(e){return new i(new Ft(e.slice()))},i}();function iu(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?CA(i)?4:10:We()}function wo(i,e){var s,t=iu(i);if(t!==iu(e))return!1;switch(t){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return hm(i).isEqual(hm(e));case 3:return function(o,s){if("string"==typeof o.timestampValue&&"string"==typeof s.timestampValue&&o.timestampValue.length===s.timestampValue.length)return o.timestampValue===s.timestampValue;var u=Ta(o.timestampValue),d=Ta(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return s=e,eh(i.bytesValue).isEqual(eh(s.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,s){return Cn(o.geoPointValue.latitude)===Cn(s.geoPointValue.latitude)&&Cn(o.geoPointValue.longitude)===Cn(s.geoPointValue.longitude)}(i,e);case 2:return function(o,s){if("integerValue"in o&&"integerValue"in s)return Cn(o.integerValue)===Cn(s.integerValue);if("doubleValue"in o&&"doubleValue"in s){var u=Cn(o.doubleValue),d=Cn(s.doubleValue);return u===d?rw(u)===rw(d):isNaN(u)&&isNaN(d)}return!1}(i,e);case 9:return Jd(i.arrayValue.values||[],e.arrayValue.values||[],wo);case 10:return function(o,s){var u=o.mapValue.fields||{},d=s.mapValue.fields||{};if(HO(u)!==HO(d))return!1;for(var g in u)if(u.hasOwnProperty(g)&&(void 0===d[g]||!wo(u[g],d[g])))return!1;return!0}(i,e);default:return We()}}function fm(i,e){return void 0!==(i.values||[]).find(function(t){return wo(t,e)})}function th(i,e){var s,u,d,g,t=iu(i),o=iu(e);if(t!==o)return Ct(t,o);switch(t){case 0:return 0;case 1:return Ct(i.booleanValue,e.booleanValue);case 2:return u=e,(d=Cn((s=i).integerValue||s.doubleValue))<(g=Cn(u.integerValue||u.doubleValue))?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1;case 3:return WO(i.timestampValue,e.timestampValue);case 4:return WO(hm(i),hm(e));case 5:return Ct(i.stringValue,e.stringValue);case 6:return function(s,u){var d=eh(s),g=eh(u);return d.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(s,u){for(var d=s.split("/"),g=u.split("/"),y=0;y<d.length&&y<g.length;y++){var b=Ct(d[y],g[y]);if(0!==b)return b}return Ct(d.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(s,u){var d=Ct(Cn(s.latitude),Cn(u.latitude));return 0!==d?d:Ct(Cn(s.longitude),Cn(u.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(s,u){for(var d=s.values||[],g=u.values||[],y=0;y<d.length&&y<g.length;++y){var b=th(d[y],g[y]);if(b)return b}return Ct(d.length,g.length)}(i.arrayValue,e.arrayValue);case 10:return function(s,u){var d=s.fields||{},g=Object.keys(d),y=u.fields||{},b=Object.keys(y);g.sort(),b.sort();for(var E=0;E<g.length&&E<b.length;++E){var C=Ct(g[E],b[E]);if(0!==C)return C;var A=th(d[g[E]],y[b[E]]);if(0!==A)return A}return Ct(g.length,b.length)}(i.mapValue,e.mapValue);default:throw We()}}function WO(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Ct(i,e);var t=Ta(i),o=Ta(e),s=Ct(t.seconds,o.seconds);return 0!==s?s:Ct(t.nanos,o.nanos)}function DA(i){return SA(i)}function SA(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(s=Ta(i.timestampValue)).seconds+","+s.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?eh(i.bytesValue).toBase64():"referenceValue"in i?Ze.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(o){for(var s="[",u=!0,d=0,g=o.values||[];d<g.length;d++)u?u=!1:s+=",",s+=SA(g[d]);return s+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var s="{",u=!0,d=0,g=Object.keys(o.fields||{}).sort();d<g.length;d++){var y=g[d];u?u=!1:s+=",",s+=y+":"+SA(o.fields[y])}return s+"}"}(i.mapValue):We();var s,e}function iw(i,e){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+e.path.canonicalString()}}function AA(i){return!!i&&"integerValue"in i}function TA(i){return!!i&&"arrayValue"in i}function YO(i){return!!i&&"nullValue"in i}function KO(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ow(i){return!!i&&"mapValue"in i}function pm(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var e={mapValue:{fields:{}}};return nu(i.mapValue.fields,function(s,u){return e.mapValue.fields[s]=pm(u)}),e}if(i.arrayValue){for(var t={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=pm(i.arrayValue.values[o]);return t}return Object.assign({},i)}var ui=function(){function i(e){this.value=e}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,o=0;o<e.length-1;++o)if(!ow(t=(t.mapValue.fields||{})[e.get(o)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},i.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pm(t)},i.prototype.setAll=function(e){var t=this,o=Ki.emptyPath(),s={},u=[];e.forEach(function(g,y){if(!o.isImmediateParentOf(y)){var b=t.getFieldsMap(o);t.applyChanges(b,s,u),s={},u=[],o=y.popLast()}g?s[y.lastSegment()]=pm(g):u.push(y.lastSegment())});var d=this.getFieldsMap(o);this.applyChanges(d,s,u)},i.prototype.delete=function(e){var t=this.field(e.popLast());ow(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},i.prototype.isEqual=function(e){return wo(this.value,e.value)},i.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var o=0;o<e.length;++o){var s=t.mapValue.fields[e.get(o)];ow(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields},i.prototype.applyChanges=function(e,t,o){nu(t,function(g,y){return e[g]=y});for(var s=0,u=o;s<u.length;s++)delete e[u[s]]},i.prototype.clone=function(){return new i(pm(this.value))},i}();function ZO(i){var e=[];return nu(i.fields,function(t,o){var s=new Ki([t]);if(ow(o)){var u=ZO(o.mapValue).fields;if(0===u.length)e.push(s);else for(var d=0,g=u;d<g.length;d++)e.push(s.child(g[d]))}else e.push(s)}),new Xd(e)}var nr=function(){function i(e,t,o,s,u){this.key=e,this.documentType=t,this.version=o,this.data=s,this.documentState=u}return i.newInvalidDocument=function(e){return new i(e,0,vt.min(),ui.empty(),0)},i.newFoundDocument=function(e,t,o){return new i(e,1,t,o,0)},i.newNoDocument=function(e,t){return new i(e,2,t,ui.empty(),0)},i.newUnknownDocument=function(e,t){return new i(e,3,t,ui.empty(),2)},i.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},i.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ui.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ui.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(e){return e instanceof i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),Qk=function(i,e,t,o,s,u,d){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===u&&(u=null),void 0===d&&(d=null),this.path=i,this.collectionGroup=e,this.orderBy=t,this.filters=o,this.limit=s,this.startAt=u,this.endAt=d,this.h=null};function QO(i,e,t,o,s,u,d){return void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===u&&(u=null),void 0===d&&(d=null),new Qk(i,e,t,o,s,u,d)}function gm(i){var e=Re(i);if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(o){return(s=o).field.canonicalString()+s.op.toString()+DA(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(function(o){return(s=o).field.canonicalString()+s.dir;var s}).join(","),ru(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=lw(e.startAt)),e.endAt&&(t+="|ub:",t+=lw(e.endAt)),e.h=t}return e.h}function sw(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<i.orderBy.length;t++)if(!oN(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((s=i.filters[o]).op!==(u=e.filters[o]).op||!s.field.isEqual(u.field)||!wo(s.value,u.value))return!1;var s,u;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!eR(i.startAt,e.startAt)&&eR(i.endAt,e.endAt)}function aw(i){return Ze.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var ci=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).field=t,u.op=o,u.value=s,u}return(0,T.ZT)(e,i),e.create=function(t,o,s){return t.isKeyField()?"in"===o||"not-in"===o?this.l(t,o,s):new Jk(t,o,s):"array-contains"===o?new tN(t,s):"in"===o?new nN(t,s):"not-in"===o?new rN(t,s):"array-contains-any"===o?new iN(t,s):new e(t,o,s)},e.l=function(t,o,s){return"in"===o?new Xk(t,s):new eN(t,s)},e.prototype.matches=function(t){var o=t.data.field(this.field);return"!="===this.op?null!==o&&this.m(th(o,this.value)):null!==o&&iu(this.value)===iu(o)&&this.m(th(o,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return We()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Jk=function(i){function e(t,o,s){var u=this;return(u=i.call(this,t,o,s)||this).key=Ze.fromName(s.referenceValue),u}return(0,T.ZT)(e,i),e.prototype.matches=function(t){var o=Ze.comparator(t.key,this.key);return this.m(o)},e}(ci),Xk=function(i){function e(t,o){var s=this;return(s=i.call(this,t,"in",o)||this).keys=JO(0,o),s}return(0,T.ZT)(e,i),e.prototype.matches=function(t){return this.keys.some(function(o){return o.isEqual(t.key)})},e}(ci),eN=function(i){function e(t,o){var s=this;return(s=i.call(this,t,"not-in",o)||this).keys=JO(0,o),s}return(0,T.ZT)(e,i),e.prototype.matches=function(t){return!this.keys.some(function(o){return o.isEqual(t.key)})},e}(ci);function JO(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(o){return Ze.fromName(o.referenceValue)})}var tN=function(i){function e(t,o){return i.call(this,t,"array-contains",o)||this}return(0,T.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return TA(o)&&fm(o.arrayValue,this.value)},e}(ci),nN=function(i){function e(t,o){return i.call(this,t,"in",o)||this}return(0,T.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return null!==o&&fm(this.value.arrayValue,o)},e}(ci),rN=function(i){function e(t,o){return i.call(this,t,"not-in",o)||this}return(0,T.ZT)(e,i),e.prototype.matches=function(t){if(fm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=t.data.field(this.field);return null!==o&&!fm(this.value.arrayValue,o)},e}(ci),iN=function(i){function e(t,o){return i.call(this,t,"array-contains-any",o)||this}return(0,T.ZT)(e,i),e.prototype.matches=function(t){var o=this,s=t.data.field(this.field);return!(!TA(s)||!s.arrayValue.values)&&s.arrayValue.values.some(function(u){return fm(o.value.arrayValue,u)})},e}(ci),mm=function(i,e){this.position=i,this.before=e};function lw(i){return(i.before?"b":"a")+":"+i.position.map(function(e){return DA(e)}).join(",")}var nh=function(i,e){void 0===e&&(e="asc"),this.field=i,this.dir=e};function oN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function XO(i,e,t){for(var o=0,s=0;s<i.position.length;s++){var u=e[s],d=i.position[s];if(o=u.field.isKeyField()?Ze.comparator(Ze.fromName(d.referenceValue),t.key):th(d,t.data.field(u.field)),"desc"===u.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function eR(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(var t=0;t<i.position.length;t++)if(!wo(i.position[t],e.position[t]))return!1;return!0}var gs=function(i,e,t,o,s,u,d,g){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===s&&(s=null),void 0===u&&(u="F"),void 0===d&&(d=null),void 0===g&&(g=null),this.path=i,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=o,this.limit=s,this.limitType=u,this.startAt=d,this.endAt=g,this.p=null,this.T=null};function tR(i,e,t,o,s,u,d,g){return new gs(i,e,t,o,s,u,d,g)}function rh(i){return new gs(i)}function uw(i){return!ru(i.limit)&&"F"===i.limitType}function cw(i){return!ru(i.limit)&&"L"===i.limitType}function MA(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function IA(i){for(var e=0,t=i.filters;e<t.length;e++){var o=t[e];if(o.g())return o.field}return null}function xA(i){return null!==i.collectionGroup}function ih(i){var e=Re(i);if(null===e.p){e.p=[];var t=IA(e),o=MA(e);if(null!==t&&null===o)t.isKeyField()||e.p.push(new nh(t)),e.p.push(new nh(Ki.keyField(),"asc"));else{for(var s=!1,u=0,d=e.explicitOrderBy;u<d.length;u++){var g=d[u];e.p.push(g),g.field.isKeyField()&&(s=!0)}if(!s){var y=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new nh(Ki.keyField(),y))}}}return e.p}function Ii(i){var e=Re(i);if(!e.T)if("F"===e.limitType)e.T=QO(e.path,e.collectionGroup,ih(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],o=0,s=ih(e);o<s.length;o++){var u=s[o];t.push(new nh(u.field,"desc"===u.dir?"asc":"desc"))}var g=e.endAt?new mm(e.endAt.position,!e.endAt.before):null,y=e.startAt?new mm(e.startAt.position,!e.startAt.before):null;e.T=QO(e.path,e.collectionGroup,t,e.filters,e.limit,g,y)}return e.T}function nR(i,e,t){return new gs(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function ym(i,e){return sw(Ii(i),Ii(e))&&i.limitType===e.limitType}function rR(i){return gm(Ii(i))+"|lt:"+i.limitType}function OA(i){return"Query(target="+(t=(e=Ii(i)).path.canonicalString(),null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(o){return(s=o).field.canonicalString()+" "+s.op+" "+DA(s.value);var s}).join(", ")+"]"),ru(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(o){return(s=o).field.canonicalString()+" ("+s.dir+")";var s}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+lw(e.startAt)),e.endAt&&(t+=", endAt: "+lw(e.endAt)),"Target("+t+"); limitType=")+i.limitType+")";var e,t}function vm(i,e){return e.isFoundDocument()&&(s=(o=e).key.path,null!==(t=i).collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ze.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s))&&function(t,o){for(var s=0,u=t.explicitOrderBy;s<u.length;s++){var d=u[s];if(!d.field.isKeyField()&&null===o.data.field(d.field))return!1}return!0}(i,e)&&function(t,o){for(var s=0,u=t.filters;s<u.length;s++)if(!u[s].matches(o))return!1;return!0}(i,e)&&function(t,o){return!(t.startAt&&!XO(t.startAt,ih(t),o)||t.endAt&&XO(t.endAt,ih(t),o))}(i,e);var t,o,s}function iR(i){return function(e,t){for(var o=!1,s=0,u=ih(i);s<u.length;s++){var d=u[s],g=sN(d,e,t);if(0!==g)return g;o=o||d.field.isKeyField()}return 0}}function sN(i,e,t){var s,d,g,y,o=i.field.isKeyField()?Ze.comparator(e.key,t.key):(d=t,g=e.data.field(s=i.field),y=d.data.field(s),null!==g&&null!==y?th(g,y):We());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return We()}}function oR(i,e){if(i.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rw(e)?"-0":e}}function sR(i){return{integerValue:""+i}}function aR(i,e){return $O(e)?sR(e):oR(i,e)}var dw=function(){this._=void 0};function aN(i,e,t){return i instanceof oh?(u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=t).seconds,nanos:o.nanoseconds}}}},(s=e)&&(u.fields.__previous_value__=s),{mapValue:u}):i instanceof ou?uR(i,e):i instanceof su?cR(i,e):function(o,s){var u=lR(o,s),d=dR(u)+dR(o.A);return AA(u)&&AA(o.A)?sR(d):oR(o.R,d)}(i,e);var o,s,u}function lN(i,e,t){return i instanceof ou?uR(i,e):i instanceof su?cR(i,e):t}function lR(i,e){return i instanceof sh?AA(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}var oh=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e}(dw),ou=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,T.ZT)(e,i),e}(dw);function uR(i,e){for(var t=hR(e),o=function(d){t.some(function(g){return wo(g,d)})||t.push(d)},s=0,u=i.elements;s<u.length;s++)o(u[s]);return{arrayValue:{values:t}}}var su=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,T.ZT)(e,i),e}(dw);function cR(i,e){for(var t=hR(e),o=function(d){t=t.filter(function(g){return!wo(g,d)})},s=0,u=i.elements;s<u.length;s++)o(u[s]);return{arrayValue:{values:t}}}var sh=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).R=t,s.A=o,s}return(0,T.ZT)(e,i),e}(dw);function dR(i){return Cn(i.integerValue||i.doubleValue)}function hR(i){return TA(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var _m=function(i,e){this.field=i,this.transform=e},uN=function(i,e){this.version=i,this.transformResults=e},yr=function(){function i(e,t){this.updateTime=e,this.exists=t}return i.none=function(){return new i},i.exists=function(e){return new i(void 0,e)},i.updateTime=function(e){return new i(e)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},i}();function hw(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}var fw=function(){};function cN(i,e,t){var o,s,u,d,g;i instanceof bm?(s=e,u=t,d=(o=i).value.clone(),g=mR(o.fieldTransforms,s,u.transformResults),d.setAll(g),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()):i instanceof Ma?function(o,s,u){if(hw(o.precondition,s)){var d=mR(o.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(gR(o)),g.setAll(d),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}else s.convertToUnknownDocument(u.version)}(i,e,t):function(o,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function RA(i,e,t){var s;i instanceof bm?function(o,s,u){if(hw(o.precondition,s)){var d=o.value.clone(),g=yR(o.fieldTransforms,u,s);d.setAll(g),s.convertToFoundDocument(pR(s),d).setHasLocalMutations()}}(i,e,t):i instanceof Ma?function(o,s,u){if(hw(o.precondition,s)){var d=yR(o.fieldTransforms,u,s),g=s.data;g.setAll(gR(o)),g.setAll(d),s.convertToFoundDocument(pR(s),g).setHasLocalMutations()}}(i,e,t):hw(i.precondition,s=e)&&s.convertToNoDocument(vt.min())}function dN(i,e){for(var t=null,o=0,s=i.fieldTransforms;o<s.length;o++){var u=s[o],d=e.data.field(u.field),g=lR(u.transform,d||null);null!=g&&(null==t&&(t=ui.empty()),t.set(u.field,g))}return t||null}function fR(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&Jd(t,o,function(s,u){return(d=s).field.isEqual((g=u).field)&&(b=g.transform,(y=d.transform)instanceof ou&&b instanceof ou||y instanceof su&&b instanceof su?Jd(y.elements,b.elements,wo):y instanceof sh&&b instanceof sh?wo(y.A,b.A):y instanceof oh&&b instanceof oh);var d,g,y,b})))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function pR(i){return i.isFoundDocument()?i.version:vt.min()}var bm=function(i){function e(t,o,s,u){void 0===u&&(u=[]);var d=this;return(d=i.call(this)||this).key=t,d.value=o,d.precondition=s,d.fieldTransforms=u,d.type=0,d}return(0,T.ZT)(e,i),e}(fw),Ma=function(i){function e(t,o,s,u,d){void 0===d&&(d=[]);var g=this;return(g=i.call(this)||this).key=t,g.data=o,g.fieldMask=s,g.precondition=u,g.fieldTransforms=d,g.type=1,g}return(0,T.ZT)(e,i),e}(fw);function gR(i){var e=new Map;return i.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var o=i.data.field(t);e.set(t,o)}}),e}function mR(i,e,t){var o=new Map;it(i.length===t.length);for(var s=0;s<t.length;s++){var u=i[s],d=u.transform,g=e.data.field(u.field);o.set(u.field,lN(d,g,t[s]))}return o}function yR(i,e,t){for(var o=new Map,s=0,u=i;s<u.length;s++){var d=u[s],g=d.transform,y=t.data.field(d.field);o.set(d.field,aN(g,y,e))}return o}var Dn,Tt,wm=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).key=t,s.precondition=o,s.type=2,s.fieldTransforms=[],s}return(0,T.ZT)(e,i),e}(fw),FA=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).key=t,s.precondition=o,s.type=3,s.fieldTransforms=[],s}return(0,T.ZT)(e,i),e}(fw),hN=function(i){this.count=i};function vR(i){switch(i){default:return We();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function _R(i){if(void 0===i)return En("GRPC error has no .code"),ee.UNKNOWN;switch(i){case Dn.OK:return ee.OK;case Dn.CANCELLED:return ee.CANCELLED;case Dn.UNKNOWN:return ee.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return ee.INTERNAL;case Dn.UNAVAILABLE:return ee.UNAVAILABLE;case Dn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Dn.NOT_FOUND:return ee.NOT_FOUND;case Dn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Dn.ABORTED:return ee.ABORTED;case Dn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Dn.DATA_LOSS:return ee.DATA_LOSS;default:return We()}}(Tt=Dn||(Dn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";var vr=function(){function i(e,t){this.comparator=e,this.root=t||Ia.EMPTY}return i.prototype.insert=function(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ia.BLACK,null,null))},i.prototype.remove=function(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ia.BLACK,null,null))},i.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null},i.prototype.indexOf=function(e){for(var t=0,o=this.root;!o.isEmpty();){var s=this.comparator(e,o.key);if(0===s)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},i.prototype.forEach=function(e){this.inorderTraversal(function(t,o){return e(t,o),!1})},i.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,o){return e.push(t+":"+o),!1}),"{"+e.join(", ")+"}"},i.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},i.prototype.getIterator=function(){return new pw(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(e){return new pw(this.root,e,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new pw(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(e){return new pw(this.root,e,this.comparator,!0)},i}(),pw=function(){function i(e,t,o,s){this.isReverse=s,this.nodeStack=[];for(var u=1;!e.isEmpty();)if(u=t?o(e.key,t):1,s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return i.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},i}(),Ia=function(){function i(e,t,o,s,u){this.key=e,this.value=t,this.color=null!=o?o:i.RED,this.left=null!=s?s:i.EMPTY,this.right=null!=u?u:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(e,t,o,s,u){return new i(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=s?s:this.left,null!=u?u:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},i.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(e,t,o){var s=this,u=o(e,s.key);return(s=u<0?s.copy(null,null,null,s.left.insert(e,t,o),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},i.prototype.remove=function(e,t){var o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return i.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},i.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},i.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},i.prototype.rotateLeft=function(){var e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},i.prototype.rotateRight=function(){var e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},i.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},i.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw We();var e=this.left.check();if(e!==this.right.check())throw We();return e+(this.isRed()?0:1)},i}();Ia.EMPTY=null,Ia.RED=!0,Ia.BLACK=!1,Ia.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw We()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw We()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw We()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw We()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw We()},enumerable:!1,configurable:!0}),i.prototype.copy=function(e,t,o,s,u){return this},i.prototype.insert=function(e,t,o){return new Ia(e,t)},i.prototype.remove=function(e,t){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(e){return!1},i.prototype.reverseTraversal=function(e){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var Rn=function(){function i(e){this.comparator=e,this.data=new vr(this.comparator)}return i.prototype.has=function(e){return null!==this.data.get(e)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(e){return this.data.indexOf(e)},i.prototype.forEach=function(e){this.data.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.forEachInRange=function(e,t){for(var o=this.data.getIteratorFrom(e[0]);o.hasNext();){var s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}},i.prototype.forEachWhile=function(e,t){var o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},i.prototype.getIterator=function(){return new bR(this.data.getIterator())},i.prototype.getIteratorFrom=function(e){return new bR(this.data.getIteratorFrom(e))},i.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},i.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(o){t=t.add(o)}),t},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),o=e.data.getIterator();t.hasNext();){var s=t.getNext().key,u=o.getNext().key;if(0!==this.comparator(s,u))return!1}return!0},i.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},i.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},i.prototype.copy=function(e){var t=new i(this.comparator);return t.data=e,t},i}(),bR=function(){function i(e){this.iter=e}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),fN=new vr(Ze.comparator);function xi(){return fN}var pN=new vr(Ze.comparator);function PA(){return pN}var gN=new vr(Ze.comparator);function wR(){return gN}var mN=new Rn(Ze.comparator);function Nt(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=mN,o=0,s=i;o<s.length;o++){var u=s[o];t=t.add(u)}return t}var yN=new Rn(Ct);function gw(){return yN}var kA=function(){function i(e,t,o,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=u}return i.createSynthesizedRemoteEventForCurrentChange=function(e,t){var o=new Map;return o.set(e,NA.createSynthesizedTargetChangeForCurrentChange(e,t)),new i(vt.min(),o,gw(),xi(),Nt())},i}(),NA=function(){function i(e,t,o,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=u}return i.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new i(Or.EMPTY_BYTE_STRING,t,Nt(),Nt(),Nt())},i}(),mw=function(i,e,t,o){this.v=i,this.removedTargetIds=e,this.key=t,this.P=o},ER=function(i,e){this.targetId=i,this.V=e},CR=function(i,e,t,o){void 0===t&&(t=Or.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=e,this.resumeToken=t,this.cause=o},DR=function(){function i(){this.S=0,this.D=AR(),this.C=Or.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},i.prototype.M=function(){var e=Nt(),t=Nt(),o=Nt();return this.D.forEach(function(s,u){switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:We()}}),new NA(this.C,this.N,e,t,o)},i.prototype.L=function(){this.k=!1,this.D=AR()},i.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},i.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),vN=function(){function i(e){this.W=e,this.G=new Map,this.H=xi(),this.J=SR(),this.Y=new Rn(Ct)}return i.prototype.X=function(e){for(var t=0,o=e.v;t<o.length;t++){var s=o[t];e.P&&e.P.isFoundDocument()?this.Z(s,e.P):this.tt(s,e.key,e.P)}for(var u=0,d=e.removedTargetIds;u<d.length;u++)this.tt(s=d[u],e.key,e.P)},i.prototype.et=function(e){var t=this;this.forEachTarget(e,function(o){var s=t.nt(o);switch(e.state){case 0:t.st(o)&&s.O(e.resumeToken);break;case 1:s.K(),s.F||s.L(),s.O(e.resumeToken);break;case 2:s.K(),s.F||t.removeTarget(o);break;case 3:t.st(o)&&(s.j(),s.O(e.resumeToken));break;case 4:t.st(o)&&(t.it(o),s.O(e.resumeToken));break;default:We()}})},i.prototype.forEachTarget=function(e,t){var o=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(s,u){o.st(u)&&t(u)})},i.prototype.rt=function(e){var t=e.targetId,o=e.V.count,s=this.ot(t);if(s){var u=s.target;if(aw(u))if(0===o){var d=new Ze(u.path);this.tt(t,d,nr.newNoDocument(d,vt.min()))}else it(1===o);else this.ct(t)!==o&&(this.it(t),this.Y=this.Y.add(t))}},i.prototype.ut=function(e){var t=this,o=new Map;this.G.forEach(function(d,g){var y=t.ot(g);if(y){if(d.current&&aw(y.target)){var b=new Ze(y.target.path);null!==t.H.get(b)||t.at(g,b)||t.tt(g,b,nr.newNoDocument(b,e))}d.$&&(o.set(g,d.M()),d.L())}});var s=Nt();this.J.forEach(function(d,g){var y=!0;g.forEachWhile(function(b){var E=t.ot(b);return!E||2===E.purpose||(y=!1,!1)}),y&&(s=s.add(d))});var u=new kA(e,o,this.Y,this.H,s);return this.H=xi(),this.J=SR(),this.Y=new Rn(Ct),u},i.prototype.Z=function(e,t){if(this.st(e)){var o=this.at(e,t.key)?2:0;this.nt(e).B(t.key,o),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},i.prototype.tt=function(e,t,o){if(this.st(e)){var s=this.nt(e);this.at(e,t)?s.B(t,1):s.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),o&&(this.H=this.H.insert(t,o))}},i.prototype.removeTarget=function(e){this.G.delete(e)},i.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},i.prototype.U=function(e){this.nt(e).U()},i.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new DR,this.G.set(e,t)),t},i.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new Rn(Ct),this.J=this.J.insert(e,t)),t},i.prototype.st=function(e){var t=null!==this.ot(e);return t||Te("WatchChangeAggregator","Detected inactive target",e),t},i.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},i.prototype.it=function(e){var t=this;this.G.set(e,new DR),this.W.getRemoteKeysForTarget(e).forEach(function(o){t.tt(e,o,null)})},i.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},i}();function SR(){return new vr(Ze.comparator)}function AR(){return new vr(Ze.comparator)}var _N={asc:"ASCENDING",desc:"DESCENDING"},bN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wN=function(i,e){this.databaseId=i,this.I=e};function Em(i,e){return i.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function TR(i,e){return i.I?e.toBase64():e.toUint8Array()}function EN(i,e){return Em(i,e.toTimestamp())}function Gn(i){return it(!!i),vt.fromTimestamp((t=Ta(i),new $r(t.seconds,t.nanos)));var t}function LA(i,e){return(t=i,new Ft(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function MR(i){var e=Ft.fromString(i);return it(UR(e)),e}function Cm(i,e){return LA(i.databaseId,e.path)}function Eo(i,e){var t=MR(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ze(xR(t))}function VA(i,e){return LA(i.databaseId,e)}function IR(i){var e=MR(i);return 4===e.length?Ft.emptyPath():xR(e)}function Dm(i){return new Ft(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function xR(i){return it(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function OR(i,e,t){return{name:Cm(i,e),fields:t.value.mapValue.fields}}function RR(i,e,t){var o=Eo(i,e.name),s=Gn(e.updateTime),u=new ui({mapValue:{fields:e.fields}}),d=nr.newFoundDocument(o,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function yw(i,e){var t,s;if(e instanceof bm)t={update:OR(i,e.key,e.value)};else if(e instanceof wm)t={delete:Cm(i,e.key)};else if(e instanceof Ma)t={update:OR(i,e.key,e.data),updateMask:TN(e.fieldMask)};else{if(!(e instanceof FA))return We();t={verify:Cm(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(o){return function(s,u){var d=u.transform;if(d instanceof oh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ou)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof su)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof sh)return{fieldPath:u.field.canonicalString(),increment:d.A};throw We()}(0,o)})),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:EN(i,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:We()),t}function FR(i,e){var b,t=e.currentDocument?void 0!==(b=e.currentDocument).updateTime?yr.updateTime(Gn(b.updateTime)):void 0!==b.exists?yr.exists(b.exists):yr.none():yr.none(),o=e.updateTransforms?e.updateTransforms.map(function(b){return function(E,C){var A=null;"setToServerValue"in C?(it("REQUEST_TIME"===C.setToServerValue),A=new oh):"appendMissingElements"in C?A=new ou(C.appendMissingElements.values||[]):"removeAllFromArray"in C?A=new su(C.removeAllFromArray.values||[]):"increment"in C?A=new sh(E,C.increment):We();var V=Ki.fromServerFormat(C.fieldPath);return new _m(V,A)}(i,b)}):[];if(e.update){var s=Eo(i,e.update.name),u=new ui({mapValue:{fields:e.update.fields}});if(e.updateMask){var d=function(b){return new Xd((b.fieldPaths||[]).map(function(C){return Ki.fromServerFormat(C)}))}(e.updateMask);return new Ma(s,u,d,t,o)}return new bm(s,u,t,o)}if(e.delete){var g=Eo(i,e.delete);return new wm(g,t)}if(e.verify){var y=Eo(i,e.verify);return new FA(y,t)}return We()}function PR(i,e){return{documents:[VA(i,e.path)]}}function kR(i,e){var t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=VA(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VA(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);var s=function(g){if(0!==g.length){var y=g.map(function(b){return function(E){if("=="===E.op){if(KO(E.value))return{unaryFilter:{field:ah(E.field),op:"IS_NAN"}};if(YO(E.value))return{unaryFilter:{field:ah(E.field),op:"IS_NULL"}}}else if("!="===E.op){if(KO(E.value))return{unaryFilter:{field:ah(E.field),op:"IS_NOT_NAN"}};if(YO(E.value))return{unaryFilter:{field:ah(E.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ah(E.field),op:DN(E.op),value:E.value}}}(b)});return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}}(e.filters);s&&(t.structuredQuery.where=s);var u=function(g){if(0!==g.length)return g.map(function(y){return{field:ah((b=y).field),direction:CN(b.dir)};var b})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);var y,d=(y=e.limit,i.I||ru(y)?y:{value:y});return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=VR(e.startAt)),e.endAt&&(t.structuredQuery.endAt=VR(e.endAt)),t}function NR(i){var e=IR(i.parent),t=i.structuredQuery,o=t.from?t.from.length:0,s=null;if(o>0){it(1===o);var u=t.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}var d=[];t.where&&(d=LR(t.where));var g=[];t.orderBy&&(g=t.orderBy.map(function(C){return new nh(lh((A=C).field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));var C,A,y=null;t.limit&&(y=ru(A="object"==typeof(C=t.limit)?C.value:C)?null:A);var b=null;t.startAt&&(b=BR(t.startAt));var E=null;return t.endAt&&(E=BR(t.endAt)),tR(e,s,g,d,y,"F",b,E)}function LR(i){return i?void 0!==i.unaryFilter?[AN(i)]:void 0!==i.fieldFilter?[SN(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(e){return LR(e)}).reduce(function(e,t){return e.concat(t)}):We():[]}function VR(i){return{before:i.before,values:i.position}}function BR(i){return new mm(i.values||[],!!i.before)}function CN(i){return _N[i]}function DN(i){return bN[i]}function ah(i){return{fieldPath:i.canonicalString()}}function lh(i){return Ki.fromServerFormat(i.fieldPath)}function SN(i){return ci.create(lh(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return We()}}(i.fieldFilter.op),i.fieldFilter.value)}function AN(i){switch(i.unaryFilter.op){case"IS_NAN":var e=lh(i.unaryFilter.field);return ci.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=lh(i.unaryFilter.field);return ci.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=lh(i.unaryFilter.field);return ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var s=lh(i.unaryFilter.field);return ci.create(s,"!=",{nullValue:"NULL_VALUE"});default:return We()}}function TN(i){var e=[];return i.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function UR(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Zi(i){for(var e="",t=0;t<i.length;t++)e.length>0&&(e=jR(e)),e=MN(i.get(t),e);return jR(e)}function MN(i,e){for(var t=e,o=i.length,s=0;s<o;s++){var u=i.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function jR(i){return i+"\x01\x01"}function ms(i){var e=i.length;if(it(e>=2),2===e)return it("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Ft.emptyPath();for(var t=e-2,o=[],s="",u=0;u<e;){var d=i.indexOf("\x01",u);switch((d<0||d>t)&&We(),i.charAt(d+1)){case"\x01":var g=i.substring(u,d),y=void 0;0===s.length?y=g:(y=s+=g,s=""),o.push(y);break;case"\x10":s+=i.substring(u,d),s+="\0";break;case"\x11":s+=i.substring(u,d+1);break;default:We()}u=d+2}return new Ft(o)}var IN=function(i,e){this.seconds=i,this.nanoseconds=e},di=function(i,e,t){this.ownerId=i,this.allowTabSynchronization=e,this.leaseTimestampMs=t};di.store="owner",di.key="owner";var xa=function(i,e,t){this.userId=i,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};xa.store="mutationQueues",xa.keyPath="userId";var $t=function(i,e,t,o,s){this.userId=i,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=o,this.mutations=s};$t.store="mutations",$t.keyPath="batchId",$t.userMutationsIndex="userMutationsIndex",$t.userMutationsKeyPath=["userId","batchId"];var _r=function(){function i(){}return i.prefixForUser=function(e){return[e]},i.prefixForPath=function(e,t){return[e,Zi(t)]},i.key=function(e,t,o){return[e,Zi(t),o]},i}();_r.store="documentMutations",_r.PLACEHOLDER=new _r;var xN=function(i,e){this.path=i,this.readTime=e},ON=function(i,e){this.path=i,this.version=e},sn=function(i,e,t,o,s,u){this.unknownDocument=i,this.noDocument=e,this.document=t,this.hasCommittedMutations=o,this.readTime=s,this.parentPath=u};sn.store="remoteDocuments",sn.readTimeIndex="readTimeIndex",sn.readTimeIndexPath="readTime",sn.collectionReadTimeIndex="collectionReadTimeIndex",sn.collectionReadTimeIndexPath=["parentPath","readTime"];var Co=function(i){this.byteSize=i};Co.store="remoteDocumentGlobal",Co.key="remoteDocumentGlobalKey";var Wr=function(i,e,t,o,s,u,d){this.targetId=i,this.canonicalId=e,this.readTime=t,this.resumeToken=o,this.lastListenSequenceNumber=s,this.lastLimboFreeSnapshotVersion=u,this.query=d};Wr.store="targets",Wr.keyPath="targetId",Wr.queryTargetsIndexName="queryTargetsIndex",Wr.queryTargetsKeyPath=["canonicalId","targetId"];var rr=function(i,e,t){this.targetId=i,this.path=e,this.sequenceNumber=t};rr.store="targetDocuments",rr.keyPath=["targetId","path"],rr.documentTargetsIndex="documentTargetsIndex",rr.documentTargetsKeyPath=["path","targetId"];var hi=function(i,e,t,o){this.highestTargetId=i,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=o};hi.key="targetGlobalKey",hi.store="targetGlobal";var au=function(i,e){this.collectionId=i,this.parent=e};au.store="collectionParents",au.keyPath=["collectionId","parent"];var ys=function(i,e,t,o){this.clientId=i,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=o};ys.store="clientMetadata",ys.keyPath="clientId";var uh=function(i,e,t){this.bundleId=i,this.createTime=e,this.version=t};uh.store="bundles",uh.keyPath="bundleId";var ch=function(i,e,t){this.name=i,this.readTime=e,this.bundledQuery=t};ch.store="namedQueries",ch.keyPath="name";var RN=(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],(0,T.ev)((0,T.ev)([],[xa.store,$t.store,_r.store,sn.store,Wr.store,di.store,hi.store,rr.store]),[ys.store])),[Co.store])),[au.store])),[uh.store,ch.store]),HR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",GR=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},i}(),br=function(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t})},Ce=function(){function i(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(o){t.isDone=!0,t.result=o,t.nextCallback&&t.nextCallback(o)},function(o){t.isDone=!0,t.error=o,t.catchCallback&&t.catchCallback(o)})}return i.prototype.catch=function(e){return this.next(void 0,e)},i.prototype.next=function(e,t){var o=this;return this.callbackAttached&&We(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new i(function(s,u){o.nextCallback=function(d){o.wrapSuccess(e,d).next(s,u)},o.catchCallback=function(d){o.wrapFailure(t,d).next(s,u)}})},i.prototype.toPromise=function(){var e=this;return new Promise(function(t,o){e.next(t,o)})},i.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof i?t:i.resolve(t)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.resolve(t)},i.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.reject(t)},i.resolve=function(e){return new i(function(t,o){t(e)})},i.reject=function(e){return new i(function(t,o){o(e)})},i.waitFor=function(e){return new i(function(t,o){var s=0,u=0,d=!1;e.forEach(function(g){++s,g.next(function(){++u,d&&u===s&&t()},function(y){return o(y)})}),d=!0,u===s&&t()})},i.or=function(e){for(var t=i.resolve(!1),o=function(d){t=t.next(function(g){return g?i.resolve(g):d()})},s=0,u=e;s<u.length;s++)o(u[s]);return t},i.forEach=function(e,t){var o=this,s=[];return e.forEach(function(u,d){s.push(t.call(o,u,d))}),this.waitFor(s)},i}(),zR=function(){function i(e,t){var o=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new br,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){t.error?o.ft.reject(new Sm(e,t.error)):o.ft.resolve()},this.transaction.onerror=function(s){var u=BA(s.target.error);o.ft.reject(new Sm(e,u))}}return i.open=function(e,t,o,s){try{return new i(t,e.transaction(s,o))}catch(u){throw new Sm(t,u)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(e){var t=this.transaction.objectStore(e);return new PN(t)},i}(),dh=function(){function i(e,t,o){this.name=e,this.version=t,this.wt=o,12.2===i._t((0,At.z$)())&&En("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(e){return Te("SimpleDb","Removing database:",e),uu(window.indexedDB.deleteDatabase(e)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var e=(0,At.z$)(),t=i._t(e),o=0<t&&t<10,s=i.Et(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||u)},i.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},i.It=function(e,t){return e.store(t)},i._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(e){var t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(e){return(0,T.mG)(this,void 0,void 0,function(){var t,o=this;return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.db?[3,2]:(Te("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(u,d){var g=indexedDB.open(o.name,o.version);g.onsuccess=function(y){u(y.target.result)},g.onblocked=function(){d(new Sm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=function(y){var b=y.target.error;d("VersionError"===b.name?new ye(ee.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Sm(e,b))},g.onupgradeneeded=function(y){Te("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',y.oldVersion),o.wt.Rt(y.target.result,g.transaction,y.oldVersion,o.version).next(function(){Te("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:t.db=s.sent(),s.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(u){return o.bt(u)}),this.db)]}})})},i.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},i.prototype.runTransaction=function(e,t,o,s){return(0,T.mG)(this,void 0,void 0,function(){var u,d,g,y,b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:u="readonly"===t,d=0,g=function(){var C,A,I,O,V;return(0,T.Jh)(this,function(W){switch(W.label){case 0:++d,W.label=1;case 1:return W.trys.push([1,4,,5]),[4,y.At(e)];case 2:return y.db=W.sent(),C=zR.open(y.db,e,u?"readonly":"readwrite",o),A=s(C).catch(function(ie){return C.abort(ie),Ce.reject(ie)}).toPromise(),I={},A.catch(function(){}),[4,C.dt];case 3:return[2,(I.value=(W.sent(),A),I)];case 4:return Te("SimpleDb","Transaction failed with error:",(O=W.sent()).message,"Retrying:",V="FirebaseError"!==O.name&&d<3),y.close(),V?[3,5]:[2,{value:Promise.reject(O)}];case 5:return[2]}})},y=this,E.label=1;case 1:return[5,g()];case 2:if("object"==typeof(b=E.sent()))return[2,b.value];E.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),FN=function(){function i(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(e){this.St=e},i.prototype.delete=function(){return uu(this.Pt.delete())},i}(),Sm=function(i){function e(t,o){var s=this;return(s=i.call(this,ee.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+o)||this).name="IndexedDbTransactionError",s}return(0,T.ZT)(e,i),e}(ye);function lu(i){return"IndexedDbTransactionError"===i.name}var PN=function(){function i(e){this.store=e}return i.prototype.put=function(e,t){var o;return void 0!==t?(Te("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Te("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),uu(o)},i.prototype.add=function(e){return Te("SimpleDb","ADD",this.store.name,e,e),uu(this.store.add(e))},i.prototype.get=function(e){var t=this;return uu(this.store.get(e)).next(function(o){return void 0===o&&(o=null),Te("SimpleDb","GET",t.store.name,e,o),o})},i.prototype.delete=function(e){return Te("SimpleDb","DELETE",this.store.name,e),uu(this.store.delete(e))},i.prototype.count=function(){return Te("SimpleDb","COUNT",this.store.name),uu(this.store.count())},i.prototype.Nt=function(e,t){var o=this.cursor(this.options(e,t)),s=[];return this.xt(o,function(u,d){s.push(d)}).next(function(){return s})},i.prototype.kt=function(e,t){Te("SimpleDb","DELETE ALL",this.store.name);var o=this.options(e,t);o.Ft=!1;var s=this.cursor(o);return this.xt(s,function(u,d,g){return g.delete()})},i.prototype.$t=function(e,t){var o;t?o=e:(o={},t=e);var s=this.cursor(o);return this.xt(s,t)},i.prototype.Ot=function(e){var t=this.cursor({});return new Ce(function(o,s){t.onerror=function(u){var d=BA(u.target.error);s(d)},t.onsuccess=function(u){var d=u.target.result;d?e(d.primaryKey,d.value).next(function(g){g?d.continue():o()}):o()}})},i.prototype.xt=function(e,t){var o=[];return new Ce(function(s,u){e.onerror=function(d){u(d.target.error)},e.onsuccess=function(d){var g=d.target.result;if(g){var y=new FN(g),b=t(g.primaryKey,g.value,y);if(b instanceof Ce){var E=b.catch(function(C){return y.done(),Ce.reject(C)});o.push(E)}y.isDone?s():null===y.Dt?g.continue():g.continue(y.Dt)}else s()}}).next(function(){return Ce.waitFor(o)})},i.prototype.options=function(e,t){var o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}},i.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var o=this.store.index(e.index);return e.Ft?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},i}();function uu(i){return new Ce(function(e,t){i.onsuccess=function(o){e(o.target.result)},i.onerror=function(o){var s=BA(o.target.error);t(s)}})}var qR=!1;function BA(i){var e=dh._t((0,At.z$)());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){var o=new ye("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return qR||(qR=!0,setTimeout(function(){throw o},0)),o}}return i}var $R=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).Mt=t,s.currentSequenceNumber=o,s}return(0,T.ZT)(e,i),e}(GR);function Yr(i,e){var t=Re(i);return dh.It(t.Mt,e)}var UA=function(){function i(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}return i.prototype.applyToRemoteDocument=function(e,t){for(var o=t.mutationResults,s=0;s<this.mutations.length;s++){var u=this.mutations[s];u.key.isEqual(e.key)&&cN(u,e,o[s])}},i.prototype.applyToLocalView=function(e){for(var t=0,o=this.baseMutations;t<o.length;t++)(d=o[t]).key.isEqual(e.key)&&RA(d,e,this.localWriteTime);for(var s=0,u=this.mutations;s<u.length;s++){var d;(d=u[s]).key.isEqual(e.key)&&RA(d,e,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(o){var s=e.get(o.key),u=s;t.applyToLocalView(u),s.isValidDocument()||u.convertToNoDocument(vt.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Nt())},i.prototype.isEqual=function(e){return this.batchId===e.batchId&&Jd(this.mutations,e.mutations,function(t,o){return fR(t,o)})&&Jd(this.baseMutations,e.baseMutations,function(t,o){return fR(t,o)})},i}(),kN=function(){function i(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}return i.from=function(e,t,o){it(e.mutations.length===o.length);for(var s=wR(),u=e.mutations,d=0;d<u.length;d++)s=s.insert(u[d].key,o[d].version);return new i(e,t,o,s)},i}(),vw=function(){function i(e,t,o,s,u,d,g){void 0===u&&(u=vt.min()),void 0===d&&(d=vt.min()),void 0===g&&(g=Or.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g}return i.prototype.withSequenceNumber=function(e){return new i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(e,t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},i.prototype.withLastLimboFreeSnapshotVersion=function(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},i}(),WR=function(i){this.Lt=i};function jA(i,e){if(e.document)return RR(i.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Ze.fromSegments(e.noDocument.path),o=fh(e.noDocument.readTime),s=nr.newNoDocument(t,o);return e.hasCommittedMutations?s.setHasCommittedMutations():s}if(e.unknownDocument){var u=Ze.fromSegments(e.unknownDocument.path);return o=fh(e.unknownDocument.version),nr.newUnknownDocument(u,o)}return We()}function YR(i,e,t){var C,A,o=HA(t),s=e.key.path.popLast().toArray();if(e.isFoundDocument()){var u={name:Cm(C=i.Lt,(A=e).key),fields:A.data.value.mapValue.fields,updateTime:Em(C,A.version.toTimestamp())},d=e.hasCommittedMutations;return new sn(null,null,u,d,o,s)}if(e.isNoDocument()){var g=e.key.path.toArray(),y=hh(e.version);return d=e.hasCommittedMutations,new sn(null,new xN(g,y),null,d,o,s)}if(e.isUnknownDocument()){var b=e.key.path.toArray(),E=hh(e.version);return new sn(new ON(b,E),null,null,!0,o,s)}return We()}function HA(i){var e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function KR(i){var e=new $r(i[0],i[1]);return vt.fromTimestamp(e)}function hh(i){var e=i.toTimestamp();return new IN(e.seconds,e.nanoseconds)}function fh(i){var e=new $r(i.seconds,i.nanoseconds);return vt.fromTimestamp(e)}function ph(i,e){for(var t=(e.baseMutations||[]).map(function(y){return FR(i.Lt,y)}),o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);var d=e.mutations.map(function(y){return FR(i.Lt,y)}),g=$r.fromMillis(e.localWriteTimeMs);return new UA(e.batchId,g,t,d)}function Am(i){var e,t,o=fh(i.readTime),s=void 0!==i.lastLimboFreeSnapshotVersion?fh(i.lastLimboFreeSnapshotVersion):vt.min();return void 0!==i.query.documents?(it(1===(t=i.query).documents.length),e=Ii(rh(IR(t.documents[0])))):e=Ii(NR(i.query)),new vw(e,i.targetId,0,i.lastListenSequenceNumber,o,s,Or.fromBase64String(i.resumeToken))}function ZR(i,e){var t,o=hh(e.snapshotVersion),s=hh(e.lastLimboFreeSnapshotVersion);t=aw(e.target)?PR(i.Lt,e.target):kR(i.Lt,e.target);var u=e.resumeToken.toBase64();return new Wr(e.targetId,gm(e.target),o,u,e.sequenceNumber,s,t)}function GA(i){var e=NR({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?nR(e,e.limit,"L"):e}var NN=function(){function i(){}return i.prototype.getBundleMetadata=function(e,t){return QR(e).get(t).next(function(o){if(o)return{id:(s=o).bundleId,createTime:fh(s.createTime),version:s.version};var s})},i.prototype.saveBundleMetadata=function(e,t){return QR(e).put({bundleId:(o=t).id,createTime:hh(Gn(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(e,t){return JR(e).get(t).next(function(o){if(o)return{name:(s=o).name,query:GA(s.bundledQuery),readTime:fh(s.readTime)};var s})},i.prototype.saveNamedQuery=function(e,t){return JR(e).put({name:(o=t).name,readTime:hh(Gn(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function QR(i){return Yr(i,uh.store)}function JR(i){return Yr(i,ch.store)}var LN=function(){function i(){this.Bt=new zA}return i.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ce.resolve()},i.prototype.getCollectionParents=function(e,t){return Ce.resolve(this.Bt.getEntries(t))},i}(),zA=function(){function i(){this.index={}}return i.prototype.add=function(e){var t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new Rn(Ft.comparator),u=!s.has(o);return this.index[t]=s.add(o),u},i.prototype.has=function(e){var t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)},i.prototype.getEntries=function(e){return(this.index[e]||new Rn(Ft.comparator)).toArray()},i}(),VN=function(){function i(){this.qt=new zA}return i.prototype.addToCollectionParentIndex=function(e,t){var o=this;if(!this.qt.has(t)){var s=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(function(){o.qt.add(t)});var d={collectionId:s,parent:Zi(u)};return XR(e).put(d)}return Ce.resolve()},i.prototype.getCollectionParents=function(e,t){var o=[],s=IDBKeyRange.bound([t,""],[jO(t),""],!1,!0);return XR(e).Nt(s).next(function(u){for(var d=0,g=u;d<g.length;d++){var y=g[d];if(y.collectionId!==t)break;o.push(ms(y.parent))}return o})},i}();function XR(i){return Yr(i,au.store)}var eF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Do=function(){function i(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function tF(i,e,t){var o=i.store($t.store),s=i.store(_r.store),u=[],d=IDBKeyRange.only(t.batchId),g=0,y=o.$t({range:d},function(O,V,W){return g++,W.delete()});u.push(y.next(function(){it(1===g)}));for(var b=[],E=0,C=t.mutations;E<C.length;E++){var A=C[E],I=_r.key(e,A.key.path,t.batchId);u.push(s.delete(I)),b.push(A.key)}return Ce.waitFor(u).next(function(){return b})}function _w(i){if(!i)return 0;var e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw We();e=i.noDocument}return JSON.stringify(e).length}Do.DEFAULT_COLLECTION_PERCENTILE=10,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Do.DEFAULT=new Do(41943040,Do.DEFAULT_COLLECTION_PERCENTILE,Do.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Do.DISABLED=new Do(-1,0,0);var BN=function(){function i(e,t,o,s){this.userId=e,this.R=t,this.Ut=o,this.referenceDelegate=s,this.Kt={}}return i.Qt=function(e,t,o,s){return it(""!==e.uid),new i(e.isAuthenticated()?e.uid:"",t,o,s)},i.prototype.checkEmpty=function(e){var t=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oa(e).$t({index:$t.userMutationsIndex,range:o},function(s,u,d){t=!1,d.done()}).next(function(){return t})},i.prototype.addMutationBatch=function(e,t,o,s){var u=this,d=gh(e),g=Oa(e);return g.add({}).next(function(y){it("number"==typeof y);for(var b=new UA(y,t,o,s),E=function(ie,ge,me){var ke=me.baseMutations.map(function(ht){return yw(ie.Lt,ht)}),Ve=me.mutations.map(function(ht){return yw(ie.Lt,ht)});return new $t(ge,me.batchId,me.localWriteTime.toMillis(),ke,Ve)}(u.R,u.userId,b),C=[],A=new Rn(function(ie,ge){return Ct(ie.canonicalString(),ge.canonicalString())}),I=0,O=s;I<O.length;I++){var V=O[I],W=_r.key(u.userId,V.key.path,y);A=A.add(V.key.path.popLast()),C.push(g.put(E)),C.push(d.put(W,_r.PLACEHOLDER))}return A.forEach(function(ie){C.push(u.Ut.addToCollectionParentIndex(e,ie))}),e.addOnCommittedListener(function(){u.Kt[y]=b.keys()}),Ce.waitFor(C).next(function(){return b})})},i.prototype.lookupMutationBatch=function(e,t){var o=this;return Oa(e).get(t).next(function(s){return s?(it(s.userId===o.userId),ph(o.R,s)):null})},i.prototype.jt=function(e,t){var o=this;return this.Kt[t]?Ce.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(s){if(s){var u=s.keys();return o.Kt[t]=u,u}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var o=this,s=t+1,u=IDBKeyRange.lowerBound([this.userId,s]),d=null;return Oa(e).$t({index:$t.userMutationsIndex,range:u},function(g,y,b){y.userId===o.userId&&(it(y.batchId>=s),d=ph(o.R,y)),b.done()}).next(function(){return d})},i.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return Oa(e).$t({index:$t.userMutationsIndex,range:t,reverse:!0},function(s,u,d){o=u.batchId,d.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(e){var t=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oa(e).Nt($t.userMutationsIndex,o).next(function(s){return s.map(function(u){return ph(t.R,u)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,s=_r.prefixForPath(this.userId,t.path),u=IDBKeyRange.lowerBound(s),d=[];return gh(e).$t({range:u},function(g,y,b){var E=g[0],A=g[2],I=ms(g[1]);if(E===o.userId&&t.path.isEqual(I))return Oa(e).get(A).next(function(O){if(!O)throw We();it(O.userId===o.userId),d.push(ph(o.R,O))});b.done()}).next(function(){return d})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,s=new Rn(Ct),u=[];return t.forEach(function(d){var g=_r.prefixForPath(o.userId,d.path),y=IDBKeyRange.lowerBound(g),b=gh(e).$t({range:y},function(E,C,A){var I=E[0],V=E[2],W=ms(E[1]);I===o.userId&&d.path.isEqual(W)?s=s.add(V):A.done()});u.push(b)}),Ce.waitFor(u).next(function(){return o.Wt(e,s)})},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=this,s=t.path,u=s.length+1,d=_r.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(d),y=new Rn(Ct);return gh(e).$t({range:g},function(b,E,C){var A=b[0],O=b[2],V=ms(b[1]);A===o.userId&&s.isPrefixOf(V)?V.length===u&&(y=y.add(O)):C.done()}).next(function(){return o.Wt(e,y)})},i.prototype.Wt=function(e,t){var o=this,s=[],u=[];return t.forEach(function(d){u.push(Oa(e).get(d).next(function(g){if(null===g)throw We();it(g.userId===o.userId),s.push(ph(o.R,g))}))}),Ce.waitFor(u).next(function(){return s})},i.prototype.removeMutationBatch=function(e,t){var o=this;return tF(e.Mt,this.userId,t).next(function(s){return e.addOnCommittedListener(function(){o.Gt(t.batchId)}),Ce.forEach(s,function(u){return o.referenceDelegate.markPotentiallyOrphaned(e,u)})})},i.prototype.Gt=function(e){delete this.Kt[e]},i.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(o){if(!o)return Ce.resolve();var s=IDBKeyRange.lowerBound(_r.prefixForUser(t.userId)),u=[];return gh(e).$t({range:s},function(d,g,y){if(d[0]===t.userId){var b=ms(d[1]);u.push(b)}else y.done()}).next(function(){it(0===u.length)})})},i.prototype.containsKey=function(e,t){return nF(e,this.userId,t)},i.prototype.zt=function(e){var t=this;return rF(e).get(this.userId).next(function(o){return o||new xa(t.userId,-1,"")})},i}();function nF(i,e,t){var o=_r.prefixForPath(e,t.path),s=o[1],u=IDBKeyRange.lowerBound(o),d=!1;return gh(i).$t({range:u,Ft:!0},function(g,y,b){g[0]===e&&g[1]===s&&(d=!0),b.done()}).next(function(){return d})}function Oa(i){return Yr(i,$t.store)}function gh(i){return Yr(i,_r.store)}function rF(i){return Yr(i,xa.store)}var bw=function(){function i(e){this.Ht=e}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),UN=function(){function i(e,t){this.referenceDelegate=e,this.R=t}return i.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(o){var s=new bw(o.highestTargetId);return o.highestTargetId=s.next(),t.Zt(e,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return vt.fromTimestamp(new $r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(e,t,o){var s=this;return this.Xt(e).next(function(u){return u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),s.Zt(e,u)})},i.prototype.addTargetData=function(e,t){var o=this;return this.te(e,t).next(function(){return o.Xt(e).next(function(s){return s.targetCount+=1,o.ee(t,s),o.Zt(e,s)})})},i.prototype.updateTargetData=function(e,t){return this.te(e,t)},i.prototype.removeTargetData=function(e,t){var o=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return mh(e).delete(t.targetId)}).next(function(){return o.Xt(e)}).next(function(s){return it(s.targetCount>0),s.targetCount-=1,o.Zt(e,s)})},i.prototype.removeTargets=function(e,t,o){var s=this,u=0,d=[];return mh(e).$t(function(g,y){var b=Am(y);b.sequenceNumber<=t&&null===o.get(b.targetId)&&(u++,d.push(s.removeTargetData(e,b)))}).next(function(){return Ce.waitFor(d)}).next(function(){return u})},i.prototype.forEachTarget=function(e,t){return mh(e).$t(function(o,s){var u=Am(s);t(u)})},i.prototype.Xt=function(e){return iF(e).get(hi.key).next(function(t){return it(null!==t),t})},i.prototype.Zt=function(e,t){return iF(e).put(hi.key,t)},i.prototype.te=function(e,t){return mh(e).put(ZR(this.R,t))},i.prototype.ee=function(e,t){var o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},i.prototype.getTargetData=function(e,t){var o=gm(t),s=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),u=null;return mh(e).$t({range:s,index:Wr.queryTargetsIndexName},function(d,g,y){var b=Am(g);sw(t,b.target)&&(u=b,y.done())}).next(function(){return u})},i.prototype.addMatchingKeys=function(e,t,o){var s=this,u=[],d=Ra(e);return t.forEach(function(g){var y=Zi(g.path);u.push(d.put(new rr(o,y))),u.push(s.referenceDelegate.addReference(e,o,g))}),Ce.waitFor(u)},i.prototype.removeMatchingKeys=function(e,t,o){var s=this,u=Ra(e);return Ce.forEach(t,function(d){var g=Zi(d.path);return Ce.waitFor([u.delete([o,g]),s.referenceDelegate.removeReference(e,o,d)])})},i.prototype.removeMatchingKeysForTargetId=function(e,t){var o=Ra(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(s)},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ra(e),u=Nt();return s.$t({range:o,Ft:!0},function(d,g,y){var b=ms(d[1]),E=new Ze(b);u=u.add(E)}).next(function(){return u})},i.prototype.containsKey=function(e,t){var o=Zi(t.path),s=IDBKeyRange.bound([o],[jO(o)],!1,!0),u=0;return Ra(e).$t({index:rr.documentTargetsIndex,Ft:!0,range:s},function(d,g,y){0!==d[0]&&(u++,y.done())}).next(function(){return u>0})},i.prototype.lt=function(e,t){return mh(e).get(t).next(function(o){return o?Am(o):null})},i}();function mh(i){return Yr(i,Wr.store)}function iF(i){return Yr(i,hi.store)}function Ra(i){return Yr(i,rr.store)}function cu(i){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){if(i.code!==ee.FAILED_PRECONDITION||i.message!==HR)throw i;return Te("LocalStore","Unexpectedly lost primary lease"),[2]})})}function oF(i,e){var o=i[1],u=e[1],d=Ct(i[0],e[0]);return 0===d?Ct(o,u):d}var jN=function(){function i(e){this.ne=e,this.buffer=new Rn(oF),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var o=this.buffer.last();oF(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),HN=function(){function i(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return i.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(e){var t=this,o=this.oe?3e5:6e4;Te("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,T.mG)(t,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:this.ce=null,this.oe=!0,u.label=1;case 1:return u.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return u.sent(),[3,7];case 3:return lu(s=u.sent())?(Te("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s),[3,6]):[3,4];case 4:return[4,cu(s)];case 5:u.sent(),u.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return u.sent(),[2]}})})})},i}(),GN=function(){function i(e,t){this.ae=e,this.params=t}return i.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(o){return Math.floor(t/100*o)})},i.prototype.nthSequenceNumber=function(e,t){var o=this;if(0===t)return Ce.resolve(li.o);var s=new jN(t);return this.ae.forEachTarget(e,function(u){return s.re(u.sequenceNumber)}).next(function(){return o.ae.le(e,function(u){return s.re(u)})}).next(function(){return s.maxValue})},i.prototype.removeTargets=function(e,t,o){return this.ae.removeTargets(e,t,o)},i.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},i.prototype.collect=function(e,t){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector","Garbage collection skipped; disabled"),Ce.resolve(eF)):this.getCacheSize(e).next(function(s){return s<o.params.cacheSizeCollectionThreshold?(Te("LruGarbageCollector","Garbage collection skipped; Cache size "+s+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),eF):o.fe(e,t)})},i.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},i.prototype.fe=function(e,t){var o,s,u,d,g,y,b,E=this,C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(A){return A>E.params.maximumSequenceNumbersToCollect?(Te("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+E.params.maximumSequenceNumbersToCollect+" from "+A),s=E.params.maximumSequenceNumbersToCollect):s=A,d=Date.now(),E.nthSequenceNumber(e,s)}).next(function(A){return o=A,g=Date.now(),E.removeTargets(e,o,t)}).next(function(A){return u=A,y=Date.now(),E.removeOrphanedDocuments(e,o)}).next(function(A){return b=Date.now(),wA()<=yo.in.DEBUG&&Te("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(d-C)+"ms\n\tDetermined least recently used "+s+" in "+(g-d)+"ms\n\tRemoved "+u+" targets in "+(y-g)+"ms\n\tRemoved "+A+" documents in "+(b-y)+"ms\nTotal Duration: "+(b-C)+"ms"),Ce.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:A})})},i}(),zN=function(){function i(e,t){this.db=e,this.garbageCollector=new GN(this,t)}return i.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(o){return t.next(function(s){return o+s})})},i.prototype.de=function(e){var t=0;return this.le(e,function(o){t++}).next(function(){return t})},i.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},i.prototype.le=function(e,t){return this.we(e,function(o,s){return t(s)})},i.prototype.addReference=function(e,t,o){return ww(e,o)},i.prototype.removeReference=function(e,t,o){return ww(e,o)},i.prototype.removeTargets=function(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)},i.prototype.markPotentiallyOrphaned=function(e,t){return ww(e,t)},i.prototype._e=function(e,t){return s=t,u=!1,rF(o=e).Ot(function(d){return nF(o,d,s).next(function(g){return g&&(u=!0),Ce.resolve(!g)})}).next(function(){return u});var o,s,u},i.prototype.removeOrphanedDocuments=function(e,t){var o=this,s=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[],d=0;return this.we(e,function(g,y){if(y<=t){var b=o._e(e,g).next(function(E){if(!E)return d++,s.getEntry(e,g).next(function(){return s.removeEntry(g),Ra(e).delete([0,Zi(g.path)])})});u.push(b)}}).next(function(){return Ce.waitFor(u)}).next(function(){return s.apply(e)}).next(function(){return d})},i.prototype.removeTarget=function(e,t){var o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)},i.prototype.updateLimboDocument=function(e,t){return ww(e,t)},i.prototype.we=function(e,t){var o,s=Ra(e),u=li.o;return s.$t({index:rr.documentTargetsIndex},function(d,g){var b=g.path,E=g.sequenceNumber;0===d[0]?(u!==li.o&&t(new Ze(ms(o)),u),u=E,o=b):u=li.o}).next(function(){u!==li.o&&t(new Ze(ms(o)),u)})},i.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},i}();function ww(i,e){return Ra(i).put((o=i.currentSequenceNumber,new rr(0,Zi(e.path),o)));var o}var yh=function(){function i(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return i.prototype.get=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(var s=0,u=o;s<u.length;s++){var d=u[s],y=d[1];if(this.equalsFn(d[0],e))return y}},i.prototype.has=function(e){return void 0!==this.get(e)},i.prototype.set=function(e,t){var o=this.mapKeyFn(e),s=this.inner[o];if(void 0!==s){for(var u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t])}else this.inner[o]=[[e,t]]},i.prototype.delete=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(var s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return 1===o.length?delete this.inner[t]:o.splice(s,1),!0;return!1},i.prototype.forEach=function(e){nu(this.inner,function(t,o){for(var s=0,u=o;s<u.length;s++){var d=u[s];e(d[0],d[1])}})},i.prototype.isEmpty=function(){return GO(this.inner)},i}(),sF=function(){function i(){this.changes=new yh(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return i.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:vt.min()},i.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},i.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:nr.newInvalidDocument(e),readTime:t})},i.prototype.getEntry=function(e,t){this.assertNotApplied();var o=this.changes.get(t);return void 0!==o?Ce.resolve(o.document):this.getFromCache(e,t)},i.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},i.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},i.prototype.assertNotApplied=function(){},i}(),qN=function(){function i(e,t){this.R=e,this.Ut=t}return i.prototype.addEntry=function(e,t,o){return Fa(e).put(Ew(t),o)},i.prototype.removeEntry=function(e,t){var o=Fa(e),s=Ew(t);return o.delete(s)},i.prototype.updateMetadata=function(e,t){var o=this;return this.getMetadata(e).next(function(s){return s.byteSize+=t,o.me(e,s)})},i.prototype.getEntry=function(e,t){var o=this;return Fa(e).get(Ew(t)).next(function(s){return o.ye(t,s)})},i.prototype.ge=function(e,t){var o=this;return Fa(e).get(Ew(t)).next(function(s){return{document:o.ye(t,s),size:_w(s)}})},i.prototype.getEntries=function(e,t){var o=this,s=xi();return this.pe(e,t,function(u,d){var g=o.ye(u,d);s=s.insert(u,g)}).next(function(){return s})},i.prototype.Ee=function(e,t){var o=this,s=xi(),u=new vr(Ze.comparator);return this.pe(e,t,function(d,g){var y=o.ye(d,g);s=s.insert(d,y),u=u.insert(d,_w(g))}).next(function(){return{documents:s,Te:u}})},i.prototype.pe=function(e,t,o){if(t.isEmpty())return Ce.resolve();var s=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),u=t.getIterator(),d=u.getNext();return Fa(e).$t({range:s},function(g,y,b){for(var E=Ze.fromSegments(g);d&&Ze.comparator(d,E)<0;)o(d,null),d=u.getNext();d&&d.isEqual(E)&&(o(d,y),d=u.hasNext()?u.getNext():null),d?b.Ct(d.path.toArray()):b.done()}).next(function(){for(;d;)o(d,null),d=u.hasNext()?u.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){var s=this,u=xi(),d=t.path.length+1,g={};if(o.isEqual(vt.min())){var y=t.path.toArray();g.range=IDBKeyRange.lowerBound(y)}else{var b=t.path.toArray(),E=HA(o);g.range=IDBKeyRange.lowerBound([b,E],!0),g.index=sn.collectionReadTimeIndex}return Fa(e).$t(g,function(C,A,I){if(C.length===d){var O=jA(s.R,A);t.path.isPrefixOf(O.key.path)?vm(t,O)&&(u=u.insert(O.key,O)):I.done()}}).next(function(){return u})},i.prototype.newChangeBuffer=function(e){return new $N(this,!!e&&e.trackRemovals)},i.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},i.prototype.getMetadata=function(e){return aF(e).get(Co.key).next(function(t){return it(!!t),t})},i.prototype.me=function(e,t){return aF(e).put(Co.key,t)},i.prototype.ye=function(e,t){if(t){var o=jA(this.R,t);if(!o.isNoDocument()||!o.version.isEqual(vt.min()))return o}return nr.newInvalidDocument(e)},i}(),$N=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).Ie=t,s.trackRemovals=o,s.Ae=new yh(function(u){return u.toString()},function(u,d){return u.isEqual(d)}),s}return(0,T.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,s=[],u=0,d=new Rn(function(g,y){return Ct(g.canonicalString(),y.canonicalString())});return this.changes.forEach(function(g,y){var b=o.Ae.get(g);if(y.document.isValidDocument()){var E=YR(o.Ie.R,y.document,o.getReadTime(g));d=d.add(g.path.popLast());var C=_w(E);u+=C-b,s.push(o.Ie.addEntry(t,g,E))}else if(u-=b,o.trackRemovals){var A=YR(o.Ie.R,nr.newNoDocument(g,vt.min()),o.getReadTime(g));s.push(o.Ie.addEntry(t,g,A))}else s.push(o.Ie.removeEntry(t,g))}),d.forEach(function(g){s.push(o.Ie.Ut.addToCollectionParentIndex(t,g))}),s.push(this.Ie.updateMetadata(t,u)),Ce.waitFor(s)},e.prototype.getFromCache=function(t,o){var s=this;return this.Ie.ge(t,o).next(function(u){return s.Ae.set(o,u.size),u.document})},e.prototype.getAllFromCache=function(t,o){var s=this;return this.Ie.Ee(t,o).next(function(u){var d=u.documents;return u.Te.forEach(function(g,y){s.Ae.set(g,y)}),d})},e}(sF);function aF(i){return Yr(i,Co.store)}function Fa(i){return Yr(i,sn.store)}function Ew(i){return i.path.toArray()}var WN=function(){function i(e){this.R=e}return i.prototype.Rt=function(e,t,o,s){var u=this;it(o<s&&o>=0&&s<=11);var y,d=new zR("createOrUpgrade",t);o<1&&s>=1&&(e.createObjectStore(di.store),(y=e).createObjectStore(xa.store,{keyPath:xa.keyPath}),y.createObjectStore($t.store,{keyPath:$t.keyPath,autoIncrement:!0}).createIndex($t.userMutationsIndex,$t.userMutationsKeyPath,{unique:!0}),y.createObjectStore(_r.store),lF(e),function(y){y.createObjectStore(sn.store)}(e));var g=Ce.resolve();return o<3&&s>=3&&(0!==o&&(function(y){y.deleteObjectStore(rr.store),y.deleteObjectStore(Wr.store),y.deleteObjectStore(hi.store)}(e),lF(e)),g=g.next(function(){return function(y){var b=y.store(hi.store),E=new hi(0,0,vt.min().toTimestamp(),0);return b.put(hi.key,E)}(d)})),o<4&&s>=4&&(0!==o&&(g=g.next(function(){return function(y,b){return b.store($t.store).Nt().next(function(E){y.deleteObjectStore($t.store),y.createObjectStore($t.store,{keyPath:$t.keyPath,autoIncrement:!0}).createIndex($t.userMutationsIndex,$t.userMutationsKeyPath,{unique:!0});var C=b.store($t.store),A=E.map(function(I){return C.put(I)});return Ce.waitFor(A)})}(e,d)})),g=g.next(function(){!function(y){y.createObjectStore(ys.store,{keyPath:ys.keyPath})}(e)})),o<5&&s>=5&&(g=g.next(function(){return u.Re(d)})),o<6&&s>=6&&(g=g.next(function(){return function(y){y.createObjectStore(Co.store)}(e),u.be(d)})),o<7&&s>=7&&(g=g.next(function(){return u.ve(d)})),o<8&&s>=8&&(g=g.next(function(){return u.Pe(e,d)})),o<9&&s>=9&&(g=g.next(function(){(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){var b=y.objectStore(sn.store);b.createIndex(sn.readTimeIndex,sn.readTimeIndexPath,{unique:!1}),b.createIndex(sn.collectionReadTimeIndex,sn.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&s>=10&&(g=g.next(function(){return u.Ve(d)})),o<11&&s>=11&&(g=g.next(function(){(function(y){y.createObjectStore(uh.store,{keyPath:uh.keyPath})})(e),function(y){y.createObjectStore(ch.store,{keyPath:ch.keyPath})}(e)})),g},i.prototype.be=function(e){var t=0;return e.store(sn.store).$t(function(o,s){t+=_w(s)}).next(function(){var o=new Co(t);return e.store(Co.store).put(Co.key,o)})},i.prototype.Re=function(e){var t=this,o=e.store(xa.store),s=e.store($t.store);return o.Nt().next(function(u){return Ce.forEach(u,function(d){var g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Nt($t.userMutationsIndex,g).next(function(y){return Ce.forEach(y,function(b){it(b.userId===d.userId);var E=ph(t.R,b);return tF(e,d.userId,E).next(function(){})})})})})},i.prototype.ve=function(e){var t=e.store(rr.store),o=e.store(sn.store);return e.store(hi.store).get(hi.key).next(function(s){var u=[];return o.$t(function(d,g){var y=new Ft(d),b=[0,Zi(y)];u.push(t.get(b).next(function(E){return E?Ce.resolve():t.put(new rr(0,Zi(y),s.highestListenSequenceNumber))}))}).next(function(){return Ce.waitFor(u)})})},i.prototype.Pe=function(e,t){e.createObjectStore(au.store,{keyPath:au.keyPath});var o=t.store(au.store),s=new zA,u=function(d){if(s.add(d)){var g=d.lastSegment(),y=d.popLast();return o.put({collectionId:g,parent:Zi(y)})}};return t.store(sn.store).$t({Ft:!0},function(d,g){var y=new Ft(d);return u(y.popLast())}).next(function(){return t.store(_r.store).$t({Ft:!0},function(d,g){var b=ms(d[1]);return u(b.popLast())})})},i.prototype.Ve=function(e){var t=this,o=e.store(Wr.store);return o.$t(function(s,u){var d=Am(u),g=ZR(t.R,d);return o.put(g)})},i}();function lF(i){i.createObjectStore(rr.store,{keyPath:rr.keyPath}).createIndex(rr.documentTargetsIndex,rr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Wr.store,{keyPath:Wr.keyPath}).createIndex(Wr.queryTargetsIndexName,Wr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(hi.store)}var qA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",YN=function(){function i(e,t,o,s,u,d,g,y,b,E){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Se=u,this.window=d,this.document=g,this.De=b,this.Ce=E,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(C){return Promise.resolve()},!i.yt())throw new ye(ee.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zN(this,s),this.Le=t+"main",this.R=new WR(y),this.Be=new dh(this.Le,11,new WN(this.R)),this.qe=new UN(this.referenceDelegate,this.R),this.Ut=new VN,this.Ue=new qN(this.R,this.Ut),this.Ke=new NN,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===E&&En("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ye(ee.FAILED_PRECONDITION,qA);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new li(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},i.prototype.He=function(e){var t=this;return this.Me=function(o){return(0,T.mG)(t,void 0,void 0,function(){return(0,T.Jh)(this,function(s){return this.started?[2,e(o)]:[2]})})},e(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(o){return(0,T.mG)(t,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return null===o.newVersion?[4,e()]:[3,2];case 1:s.sent(),s.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,T.mG)(t,void 0,void 0,function(){return(0,T.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return Cw(t).put(new ys(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(o){o||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(o){return e.isPrimary&&!o?e.Xe(t).next(function(){return!1}):!!o&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(lu(t))return Te("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Te("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},i.prototype.Je=function(e){var t=this;return Tm(e).get(di.key).next(function(o){return Ce.resolve(t.tn(o))})},i.prototype.en=function(e){return Cw(e).delete(this.clientId)},i.prototype.nn=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o,u=this;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(g){var y=Yr(g,ys.store);return y.Nt().next(function(b){var E=u.rn(b,18e5),C=b.filter(function(A){return-1===E.indexOf(A)});return Ce.forEach(C,function(A){return y.delete(A.clientId)}).next(function(){return C})})}).catch(function(){return[]})]);case 1:if(e=d.sent(),this.Qe)for(t=0,o=e;t<o.length;t++)this.Qe.removeItem(this.on(o[t].clientId));d.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},i.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},i.prototype.Ye=function(e){var t=this;return this.Ce?Ce.resolve(!0):Tm(e).get(di.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)){if(t.tn(o)&&t.networkEnabled)return!0;if(!t.tn(o)){if(!o.allowTabSynchronization)throw new ye(ee.FAILED_PRECONDITION,qA);return!1}}return!(!t.networkEnabled||!t.inForeground)||Cw(e).Nt().next(function(s){return void 0===t.rn(s,5e3).find(function(u){return!(t.clientId===u.clientId||!(!t.networkEnabled&&u.networkEnabled||!t.inForeground&&u.inForeground&&t.networkEnabled===u.networkEnabled))})})}).next(function(o){return t.isPrimary!==o&&Te("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,T.mG)(this,void 0,void 0,function(){var e=this;return(0,T.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[di.store,ys.store],function(o){var s=new $R(o,li.o);return e.Xe(s).next(function(){return e.en(s)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(e,t){var o=this;return e.filter(function(s){return o.sn(s.updateTimeMs,t)&&!o.cn(s.clientId)})},i.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return Cw(t).Nt().next(function(o){return e.rn(o,18e5).map(function(s){return s.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(e){return BN.Qt(e,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var u,s=this;return Te("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",RN,function(g){return u=new $R(g,s.Ne?s.Ne.next():li.o),"readwrite-primary"===t?s.Je(u).next(function(y){return!!y||s.Ye(u)}).next(function(y){if(!y)throw En("Failed to obtain primary lease for action '"+e+"'."),s.isPrimary=!1,s.Se.enqueueRetryable(function(){return s.Me(!1)}),new ye(ee.FAILED_PRECONDITION,HR);return o(u)}).next(function(y){return s.Ze(u).next(function(){return y})}):s.dn(u).next(function(){return o(u)})}).then(function(g){return u.raiseOnCommittedEvent(),g})},i.prototype.dn=function(e){var t=this;return Tm(e).get(di.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)&&!t.tn(o)&&!(t.Ce||t.allowTabSynchronization&&o.allowTabSynchronization))throw new ye(ee.FAILED_PRECONDITION,qA)})},i.prototype.Ze=function(e){var t=new di(this.clientId,this.allowTabSynchronization,Date.now());return Tm(e).put(di.key,t)},i.yt=function(){return dh.yt()},i.prototype.Xe=function(e){var t=this,o=Tm(e);return o.get(di.key).next(function(s){return t.tn(s)?(Te("IndexedDbPersistence","Releasing primary lease."),o.delete(di.key)):Ce.resolve()})},i.prototype.sn=function(e,t){var o=Date.now();return!(e<o-t||e>o&&(En("Detected an update time that is in the future: "+e+" > "+o),1))},i.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,At.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(e){var t;try{var o=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Te("IndexedDbPersistence","Client '"+e+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(s){return En("IndexedDbPersistence","Failed to get zombied client id.",s),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){En("Failed to set zombie client id.",e)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},i.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},i}();function Tm(i){return Yr(i,di.store)}function Cw(i){return Yr(i,ys.store)}function $A(i,e){var t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}var KN=function(i,e){this.progress=i,this.wn=e},uF=function(){function i(e,t,o){this.Ue=e,this._n=t,this.Ut=o}return i.prototype.mn=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(s){return o.yn(e,t,s)})},i.prototype.yn=function(e,t,o){return this.Ue.getEntry(e,t).next(function(s){for(var u=0,d=o;u<d.length;u++)d[u].applyToLocalView(s);return s})},i.prototype.gn=function(e,t){e.forEach(function(o,s){for(var u=0,d=t;u<d.length;u++)d[u].applyToLocalView(s)})},i.prototype.pn=function(e,t){var o=this;return this.Ue.getEntries(e,t).next(function(s){return o.En(e,s).next(function(){return s})})},i.prototype.En=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(s){return o.gn(t,s)})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){return Ze.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Tn(e,t.path):xA(t)?this.In(e,t,o):this.An(e,t,o);var s},i.prototype.Tn=function(e,t){return this.mn(e,new Ze(t)).next(function(o){var s=PA();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})},i.prototype.In=function(e,t,o){var s=this,u=t.collectionGroup,d=PA();return this.Ut.getCollectionParents(e,u).next(function(g){return Ce.forEach(g,function(y){var E,C,b=(E=t,C=y.child(u),new gs(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt));return s.An(e,b,o).next(function(E){E.forEach(function(C,A){d=d.insert(C,A)})})}).next(function(){return d})})},i.prototype.An=function(e,t,o){var s,u,d=this;return this.Ue.getDocumentsMatchingQuery(e,t,o).next(function(g){return s=g,d._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(g){return d.Rn(e,u=g,s).next(function(y){s=y;for(var b=0,E=u;b<E.length;b++)for(var C=E[b],A=0,I=C.mutations;A<I.length;A++){var O=I[A],V=O.key,W=s.get(V);null==W&&(W=nr.newInvalidDocument(V),s=s.insert(V,W)),RA(O,W,C.localWriteTime),W.isFoundDocument()||(s=s.remove(V))}})}).next(function(){return s.forEach(function(g,y){vm(t,y)||(s=s.remove(g))}),s})},i.prototype.Rn=function(e,t,o){for(var s=Nt(),u=0,d=t;u<d.length;u++)for(var g=0,y=d[u].mutations;g<y.length;g++){var b=y[g];b instanceof Ma&&null===o.get(b.key)&&(s=s.add(b.key))}var E=o;return this.Ue.getEntries(e,s).next(function(C){return C.forEach(function(A,I){I.isFoundDocument()&&(E=E.insert(A,I))}),E})},i}(),ZN=function(){function i(e,t,o,s){this.targetId=e,this.fromCache=t,this.bn=o,this.vn=s}return i.Pn=function(e,t){for(var o=Nt(),s=Nt(),u=0,d=t.docChanges;u<d.length;u++){var g=d[u];switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:s=s.add(g.doc.key)}}return new i(e,t.fromCache,o,s)},i}(),cF=function(){function i(){}return i.prototype.Vn=function(e){this.Sn=e},i.prototype.getDocumentsMatchingQuery=function(e,t,o,s){var d,u=this;return 0===(d=t).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||o.isEqual(vt.min())?this.Dn(e,t):this.Sn.pn(e,s).next(function(d){var g=u.Cn(t,d);return(uw(t)||cw(t))&&u.Nn(t.limitType,g,s,o)?u.Dn(e,t):(wA()<=yo.in.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),OA(t)),u.Sn.getDocumentsMatchingQuery(e,t,o).next(function(y){return g.forEach(function(b){y=y.insert(b.key,b)}),y}))})},i.prototype.Cn=function(e,t){var o=new Rn(iR(e));return t.forEach(function(s,u){vm(e,u)&&(o=o.add(u))}),o},i.prototype.Nn=function(e,t,o,s){if(o.size!==t.size)return!0;var u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)},i.prototype.Dn=function(e,t){return wA()<=yo.in.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",OA(t)),this.Sn.getDocumentsMatchingQuery(e,t,vt.min())},i}(),QN=function(){function i(e,t,o,s){this.persistence=e,this.xn=t,this.R=s,this.kn=new vr(Ct),this.Fn=new yh(function(u){return gm(u)},sw),this.$n=vt.min(),this._n=e.getMutationQueue(o),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new uF(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return e.collect(o,t.kn)})},i}();function dF(i,e,t,o){return new QN(i,e,t,o)}function hF(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s,u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return t=Re(i),o=t._n,s=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(g){var y;return t._n.getAllMutationBatches(g).next(function(b){return y=b,o=t.persistence.getMutationQueue(e),s=new uF(t.On,o,t.persistence.getIndexManager()),o.getAllMutationBatches(g)}).next(function(b){for(var E=[],C=[],A=Nt(),I=0,O=y;I<O.length;I++){var V=O[I];E.push(V.batchId);for(var W=0,ie=V.mutations;W<ie.length;W++)A=A.add(ie[W].key)}for(var me=0,ke=b;me<ke.length;me++){var Ve=ke[me];C.push(Ve.batchId);for(var ht=0,xt=Ve.mutations;ht<xt.length;ht++)A=A.add(xt[ht].key)}return s.pn(g,A).next(function(Fr){return{Ln:Fr,removedBatchIds:E,addedBatchIds:C}})})})];case 1:return u=d.sent(),[2,(t._n=o,t.Mn=s,t.xn.Vn(t.Mn),u)]}})})}function JN(i,e){var t=Re(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var d,g,y,b,E,C,A,s=e.batch.keys(),u=t.On.newChangeBuffer({trackRemovals:!0});return(d=t,g=o,y=e,b=u,E=y.batch,C=E.keys(),A=Ce.resolve(),C.forEach(function(I){A=A.next(function(){return b.getEntry(g,I)}).next(function(O){var V=y.docVersions.get(I);it(null!==V),O.version.compareTo(V)<0&&(E.applyToRemoteDocument(O,y),O.isValidDocument()&&b.addEntry(O,y.commitVersion))})}),A.next(function(){return d._n.removeMutationBatch(g,E)})).next(function(){return u.apply(o)}).next(function(){return t._n.performConsistencyCheck(o)}).next(function(){return t.Mn.pn(o,s)})})}function fF(i){var e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function XN(i,e){var t=Re(i),o=e.snapshotVersion,s=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(u){var d=t.On.newChangeBuffer({trackRemovals:!0});s=t.kn;var g=[];e.targetChanges.forEach(function(E,C){var V,W,ie,A=s.get(C);if(A){g.push(t.qe.removeMatchingKeys(u,E.removedDocuments,C).next(function(){return t.qe.addMatchingKeys(u,E.addedDocuments,C)}));var I=E.resumeToken;if(I.approximateByteSize()>0){var O=A.withResumeToken(I,o).withSequenceNumber(u.currentSequenceNumber);s=s.insert(C,O),V=A,ie=E,it((W=O).resumeToken.approximateByteSize()>0),(0===V.resumeToken.approximateByteSize()||W.snapshotVersion.toMicroseconds()-V.snapshotVersion.toMicroseconds()>=3e8||ie.addedDocuments.size+ie.modifiedDocuments.size+ie.removedDocuments.size>0)&&g.push(t.qe.updateTargetData(u,O))}}});var y=xi();if(e.documentUpdates.forEach(function(E,C){e.resolvedLimboDocuments.has(E)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,E))}),g.push(pF(u,d,e.documentUpdates,o,void 0).next(function(E){y=E})),!o.isEqual(vt.min())){var b=t.qe.getLastRemoteSnapshotVersion(u).next(function(E){return t.qe.setTargetsMetadata(u,u.currentSequenceNumber,o)});g.push(b)}return Ce.waitFor(g).next(function(){return d.apply(u)}).next(function(){return t.Mn.En(u,y)}).next(function(){return y})}).then(function(u){return t.kn=s,u})}function pF(i,e,t,o,s){var u=Nt();return t.forEach(function(d){return u=u.add(d)}),e.getEntries(i,u).next(function(d){var g=xi();return t.forEach(function(y,b){var E=d.get(y),C=(null==s?void 0:s.get(y))||o;b.isNoDocument()&&b.version.isEqual(vt.min())?(e.removeEntry(y,C),g=g.insert(y,b)):!E.isValidDocument()||b.version.compareTo(E.version)>0||0===b.version.compareTo(E.version)&&E.hasPendingWrites?(e.addEntry(b,C),g=g.insert(y,b)):Te("LocalStore","Ignoring outdated watch update for ",y,". Current version:",E.version," Watch version:",b.version)}),g})}function eL(i,e){var t=Re(i);return t.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===e&&(e=-1),t._n.getNextMutationBatchAfterBatchId(o,e)})}function vh(i,e){var t=Re(i);return t.persistence.runTransaction("Allocate target","readwrite",function(o){var s;return t.qe.getTargetData(o,e).next(function(u){return u?Ce.resolve(s=u):t.qe.allocateTargetId(o).next(function(d){return s=new vw(e,d,0,o.currentSequenceNumber),t.qe.addTargetData(o,s).next(function(){return s})})})}).then(function(o){var s=t.kn.get(o.targetId);return(null===s||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.kn=t.kn.insert(o.targetId,o),t.Fn.set(e,o.targetId)),o})}function _h(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:o=Re(i),s=o.kn.get(e),u=t?"readwrite":"readwrite-primary",g.label=1;case 1:return g.trys.push([1,4,,5]),t?[3,3]:[4,o.persistence.runTransaction("Release target",u,function(y){return o.persistence.referenceDelegate.removeTarget(y,s)})];case 2:g.sent(),g.label=3;case 3:return[3,5];case 4:if(!lu(d=g.sent()))throw d;return Te("LocalStore","Failed to update sequence numbers for target "+e+": "+d),[3,5];case 5:return o.kn=o.kn.remove(e),o.Fn.delete(s.target),[2]}})})}function Dw(i,e,t){var o=Re(i),s=vt.min(),u=Nt();return o.persistence.runTransaction("Execute query","readonly",function(d){return(g=o,y=d,b=Ii(e),E=Re(g),C=E.Fn.get(b),void 0!==C?Ce.resolve(E.kn.get(C)):E.qe.getTargetData(y,b)).next(function(g){if(g)return s=g.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(d,g.targetId).next(function(y){u=y})}).next(function(){return o.xn.getDocumentsMatchingQuery(d,e,t?s:vt.min(),t?u:Nt())}).next(function(g){return{documents:g,Bn:u}});var g,y,b,E,C})}function gF(i,e){var t=Re(i),o=Re(t.qe),s=t.kn.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",function(u){return o.lt(u,e).next(function(d){return d?d.target:null})})}function mF(i){var e=Re(i);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return s=t,u=e.$n,d=Re(e.On),g=xi(),y=HA(u),b=Fa(s),E=IDBKeyRange.lowerBound(y,!0),b.$t({index:sn.readTimeIndex,range:E},function(C,A){var I=jA(d.R,A);g=g.insert(I.key,I),y=A.readTime}).next(function(){return{wn:g,readTime:KR(y)}});var s,u,d,g,y,b,E}).then(function(t){var o=t.wn;return e.$n=t.readTime,o})}function tL(i){return(0,T.mG)(this,void 0,void 0,function(){var e;return(0,T.Jh)(this,function(t){return[2,(e=Re(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return u=Fa(o),d=vt.min(),u.$t({index:sn.readTimeIndex,reverse:!0},function(g,y,b){y.readTime&&(d=KR(y.readTime)),b.done()}).next(function(){return d});var u,d}).then(function(o){e.$n=o})]})})}function nL(i,e,t,o){return(0,T.mG)(this,void 0,void 0,function(){var s,u,d,g,y,b,E,C,A,I;return(0,T.Jh)(this,function(O){switch(O.label){case 0:for(s=Re(i),u=Nt(),d=xi(),g=wR(),y=0,b=t;y<b.length;y++)C=e.qn((E=b[y]).metadata.name),E.document&&(u=u.add(C)),d=d.insert(C,e.Un(E)),g=g.insert(C,e.Kn(E.metadata.readTime));return A=s.On.newChangeBuffer({trackRemovals:!0}),[4,vh(s,(V=o,Ii(rh(Ft.fromString("__bundle__/docs/"+V)))))];case 1:return I=O.sent(),[2,s.persistence.runTransaction("Apply bundle documents","readwrite",function(V){return pF(V,A,d,vt.min(),g).next(function(W){return A.apply(V),W}).next(function(W){return s.qe.removeMatchingKeysForTargetId(V,I.targetId).next(function(){return s.qe.addMatchingKeys(V,u,I.targetId)}).next(function(){return s.Mn.En(V,W)}).next(function(){return W})})})]}var V})})}function rL(i,e,t){return void 0===t&&(t=Nt()),(0,T.mG)(this,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,vh(i,Ii(GA(e.bundledQuery)))];case 1:return o=u.sent(),[2,(s=Re(i)).persistence.runTransaction("Save named query","readwrite",function(d){var g=Gn(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return s.Ke.saveNamedQuery(d,e);var y=o.withResumeToken(Or.EMPTY_BYTE_STRING,g);return s.kn=s.kn.insert(y.targetId,y),s.qe.updateTargetData(d,y).next(function(){return s.qe.removeMatchingKeysForTargetId(d,o.targetId)}).next(function(){return s.qe.addMatchingKeys(d,t,o.targetId)}).next(function(){return s.Ke.saveNamedQuery(d,e)})})]}})})}var iL=function(){function i(e){this.R=e,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(e,t){return Ce.resolve(this.Qn.get(t))},i.prototype.saveBundleMetadata=function(e,t){var o;return this.Qn.set(t.id,{id:(o=t).id,version:o.version,createTime:Gn(o.createTime)}),Ce.resolve()},i.prototype.getNamedQuery=function(e,t){return Ce.resolve(this.jn.get(t))},i.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(o=t).name,query:GA(o.bundledQuery),readTime:Gn(o.readTime)}),Ce.resolve();var o},i}(),WA=function(){function i(){this.Wn=new Rn(zn.Gn),this.zn=new Rn(zn.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(e,t){var o=new zn(e,t);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(e,t){var o=this;e.forEach(function(s){return o.addReference(s,t)})},i.prototype.removeReference=function(e,t){this.Yn(new zn(e,t))},i.prototype.Xn=function(e,t){var o=this;e.forEach(function(s){return o.removeReference(s,t)})},i.prototype.Zn=function(e){var t=this,o=new Ze(new Ft([])),s=new zn(o,e),u=new zn(o,e+1),d=[];return this.zn.forEachInRange([s,u],function(g){t.Yn(g),d.push(g.key)}),d},i.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},i.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},i.prototype.es=function(e){var t=new Ze(new Ft([])),o=new zn(t,e),s=new zn(t,e+1),u=Nt();return this.zn.forEachInRange([o,s],function(d){u=u.add(d.key)}),u},i.prototype.containsKey=function(e){var t=new zn(e,0),o=this.Wn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)},i}(),zn=function(){function i(e,t){this.key=e,this.ns=t}return i.Gn=function(e,t){return Ze.comparator(e.key,t.key)||Ct(e.ns,t.ns)},i.Hn=function(e,t){return Ct(e.ns,t.ns)||Ze.comparator(e.key,t.key)},i}(),oL=function(){function i(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new Rn(zn.Gn)}return i.prototype.checkEmpty=function(e){return Ce.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(e,t,o,s){var u=this.ss;this.ss++;var d=new UA(u,t,o,s);this._n.push(d);for(var g=0,y=s;g<y.length;g++){var b=y[g];this.rs=this.rs.add(new zn(b.key,u)),this.Ut.addToCollectionParentIndex(e,b.key.path.popLast())}return Ce.resolve(d)},i.prototype.lookupMutationBatch=function(e,t){return Ce.resolve(this.os(t))},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var s=this.cs(t+1),u=s<0?0:s;return Ce.resolve(this._n.length>u?this._n[u]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ce.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(e){return Ce.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,s=new zn(t,0),u=new zn(t,Number.POSITIVE_INFINITY),d=[];return this.rs.forEachInRange([s,u],function(g){var y=o.os(g.ns);d.push(y)}),Ce.resolve(d)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,s=new Rn(Ct);return t.forEach(function(u){var d=new zn(u,0),g=new zn(u,Number.POSITIVE_INFINITY);o.rs.forEachInRange([d,g],function(y){s=s.add(y.ns)})}),Ce.resolve(this.us(s))},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=t.path,s=o.length+1,u=o;Ze.isDocumentKey(u)||(u=u.child(""));var d=new zn(new Ze(u),0),g=new Rn(Ct);return this.rs.forEachWhile(function(y){var b=y.key.path;return!!o.isPrefixOf(b)&&(b.length===s&&(g=g.add(y.ns)),!0)},d),Ce.resolve(this.us(g))},i.prototype.us=function(e){var t=this,o=[];return e.forEach(function(s){var u=t.os(s);null!==u&&o.push(u)}),o},i.prototype.removeMutationBatch=function(e,t){var o=this;it(0===this.hs(t.batchId,"removed")),this._n.shift();var s=this.rs;return Ce.forEach(t.mutations,function(u){var d=new zn(u.key,t.batchId);return s=s.delete(d),o.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(function(){o.rs=s})},i.prototype.Gt=function(e){},i.prototype.containsKey=function(e,t){var o=new zn(t,0),s=this.rs.firstAfterOrEqual(o);return Ce.resolve(t.isEqual(s&&s.key))},i.prototype.performConsistencyCheck=function(e){return Ce.resolve()},i.prototype.hs=function(e,t){return this.cs(e)},i.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},i.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},i}(),sL=function(){function i(e,t){this.Ut=e,this.ls=t,this.docs=new vr(Ze.comparator),this.size=0}return i.prototype.addEntry=function(e,t,o){var s=t.key,u=this.docs.get(s),d=u?u.size:0,g=this.ls(t);return this.docs=this.docs.insert(s,{document:t.clone(),size:g,readTime:o}),this.size+=g-d,this.Ut.addToCollectionParentIndex(e,s.path.popLast())},i.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},i.prototype.getEntry=function(e,t){var o=this.docs.get(t);return Ce.resolve(o?o.document.clone():nr.newInvalidDocument(t))},i.prototype.getEntries=function(e,t){var o=this,s=xi();return t.forEach(function(u){var d=o.docs.get(u);s=s.insert(u,d?d.document.clone():nr.newInvalidDocument(u))}),Ce.resolve(s)},i.prototype.getDocumentsMatchingQuery=function(e,t,o){for(var s=xi(),u=new Ze(t.path.child("")),d=this.docs.getIteratorFrom(u);d.hasNext();){var g=d.getNext(),b=g.value,E=b.document,C=b.readTime;if(!t.path.isPrefixOf(g.key.path))break;C.compareTo(o)<=0||vm(t,E)&&(s=s.insert(E.key,E.clone()))}return Ce.resolve(s)},i.prototype.fs=function(e,t){return Ce.forEach(this.docs,function(o){return t(o)})},i.prototype.newChangeBuffer=function(e){return new aL(this)},i.prototype.getSize=function(e){return Ce.resolve(this.size)},i}(),aL=function(i){function e(t){var o=this;return(o=i.call(this)||this).Ie=t,o}return(0,T.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,s=[];return this.changes.forEach(function(u,d){d.document.isValidDocument()?s.push(o.Ie.addEntry(t,d.document,o.getReadTime(u))):o.Ie.removeEntry(u)}),Ce.waitFor(s)},e.prototype.getFromCache=function(t,o){return this.Ie.getEntry(t,o)},e.prototype.getAllFromCache=function(t,o){return this.Ie.getEntries(t,o)},e}(sF),lL=function(){function i(e){this.persistence=e,this.ds=new yh(function(t){return gm(t)},sw),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.ws=0,this._s=new WA,this.targetCount=0,this.ys=bw.Jt()}return i.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(o,s){return t(s)}),Ce.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(e){return Ce.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(e){return Ce.resolve(this.ws)},i.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ce.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.ws&&(this.ws=t),Ce.resolve()},i.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new bw(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},i.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ce.resolve()},i.prototype.updateTargetData=function(e,t){return this.te(t),Ce.resolve()},i.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ce.resolve()},i.prototype.removeTargets=function(e,t,o){var s=this,u=0,d=[];return this.ds.forEach(function(g,y){y.sequenceNumber<=t&&null===o.get(y.targetId)&&(s.ds.delete(g),d.push(s.removeMatchingKeysForTargetId(e,y.targetId)),u++)}),Ce.waitFor(d).next(function(){return u})},i.prototype.getTargetCount=function(e){return Ce.resolve(this.targetCount)},i.prototype.getTargetData=function(e,t){var o=this.ds.get(t)||null;return Ce.resolve(o)},i.prototype.addMatchingKeys=function(e,t,o){return this._s.Jn(t,o),Ce.resolve()},i.prototype.removeMatchingKeys=function(e,t,o){this._s.Xn(t,o);var s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(function(d){u.push(s.markPotentiallyOrphaned(e,d))}),Ce.waitFor(u)},i.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ce.resolve()},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=this._s.es(t);return Ce.resolve(o)},i.prototype.containsKey=function(e,t){return Ce.resolve(this._s.containsKey(t))},i}(),uL=function(){function i(e,t){var o=this;this.gs={},this.Ne=new li(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new lL(this),this.Ut=new LN,this.Ue=new sL(this.Ut,function(d){return o.referenceDelegate.ps(d)}),this.R=new WR(t),this.Ke=new iL(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new oL(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var s=this;Te("MemoryPersistence","Starting transaction:",e);var u=new cL(this.Ne.next());return this.referenceDelegate.Es(),o(u).next(function(d){return s.referenceDelegate.Ts(u).next(function(){return d})}).toPromise().then(function(d){return u.raiseOnCommittedEvent(),d})},i.prototype.Is=function(e,t){return Ce.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(e,t)}}))},i}(),cL=function(i){function e(t){var o=this;return(o=i.call(this)||this).currentSequenceNumber=t,o}return(0,T.ZT)(e,i),e}(GR),dL=function(){function i(e){this.persistence=e,this.As=new WA,this.Rs=null}return i.bs=function(e){return new i(e)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw We()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(e,t,o){return this.As.addReference(o,t),this.vs.delete(o.toString()),Ce.resolve()},i.prototype.removeReference=function(e,t,o){return this.As.removeReference(o,t),this.vs.add(o.toString()),Ce.resolve()},i.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ce.resolve()},i.prototype.removeTarget=function(e,t){var o=this;this.As.Zn(t.targetId).forEach(function(u){return o.vs.add(u.toString())});var s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(function(u){u.forEach(function(d){return o.vs.add(d.toString())})}).next(function(){return s.removeTargetData(e,t)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(e){var t=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ce.forEach(this.vs,function(s){var u=Ze.fromPath(s);return t.Ps(e,u).next(function(d){d||o.removeEntry(u)})}).next(function(){return t.Rs=null,o.apply(e)})},i.prototype.updateLimboDocument=function(e,t){var o=this;return this.Ps(e,t).next(function(s){s?o.vs.delete(t.toString()):o.vs.add(t.toString())})},i.prototype.ps=function(e){return 0},i.prototype.Ps=function(e,t){var o=this;return Ce.or([function(){return Ce.resolve(o.As.containsKey(t))},function(){return o.persistence.getTargetCache().containsKey(e,t)},function(){return o.persistence.Is(e,t)}])},i}(),ir=function(){function i(e){this.uid=e}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(e){return e.uid===this.uid},i}();function yF(i,e){return"firestore_clients_"+i+"_"+e}function vF(i,e,t){var o="firestore_mutations_"+i+"_"+t;return e.isAuthenticated()&&(o+="_"+e.uid),o}function YA(i,e){return"firestore_targets_"+i+"_"+e}ir.UNAUTHENTICATED=new ir(null),ir.GOOGLE_CREDENTIALS=new ir("google-credentials-uid"),ir.FIRST_PARTY=new ir("first-party-uid"),ir.MOCK_USER=new ir("mock-user");var _F=function(){function i(e,t,o,s){this.user=e,this.batchId=t,this.state=o,this.error=s}return i.Vs=function(e,t,o){var s,u=JSON.parse(o),d="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return d&&u.error&&(d="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(s=new ye(u.error.code,u.error.message)),d?new i(e,t,u.state,s):(En("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+o),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),KA=function(){function i(e,t,o){this.targetId=e,this.state=t,this.error=o}return i.Vs=function(e,t){var o,s=JSON.parse(t),u="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return u&&s.error&&(u="string"==typeof s.error.message&&"string"==typeof s.error.code)&&(o=new ye(s.error.code,s.error.message)),u?new i(e,s.state,o):(En("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),bF=function(){function i(e,t){this.clientId=e,this.activeTargetIds=t}return i.Vs=function(e,t){for(var o=JSON.parse(t),s="object"==typeof o&&o.activeTargetIds instanceof Array,u=gw(),d=0;s&&d<o.activeTargetIds.length;++d)s=$O(o.activeTargetIds[d]),u=u.add(o.activeTargetIds[d]);return s?new i(e,u):(En("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},i}(),hL=function(){function i(e,t){this.clientId=e,this.onlineState=t}return i.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new i(t.clientId,t.onlineState):(En("SharedClientState","Failed to parse online state: "+e),null)},i}(),ZA=function(){function i(){this.activeTargetIds=gw()}return i.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},i.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},i.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},i}(),QA=function(){function i(e,t,o,s,u){this.window=e,this.Se=t,this.persistenceKey=o,this.Ns=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new vr(Ct),this.started=!1,this.$s=[];var d=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.Os=yF(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new ZA),this.Ls=new RegExp("^firestore_clients_"+d+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+d+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+d+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(g){return"firestore_bundle_loaded_"+g}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(e){return!(!e||!e.localStorage)},i.prototype.start=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o,s,u,d,g,y,b,E,A=this;return(0,T.Jh)(this,function(I){switch(I.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=I.sent(),t=0,o=e;t<o.length;t++)(s=o[t])!==this.Ns&&(u=this.getItem(yF(this.persistenceKey,s)))&&(d=bF.Vs(s,u))&&(this.Fs=this.Fs.insert(d.clientId,d));for(this.Qs(),(g=this.storage.getItem(this.Us))&&(y=this.js(g))&&this.Ws(y),b=0,E=this.$s;b<E.length;b++)this.ks(E[b]);return this.$s=[],this.window.addEventListener("pagehide",function(){return A.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(o,s){s.activeTargetIds.has(e)&&(t=!0)}),t},i.prototype.addPendingMutation=function(e){this.zs(e,"pending")},i.prototype.updateMutationState=function(e,t,o){this.zs(e,t,o),this.Hs(e)},i.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var o=this.storage.getItem(YA(this.persistenceKey,e));if(o){var s=KA.Vs(e,o);s&&(t=s.state)}}return this.Js.Ds(e),this.Qs(),t},i.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},i.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){this.removeItem(YA(this.persistenceKey,e))},i.prototype.updateQueryState=function(e,t,o){this.Ys(e,t,o)},i.prototype.handleUserChange=function(e,t,o){var s=this;t.forEach(function(u){s.Hs(u)}),this.currentUser=e,o.forEach(function(u){s.addPendingMutation(u)})},i.prototype.setOnlineState=function(e){this.Xs(e)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(e){var t=this.storage.getItem(e);return Te("SharedClientState","READ",e,t),t},i.prototype.setItem=function(e,t){Te("SharedClientState","SET",e,t),this.storage.setItem(e,t)},i.prototype.removeItem=function(e){Te("SharedClientState","REMOVE",e),this.storage.removeItem(e)},i.prototype.ks=function(e){var t=this,o=e;if(o.storageArea===this.storage){if(Te("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void En("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,T.mG)(t,void 0,void 0,function(){var s,u,d,g,y,b;return(0,T.Jh)(this,function(E){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return s=this.ti(o.key),[2,this.ei(s,null)];if(u=this.ni(o.key,o.newValue))return[2,this.ei(u.clientId,u)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(d=this.si(o.key,o.newValue)))return[2,this.ii(d)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(g=this.ri(o.key,o.newValue)))return[2,this.oi(g)]}else if(o.key===this.Us){if(null!==o.newValue&&(y=this.js(o.newValue)))return[2,this.Ws(y)]}else if(o.key===this.Ms)(b=function(C){var A=li.o;if(null!=C)try{var I=JSON.parse(C);it("number"==typeof I),A=I}catch(O){En("SharedClientState","Failed to read sequence number from WebStorage",O)}return A}(o.newValue))!==li.o&&this.sequenceNumberHandler(b);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(e,t,o){var s=new _F(this.currentUser,e,t,o),u=vF(this.persistenceKey,this.currentUser,e);this.setItem(u,s.Ss())},i.prototype.Hs=function(e){var t=vF(this.persistenceKey,this.currentUser,e);this.removeItem(t)},i.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},i.prototype.Ys=function(e,t,o){var s=YA(this.persistenceKey,e),u=new KA(e,t,o);this.setItem(s,u.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},i.prototype.ni=function(e,t){var o=this.ti(e);return bF.Vs(o,t)},i.prototype.si=function(e,t){var o=this.Bs.exec(e),s=Number(o[1]);return _F.Vs(new ir(void 0!==o[2]?o[2]:null),s,t)},i.prototype.ri=function(e,t){var o=this.qs.exec(e),s=Number(o[1]);return KA.Vs(s,t)},i.prototype.js=function(e){return hL.Vs(e)},i.prototype.ii=function(e){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Te("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},i.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},i.prototype.ei=function(e,t){var o=this,s=t?this.Fs.insert(e,t):this.Fs.remove(e),u=this.Gs(this.Fs),d=this.Gs(s),g=[],y=[];return d.forEach(function(b){u.has(b)||g.push(b)}),u.forEach(function(b){d.has(b)||y.push(b)}),this.syncEngine.hi(g,y).then(function(){o.Fs=s})},i.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},i.prototype.Gs=function(e){var t=gw();return e.forEach(function(o,s){t=t.unionWith(s.activeTargetIds)}),t},i}(),wF=function(){function i(){this.li=new ZA,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(e){},i.prototype.updateMutationState=function(e,t,o){},i.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},i.prototype.updateQueryState=function(e,t,o){this.fi[e]=t},i.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},i.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){delete this.fi[e]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.start=function(){return this.li=new ZA,Promise.resolve()},i.prototype.handleUserChange=function(e,t,o){},i.prototype.setOnlineState=function(e){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(e){},i.prototype.notifyBundleLoaded=function(){},i}(),fL=function(){function i(){}return i.prototype.di=function(e){},i.prototype.shutdown=function(){},i}(),EF=function(){function i(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return i.prototype.di=function(e){this.gi.push(e)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},i.prototype.yi=function(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),pL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},gL=function(){function i(e){this.Ei=e.Ei,this.Ti=e.Ti}return i.prototype.Ii=function(e){this.Ai=e},i.prototype.Ri=function(e){this.bi=e},i.prototype.onMessage=function(e){this.vi=e},i.prototype.close=function(){this.Ti()},i.prototype.send=function(e){this.Ei(e)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(e){this.bi(e)},i.prototype.Si=function(e){this.vi(e)},i}(),mL=function(i){function e(t){var o=this;return(o=i.call(this,t)||this).forceLongPolling=t.forceLongPolling,o.autoDetectLongPolling=t.autoDetectLongPolling,o.useFetchStreams=t.useFetchStreams,o}return(0,T.ZT)(e,i),e.prototype.Fi=function(t,o,s,u){return new Promise(function(d,g){var y=new BO;y.listenOnce(NO.COMPLETE,function(){try{switch(y.getLastErrorCode()){case nw.NO_ERROR:var E=y.getResponseJson();Te("Connection","XHR received:",JSON.stringify(E)),d(E);break;case nw.TIMEOUT:Te("Connection",'RPC "'+t+'" timed out'),g(new ye(ee.DEADLINE_EXCEEDED,"Request time out"));break;case nw.HTTP_ERROR:var C=y.getStatus();if(Te("Connection",'RPC "'+t+'" failed with status:',C,"response text:",y.getResponseText()),C>0){var A=y.getResponseJson().error;if(A&&A.status&&A.message){var I=(V=A.status.toLowerCase().replace(/_/g,"-"),Object.values(ee).indexOf(V)>=0?V:ee.UNKNOWN);g(new ye(I,A.message))}else g(new ye(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ye(ee.UNAVAILABLE,"Connection failed."));break;default:We()}}finally{Te("Connection",'RPC "'+t+'" completed.')}var V});var b=JSON.stringify(u);y.send(o,"POST",b,s,15)})},e.prototype.Oi=function(t,o){var s=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],u=new tw,d=Jl(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new VO({})),this.ki(g.initMessageHeaders,o),(0,At.uI)()||(0,At.b$)()||(0,At.d)()||(0,At.w1)()||(0,At.Mn)()||(0,At.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");var y=s.join("");Te("Connection","Creating WebChannel: "+y,g);var b=u.createWebChannel(y,g),E=!1,C=!1,A=new gL({Ei:function(O){C?Te("Connection","Not sending because WebChannel is closed:",O):(E||(Te("Connection","Opening WebChannel transport."),b.open(),E=!0),Te("Connection","WebChannel sending:",O),b.send(O))},Ti:function(){return b.close()}}),I=function(O,V,W){O.listen(V,function(ie){try{W(ie)}catch(ge){setTimeout(function(){throw ge},0)}})};return I(b,cm.EventType.OPEN,function(){C||Te("Connection","WebChannel transport opened.")}),I(b,cm.EventType.CLOSE,function(){C||(C=!0,Te("Connection","WebChannel transport closed"),A.Vi())}),I(b,cm.EventType.ERROR,function(O){C||(C=!0,dm("Connection","WebChannel transport errored:",O),A.Vi(new ye(ee.UNAVAILABLE,"The operation could not be completed")))}),I(b,cm.EventType.MESSAGE,function(O){var V;if(!C){var W=O.data[0];it(!!W);var ge=W.error||(null===(V=W[0])||void 0===V?void 0:V.error);if(ge){Te("Connection","WebChannel received error:",ge);var me=ge.status,ke=function(ht){var xt=Dn[ht];if(void 0!==xt)return _R(xt)}(me),Ve=ge.message;void 0===ke&&(ke=ee.INTERNAL,Ve="Unknown error status: "+me+" with message "+ge.message),C=!0,A.Vi(new ye(ke,Ve)),b.close()}else Te("Connection","WebChannel received:",W),A.Si(W)}}),I(d,LO.STAT_EVENT,function(O){O.stat===bA_PROXY?Te("Connection","Detected buffering proxy"):O.stat===bA_NOPROXY&&Te("Connection","Detected no buffering proxy")}),setTimeout(function(){A.Pi()},0),A},e}(function(){function i(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(e,t,o,s){var u=this.xi(e,t);Te("RestConnection","Sending: ",u,o);var d={};return this.ki(d,s),this.Fi(e,u,d,o).then(function(g){return Te("RestConnection","Received: ",g),g},function(g){throw dm("RestConnection",e+" failed with error: ",g,"url: ",u,"request:",o),g})},i.prototype.$i=function(e,t,o,s){return this.Ni(e,t,o,s)},i.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var o in t.authHeaders)t.authHeaders.hasOwnProperty(o)&&(e[o]=t.authHeaders[o])},i.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+pL[e]},i}());function CF(){return"undefined"!=typeof window?window:null}function Sw(){return"undefined"!=typeof document?document:null}function Mm(i){return new wN(i,!0)}var JA=function(){function i(e,t,o,s,u){void 0===o&&(o=1e3),void 0===s&&(s=1.5),void 0===u&&(u=6e4),this.Se=e,this.timerId=t,this.Mi=o,this.Li=s,this.Bi=u,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(e){var t=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),s=Math.max(0,Date.now()-this.Ki),u=Math.max(0,o-s);u>0&&Te("ExponentialBackoff","Backing off for "+u+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+s+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,u,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),DF=function(){function i(e,t,o,s,u,d){this.Se=e,this.zi=o,this.Hi=s,this.Ji=u,this.listener=d,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new JA(e,t)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},i.prototype.cr=function(e){this.ur(),this.stream.send(e)},i.prototype.rr=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(e,t){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(En(t.toString()),En("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===ee.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(s){e.Yi===o&&e.lr(s)},function(s){t(function(){var u=new ye(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return e.dr(u)})})},i.prototype.lr=function(e){var t=this,o=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){o(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(s){o(function(){return t.dr(s)})}),this.stream.onMessage(function(s){o(function(){return t.onMessage(s)})})},i.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,T.mG)(e,void 0,void 0,function(){return(0,T.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(e){return Te("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},i.prototype.hr=function(e){var t=this;return function(o){t.Se.enqueueAndForget(function(){return t.Yi===e?o():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),yL=function(i){function e(t,o,s,u,d){var g=this;return(g=i.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",o,s,d)||this).R=u,g}return(0,T.ZT)(e,i),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var o=function(u,d){var g,W;if("targetChange"in d){var y="NO_CHANGE"===(W=d.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===W?1:"REMOVE"===W?2:"CURRENT"===W?3:"RESET"===W?4:We(),b=d.targetChange.targetIds||[],E=function(W,ie){return W.I?(it(void 0===ie||"string"==typeof ie),Or.fromBase64String(ie||"")):(it(void 0===ie||ie instanceof Uint8Array),Or.fromUint8Array(ie||new Uint8Array))}(u,d.targetChange.resumeToken),C=(A=d.targetChange.cause)&&function(W){var ie=void 0===W.code?ee.UNKNOWN:_R(W.code);return new ye(ie,W.message||"")}(A);g=new CR(y,b,E,C||null)}else if("documentChange"in d){b=Eo(u,(y=d.documentChange).document.name),E=Gn(y.document.updateTime);var A=new ui({mapValue:{fields:y.document.fields}}),I=(C=nr.newFoundDocument(b,E,A),y.targetIds||[]);g=new mw(I,y.removedTargetIds||[],C.key,C)}else if("documentDelete"in d)b=Eo(u,(y=d.documentDelete).document),E=y.readTime?Gn(y.readTime):vt.min(),A=nr.newNoDocument(b,E),g=new mw([],C=y.removedTargetIds||[],A.key,A);else if("documentRemove"in d)b=Eo(u,(y=d.documentRemove).document),g=new mw([],E=y.removedTargetIds||[],b,null);else{if(!("filter"in d))return We();var V=d.filter;b=new hN(y=V.count||0),g=new ER(E=V.targetId,b)}return g}(this.R,t),s=function(u){if(!("targetChange"in u))return vt.min();var d=u.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Gn(d.readTime):vt.min()}(t);return this.listener._r(o,s)},e.prototype.mr=function(t){var u,d,g,y,o={};o.database=Dm(this.R),o.addTarget=(u=this.R,(g=aw(y=(d=t).target)?{documents:PR(u,y)}:{query:kR(u,y)}).targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=TR(u,d.resumeToken):d.snapshotVersion.compareTo(vt.min())>0&&(g.readTime=Em(u,d.snapshotVersion.toTimestamp())),g);var s=function(u,d){var g=function(y,b){switch(b){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return We()}}(0,d.purpose);return null==g?null:{"goog-listen-tags":g}}(0,t);s&&(o.labels=s),this.cr(o)},e.prototype.yr=function(t){var o={};o.database=Dm(this.R),o.removeTarget=t,this.cr(o)},e}(DF),vL=function(i){function e(t,o,s,u,d){var g=this;return(g=i.call(this,t,"write_stream_connection_backoff","write_stream_idle",o,s,d)||this).R=u,g.gr=!1,g}return(0,T.ZT)(e,i),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(it(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var o=(d=t.commitTime,(u=t.writeResults)&&u.length>0?(it(void 0!==d),u.map(function(g){return b=d,(E=Gn((y=g).updateTime?y.updateTime:b)).isEqual(vt.min())&&(E=Gn(b)),new uN(E,y.transformResults||[]);var y,b,E})):[]),s=Gn(t.commitTime);return this.listener.Tr(s,o)}var u,d;return it(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Dm(this.R),this.cr(t)},e.prototype.Er=function(t){var o=this,s={streamToken:this.lastStreamToken,writes:t.map(function(u){return yw(o.R,u)})};this.cr(s)},e}(DF),_L=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).credentials=t,u.Hi=o,u.R=s,u.Rr=!1,u}return(0,T.ZT)(e,i),e.prototype.br=function(){if(this.Rr)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,o,s){var u=this;return this.br(),this.credentials.getToken().then(function(d){return u.Hi.Ni(t,o,s,d)}).catch(function(d){throw"FirebaseError"===d.name?(d.code===ee.UNAUTHENTICATED&&u.credentials.invalidateToken(),d):new ye(ee.UNKNOWN,d.toString())})},e.prototype.$i=function(t,o,s){var u=this;return this.br(),this.credentials.getToken().then(function(d){return u.Hi.$i(t,o,s,d)}).catch(function(d){throw"FirebaseError"===d.name?(d.code===ee.UNAUTHENTICATED&&u.credentials.invalidateToken(),d):new ye(ee.UNKNOWN,d.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),bL=function(){function i(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},i.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},i.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},i.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(En(t),this.Vr=!1):Te("OnlineStateTracker",t)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),wL=function(i,e,t,o,s){var u=this;this.localStore=i,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=s,this.Lr.di(function(d){t.enqueueAndForget(function(){return(0,T.mG)(u,void 0,void 0,function(){return(0,T.Jh)(this,function(g){switch(g.label){case 0:return Pa(this)?(Te("RemoteStore","Restarting streams for network reachability change."),[4,function(y){return(0,T.mG)(this,void 0,void 0,function(){var b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:return(b=Re(y)).Or.add(4),[4,bh(b)];case 1:return E.sent(),b.Br.set("Unknown"),b.Or.delete(4),[4,Im(b)];case 2:return E.sent(),[2]}})})}(this)]):[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})}),this.Br=new bL(t,o)};function Im(i){return(0,T.mG)(this,void 0,void 0,function(){var e,t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:if(!Pa(i))return[3,4];e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function bh(i){return(0,T.mG)(this,void 0,void 0,function(){var e,t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Aw(i,e){var t=Re(i);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),tT(t)?eT(t):Eh(t).er()&&XA(t,e))}function xm(i,e){var t=Re(i),o=Eh(t);t.$r.delete(e),o.er()&&SF(t,e),0===t.$r.size&&(o.er()?o.ir():Pa(t)&&t.Br.set("Unknown"))}function XA(i,e){i.qr.U(e.targetId),Eh(i).mr(e)}function SF(i,e){i.qr.U(e),Eh(i).yr(e)}function eT(i){i.qr=new vN({getRemoteKeysForTarget:function(e){return i.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return i.$r.get(e)||null}}),Eh(i).start(),i.Br.Sr()}function tT(i){return Pa(i)&&!Eh(i).tr()&&i.$r.size>0}function Pa(i){return 0===Re(i).Or.size}function AF(i){i.qr=void 0}function EL(i){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){return i.$r.forEach(function(t,o){XA(i,t)}),[2]})})}function CL(i,e){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(t){return AF(i),tT(i)?(i.Br.Nr(e),eT(i)):i.Br.set("Unknown"),[2]})})}function DL(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:if(i.Br.set("Online"),!(e instanceof CR&&2===e.state&&e.cause))return[3,6];d.label=1;case 1:return d.trys.push([1,3,,5]),[4,function(g,y){return(0,T.mG)(this,void 0,void 0,function(){var b,E,C,A;return(0,T.Jh)(this,function(I){switch(I.label){case 0:b=y.cause,E=0,C=y.targetIds,I.label=1;case 1:return E<C.length?g.$r.has(A=C[E])?[4,g.remoteSyncer.rejectListen(A,b)]:[3,3]:[3,5];case 2:I.sent(),g.$r.delete(A),g.qr.removeTarget(A),I.label=3;case 3:I.label=4;case 4:return E++,[3,1];case 5:return[2]}})})}(i,e)];case 2:return d.sent(),[3,5];case 3:return o=d.sent(),Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),[4,Tw(i,o)];case 4:return d.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof mw?i.qr.X(e):e instanceof ER?i.qr.rt(e):i.qr.et(e),t.isEqual(vt.min()))return[3,13];d.label=7;case 7:return d.trys.push([7,11,,13]),[4,fF(i.localStore)];case 8:return s=d.sent(),t.compareTo(s)>=0?[4,(g=i,y=t,b=g.qr.ut(y),b.targetChanges.forEach(function(E,C){if(E.resumeToken.approximateByteSize()>0){var A=g.$r.get(C);A&&g.$r.set(C,A.withResumeToken(E.resumeToken,y))}}),b.targetMismatches.forEach(function(E){var C=g.$r.get(E);if(C){g.$r.set(E,C.withResumeToken(Or.EMPTY_BYTE_STRING,C.snapshotVersion)),SF(g,E);var A=new vw(C.target,E,1,C.sequenceNumber);XA(g,A)}}),g.remoteSyncer.applyRemoteEvent(b))]:[3,10];case 9:d.sent(),d.label=10;case 10:return[3,13];case 11:return Te("RemoteStore","Failed to raise snapshot:",u=d.sent()),[4,Tw(i,u)];case 12:return d.sent(),[3,13];case 13:return[2]}var g,y,b})})}function Tw(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o=this;return(0,T.Jh)(this,function(s){switch(s.label){case 0:if(!lu(e))throw e;return i.Or.add(1),[4,bh(i)];case 1:return s.sent(),i.Br.set("Offline"),t||(t=function(){return fF(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(o,void 0,void 0,function(){return(0,T.Jh)(this,function(u){switch(u.label){case 0:return Te("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return u.sent(),i.Or.delete(1),[4,Im(i)];case 2:return u.sent(),[2]}})})}),[2]}})})}function TF(i,e){return e().catch(function(t){return Tw(i,t,e)})}function wh(i){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o,s,u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:e=Re(i),t=ka(e),o=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,d.label=1;case 1:if(!(Pa(g=e)&&g.Fr.length<10))return[3,7];d.label=2;case 2:return d.trys.push([2,4,,6]),[4,eL(e.localStore,o)];case 3:return null===(s=d.sent())?(0===e.Fr.length&&t.ir(),[3,7]):(o=s.batchId,function(g,y){g.Fr.push(y);var b=ka(g);b.er()&&b.pr&&b.Er(y.mutations)}(e,s),[3,6]);case 4:return u=d.sent(),[4,Tw(e,u)];case 5:return d.sent(),[3,6];case 6:return[3,1];case 7:return MF(e)&&IF(e),[2]}var g})})}function MF(i){return Pa(i)&&!ka(i).tr()&&i.Fr.length>0}function IF(i){ka(i).start()}function SL(i){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){return ka(i).Ar(),[2]})})}function AL(i){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o;return(0,T.Jh)(this,function(u){for(e=ka(i),t=0,o=i.Fr;t<o.length;t++)e.Er(o[t].mutations);return[2]})})}function TL(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return o=i.Fr.shift(),s=kN.from(o,e,t),[4,TF(i,function(){return i.remoteSyncer.applySuccessfulWrite(s)})];case 1:return u.sent(),[4,wh(i)];case 2:return u.sent(),[2]}})})}function ML(i,e){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(t){switch(t.label){case 0:return e&&ka(i).pr?[4,function(o,s){return(0,T.mG)(this,void 0,void 0,function(){var u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return vR(d=s.code)&&d!==ee.ABORTED?(u=o.Fr.shift(),ka(o).sr(),[4,TF(o,function(){return o.remoteSyncer.rejectFailedWrite(u.batchId,s)})]):[3,3];case 1:return g.sent(),[4,wh(o)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}(i,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return MF(i)&&IF(i),[2]}})})}function nT(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return t=Re(i),e?(t.Or.delete(2),[4,Im(t)]):[3,2];case 1:return o.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,bh(t)]);case 3:o.sent(),t.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Eh(i){var t,o,s,u,e=this;return i.Ur||(i.Ur=(t=i.datastore,o=i.asyncQueue,s={Ii:EL.bind(null,i),Ri:CL.bind(null,i),_r:DL.bind(null,i)},(u=Re(t)).br(),new yL(o,u.Hi,u.credentials,u.R,s)),i.Mr.push(function(t){return(0,T.mG)(e,void 0,void 0,function(){return(0,T.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Ur.sr(),tT(i)?eT(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),AF(i),o.label=3;case 3:return[2]}})})})),i.Ur}function ka(i){var t,o,s,u,e=this;return i.Kr||(i.Kr=(t=i.datastore,o=i.asyncQueue,s={Ii:SL.bind(null,i),Ri:ML.bind(null,i),Ir:AL.bind(null,i),Tr:TL.bind(null,i)},(u=Re(t)).br(),new vL(o,u.Hi,u.credentials,u.R,s)),i.Mr.push(function(t){return(0,T.mG)(e,void 0,void 0,function(){return(0,T.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Kr.sr(),[4,wh(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(Te("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var IL=function(){function i(e,t,o,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=u,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(d){})}return i.createAndSchedule=function(e,t,o,s,u){var d=new i(e,t,Date.now()+o,s,u);return d.start(o),d},i.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},i.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Ch(i,e){if(En("AsyncQueue",e+": "+i),lu(i))return new ye(ee.UNAVAILABLE,e+": "+i);throw i}var xF=function(){function i(e){this.comparator=e?function(t,o){return e(t,o)||Ze.comparator(t.key,o.key)}:function(t,o){return Ze.comparator(t.key,o.key)},this.keyedMap=PA(),this.sortedSet=new vr(this.comparator)}return i.emptySet=function(e){return new i(e.comparator)},i.prototype.has=function(e){return null!=this.keyedMap.get(e)},i.prototype.get=function(e){return this.keyedMap.get(e)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},i.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();t.hasNext();){var s=t.getNext().key,u=o.getNext().key;if(!s.isEqual(u))return!1}return!0},i.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},i.prototype.copy=function(e,t){var o=new i;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o},i}(),OF=function(){function i(){this.Qr=new vr(Ze.comparator)}return i.prototype.track=function(e){var t=e.doc.key,o=this.Qr.get(t);o?0!==e.type&&3===o.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==o.type?this.Qr=this.Qr.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Qr=this.Qr.remove(t):1===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):We():this.Qr=this.Qr.insert(t,e)},i.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,o){e.push(o)}),e},i}(),Mw=function(){function i(e,t,o,s,u,d,g,y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y}return i.fromInitialDocuments=function(e,t,o,s){var u=[];return t.forEach(function(d){u.push({type:0,doc:d})}),new i(e,t,xF.emptySet(t),u,o,s,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(var s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0},i}(),xL=function(){this.Wr=void 0,this.listeners=[]},OL=function(){this.queries=new yh(function(i){return rR(i)},ym),this.onlineState="Unknown",this.Gr=new Set};function rT(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s,u,d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:if(t=Re(i),s=!1,(u=t.queries.get(o=e.query))||(s=!0,u=new xL),!s)return[3,4];b.label=1;case 1:return b.trys.push([1,3,,4]),d=u,[4,t.onListen(o)];case 2:return d.Wr=b.sent(),[3,4];case 3:return g=b.sent(),y=Ch(g,"Initialization of query '"+OA(e.query)+"' failed"),[2,void e.onError(y)];case 4:return t.queries.set(o,u),u.listeners.push(e),e.zr(t.onlineState),u.Wr&&e.Hr(u.Wr)&&oT(t),[2]}})})}function iT(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s,u,d;return(0,T.Jh)(this,function(g){return t=Re(i),s=!1,(u=t.queries.get(o=e.query))&&(d=u.listeners.indexOf(e))>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length),s?[2,(t.queries.delete(o),t.onUnlisten(o))]:[2]})})}function RL(i,e){for(var t=Re(i),o=!1,s=0,u=e;s<u.length;s++){var d=u[s],y=t.queries.get(d.query);if(y){for(var b=0,E=y.listeners;b<E.length;b++)E[b].Hr(d)&&(o=!0);y.Wr=d}}o&&oT(t)}function FL(i,e,t){var o=Re(i),s=o.queries.get(e);if(s)for(var u=0,d=s.listeners;u<d.length;u++)d[u].onError(t);o.queries.delete(e)}function oT(i){i.Gr.forEach(function(e){e.next()})}var sT=function(){function i(e,t,o){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],o=0,s=e.docChanges;o<s.length;o++){var u=s[o];3!==u.type&&t.push(u)}e=new Mw(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var d=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),d=!0):this.eo(e,this.onlineState)&&(this.no(e),d=!0),this.Xr=e,d},i.prototype.onError=function(e){this.Jr.error(e)},i.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},i.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},i.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(e){e=Mw.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},i}(),PL=function(){function i(e,t){this.payload=e,this.byteLength=t}return i.prototype.io=function(){return"metadata"in this.payload},i}(),RF=function(){function i(e){this.R=e}return i.prototype.qn=function(e){return Eo(this.R,e)},i.prototype.Un=function(e){return e.metadata.exists?RR(this.R,e.document,!1):nr.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},i.prototype.Kn=function(e){return Gn(e)},i}();!function(){function i(e,t,o){this.ro=e,this.localStore=t,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(e)}i.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},i.prototype.co=function(e){for(var t=new Map,o=new RF(this.R),s=0,u=e;s<u.length;s++){var d=u[s];if(d.metadata.queries)for(var g=o.qn(d.metadata.name),y=0,b=d.metadata.queries;y<b.length;y++){var E=b[y],C=(t.get(E)||Nt()).add(g);t.set(E,C)}}return t},i.prototype.complete=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o,s,u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return[4,nL(this.localStore,new RF(this.R),this.documents,this.ro.id)];case 1:e=d.sent(),t=this.co(this.documents),o=0,s=this.queries,d.label=2;case 2:return o<s.length?[4,rL(this.localStore,u=s[o],t.get(u.name))]:[3,5];case 3:d.sent(),d.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new KN(Object.assign({},this.progress),e))]}})})}}();var PF=function(i){this.key=i},kF=function(i){this.key=i},NF=function(){function i(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Nt(),this.mutatedKeys=Nt(),this.lo=iR(e),this.fo=new xF(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(e,t){var o=this,s=t?t.mo:new OF,u=t?t.fo:this.fo,d=t?t.mutatedKeys:this.mutatedKeys,g=u,y=!1,b=uw(this.query)&&u.size===this.query.limit?u.last():null,E=cw(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal(function(A,I){var O=u.get(A),V=vm(o.query,I)?I:null,W=!!O&&o.mutatedKeys.has(O.key),ie=!!V&&(V.hasLocalMutations||o.mutatedKeys.has(V.key)&&V.hasCommittedMutations),ge=!1;O&&V?O.data.isEqual(V.data)?W!==ie&&(s.track({type:3,doc:V}),ge=!0):o.yo(O,V)||(s.track({type:2,doc:V}),ge=!0,(b&&o.lo(V,b)>0||E&&o.lo(V,E)<0)&&(y=!0)):!O&&V?(s.track({type:0,doc:V}),ge=!0):O&&!V&&(s.track({type:1,doc:O}),ge=!0,(b||E)&&(y=!0)),ge&&(V?(g=g.add(V),d=ie?d.add(A):d.delete(A)):(g=g.delete(A),d=d.delete(A)))}),uw(this.query)||cw(this.query))for(;g.size>this.query.limit;){var C=uw(this.query)?g.last():g.first();g=g.delete(C.key),d=d.delete(C.key),s.track({type:1,doc:C})}return{fo:g,mo:s,Nn:y,mutatedKeys:d}},i.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},i.prototype.applyChanges=function(e,t,o){var s=this,u=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var d=e.mo.jr();d.sort(function(E,C){return I=C.type,(O=function(V){switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return We()}})(E.type)-O(I)||s.lo(E.doc,C.doc);var I,O}),this.po(o);var g=t?this.Eo():[],y=0===this.ho.size&&this.current?1:0,b=y!==this.ao;return this.ao=y,0!==d.length||b?{snapshot:new Mw(this.query,e.fo,u,d,e.mutatedKeys,0===y,b,!1),To:g}:{To:g}},i.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new OF,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},i.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(o){return t.uo=t.uo.add(o)}),e.modifiedDocuments.forEach(function(o){}),e.removedDocuments.forEach(function(o){return t.uo=t.uo.delete(o)}),this.current=e.current)},i.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Nt(),this.fo.forEach(function(s){e.Io(s.key)&&(e.ho=e.ho.add(s.key))});var o=[];return t.forEach(function(s){e.ho.has(s)||o.push(new kF(s))}),this.ho.forEach(function(s){t.has(s)||o.push(new PF(s))}),o},i.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Nt();var t=this._o(e.documents);return this.applyChanges(t,!0)},i.prototype.Ro=function(){return Mw.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),NL=function(i,e,t){this.query=i,this.targetId=e,this.view=t},LL=function(i){this.key=i,this.bo=!1},VL=function(){function i(e,t,o,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.vo={},this.Po=new yh(function(g){return rR(g)},ym),this.Vo=new Map,this.So=new Set,this.Do=new vr(Ze.comparator),this.Co=new Map,this.No=new WA,this.xo={},this.ko=new Map,this.Fo=bw.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function BL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,s,u,d,g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return t=hT(i),(u=t.Po.get(e))?(t.sharedClientState.addLocalQueryTarget(u.targetId),s=u.view.Ro(),[3,4]):[3,1];case 1:return[4,vh(t.localStore,Ii(e))];case 2:return d=y.sent(),g=t.sharedClientState.addLocalQueryTarget(d.targetId),[4,aT(t,e,d.targetId,"current"===g)];case 3:s=y.sent(),t.isPrimaryClient&&Aw(t.remoteStore,d),y.label=4;case 4:return[2,s]}})})}function aT(i,e,t,o){return(0,T.mG)(this,void 0,void 0,function(){var s,u,d,g,y,b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:return i.Oo=function(C,A,I){return function(O,V,W,ie){return(0,T.mG)(this,void 0,void 0,function(){var ge,me,ke;return(0,T.Jh)(this,function(Ve){switch(Ve.label){case 0:return(ge=V.view._o(W)).Nn?[4,Dw(O.localStore,V.query,!1).then(function(ht){return V.view._o(ht.documents,ge)})]:[3,2];case 1:ge=Ve.sent(),Ve.label=2;case 2:return me=ie&&ie.targetChanges.get(V.targetId),ke=V.view.applyChanges(ge,O.isPrimaryClient,me),[2,(cT(O,V.targetId,ke.To),ke.snapshot)]}})})}(i,C,A,I)},[4,Dw(i.localStore,e,!0)];case 1:return s=E.sent(),u=new NF(e,s.Bn),d=u._o(s.documents),g=NA.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),y=u.applyChanges(d,i.isPrimaryClient,g),cT(i,t,y.To),b=new NL(e,t,u),[2,(i.Po.set(e,b),i.Vo.has(t)?i.Vo.get(t).push(e):i.Vo.set(t,[e]),y.snapshot)]}})})}function UL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return t=Re(i),o=t.Po.get(e),(s=t.Vo.get(o.targetId)).length>1?[2,(t.Vo.set(o.targetId,s.filter(function(d){return!ym(d,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,_h(t.localStore,o.targetId,!1).then(function(){t.sharedClientState.clearQueryState(o.targetId),xm(t.remoteStore,o.targetId),Dh(t,o.targetId)}).catch(cu)]):[3,3];case 1:u.sent(),u.label=2;case 2:return[3,5];case 3:return Dh(t,o.targetId),[4,_h(t.localStore,o.targetId,!0)];case 4:u.sent(),u.label=5;case 5:return[2]}})})}function jL(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:o=fT(i),g.label=1;case 1:return g.trys.push([1,5,,6]),[4,(y=o.localStore,b=e,C=Re(y),A=$r.now(),I=b.reduce(function(O,V){return O.add(V.key)},Nt()),C.persistence.runTransaction("Locally write mutations","readwrite",function(O){return C.Mn.pn(O,I).next(function(V){E=V;for(var W=[],ie=0,ge=b;ie<ge.length;ie++){var me=ge[ie],ke=dN(me,E.get(me.key));null!=ke&&W.push(new Ma(me.key,ke,ZO(ke.value.mapValue),yr.exists(!0)))}return C._n.addMutationBatch(O,A,W,b)})}).then(function(O){return O.applyToLocalDocumentSet(E),{batchId:O.batchId,changes:E}}))];case 2:return s=g.sent(),o.sharedClientState.addPendingMutation(s.batchId),function(y,b,E){var C=y.xo[y.currentUser.toKey()];C||(C=new vr(Ct)),C=C.insert(b,E),y.xo[y.currentUser.toKey()]=C}(o,s.batchId,t),[4,vs(o,s.changes)];case 3:return g.sent(),[4,wh(o.remoteStore)];case 4:return g.sent(),[3,6];case 5:return u=g.sent(),d=Ch(u,"Failed to persist write"),t.reject(d),[3,6];case 6:return[2]}var y,b,E,C,A,I})})}function LF(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o;return(0,T.Jh)(this,function(s){switch(s.label){case 0:t=Re(i),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,XN(t.localStore,e)];case 2:return o=s.sent(),e.targetChanges.forEach(function(u,d){var g=t.Co.get(d);g&&(it(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?g.bo=!0:u.modifiedDocuments.size>0?it(g.bo):u.removedDocuments.size>0&&(it(g.bo),g.bo=!1))}),[4,vs(t,o,e)];case 3:return s.sent(),[3,6];case 4:return[4,cu(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function VF(i,e,t){var o=Re(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){var s=[];o.Po.forEach(function(u,d){var g=d.view.zr(e);g.snapshot&&s.push(g.snapshot)}),function(u,d){var g=Re(u);g.onlineState=d;var y=!1;g.queries.forEach(function(b,E){for(var C=0,A=E.listeners;C<A.length;C++)A[C].zr(d)&&(y=!0)}),y&&oT(g)}(o.eventManager,e),s.length&&o.vo._r(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function HL(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return(o=Re(i)).sharedClientState.updateQueryState(e,"rejected",t),s=o.Co.get(e),(u=s&&s.key)?(d=(d=new vr(Ze.comparator)).insert(u,nr.newNoDocument(u,vt.min())),g=Nt().add(u),y=new kA(vt.min(),new Map,new Rn(Ct),d,g),[4,LF(o,y)]):[3,2];case 1:return b.sent(),o.Do=o.Do.remove(u),o.Co.delete(e),dT(o),[3,4];case 2:return[4,_h(o.localStore,e,!1).then(function(){return Dh(o,e,t)}).catch(cu)];case 3:b.sent(),b.label=4;case 4:return[2]}})})}function GL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:t=Re(i),o=e.batch.batchId,u.label=1;case 1:return u.trys.push([1,4,,6]),[4,JN(t.localStore,e)];case 2:return s=u.sent(),uT(t,o,null),lT(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),[4,vs(t,s)];case 3:return u.sent(),[3,6];case 4:return[4,cu(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function zL(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:o=Re(i),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,(d=o.localStore,g=e,y=Re(d),y.persistence.runTransaction("Reject batch","readwrite-primary",function(b){var E;return y._n.lookupMutationBatch(b,g).next(function(C){return it(null!==C),E=C.keys(),y._n.removeMutationBatch(b,C)}).next(function(){return y._n.performConsistencyCheck(b)}).next(function(){return y.Mn.pn(b,E)})}))];case 2:return s=u.sent(),uT(o,e,t),lT(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),[4,vs(o,s)];case 3:return u.sent(),[3,6];case 4:return[4,cu(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}var d,g,y})})}function qL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s,u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:Pa((t=Re(i)).remoteStore)||Te("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(y=t.localStore,b=Re(y),b.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(E){return b._n.getHighestUnacknowledgedBatchId(E)}))];case 2:return-1===(o=g.sent())?[2,void e.resolve()]:((s=t.ko.get(o)||[]).push(e),t.ko.set(o,s),[3,4]);case 3:return u=g.sent(),d=Ch(u,"Initialization of waitForPendingWrites() operation failed"),e.reject(d),[3,4];case 4:return[2]}var y,b})})}function lT(i,e){(i.ko.get(e)||[]).forEach(function(t){t.resolve()}),i.ko.delete(e)}function uT(i,e,t){var o=Re(i),s=o.xo[o.currentUser.toKey()];if(s){var u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),o.xo[o.currentUser.toKey()]=s}}function Dh(i,e,t){void 0===t&&(t=null),i.sharedClientState.removeLocalQueryTarget(e);for(var o=0,s=i.Vo.get(e);o<s.length;o++){var u=s[o];i.Po.delete(u),t&&i.vo.Mo(u,t)}i.Vo.delete(e),i.isPrimaryClient&&i.No.Zn(e).forEach(function(d){i.No.containsKey(d)||BF(i,d)})}function BF(i,e){i.So.delete(e.path.canonicalString());var t=i.Do.get(e);null!==t&&(xm(i.remoteStore,t),i.Do=i.Do.remove(e),i.Co.delete(t),dT(i))}function cT(i,e,t){for(var o=0,s=t;o<s.length;o++){var u=s[o];u instanceof PF?(i.No.addReference(u.key,e),$L(i,u)):u instanceof kF?(Te("SyncEngine","Document no longer in limbo: "+u.key),i.No.removeReference(u.key,e),i.No.containsKey(u.key)||BF(i,u.key)):We()}}function $L(i,e){var t=e.key,o=t.path.canonicalString();i.Do.get(t)||i.So.has(o)||(Te("SyncEngine","New document in limbo: "+t),i.So.add(o),dT(i))}function dT(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var e=i.So.values().next().value;i.So.delete(e);var t=new Ze(Ft.fromString(e)),o=i.Fo.next();i.Co.set(o,new LL(t)),i.Do=i.Do.insert(t,o),Aw(i.remoteStore,new vw(Ii(rh(t.path)),o,2,li.o))}}function vs(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return o=Re(i),s=[],u=[],d=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(y,b){d.push(o.Oo(b,e,t).then(function(E){if(E){o.isPrimaryClient&&o.sharedClientState.updateQueryState(b.targetId,E.fromCache?"not-current":"current"),s.push(E);var C=ZN.Pn(b.targetId,E);u.push(C)}}))}),[4,Promise.all(d)]);case 1:return g.sent(),o.vo._r(s),[4,function(y,b){return(0,T.mG)(this,void 0,void 0,function(){var E,C,A,I,O,V,W,ge;return(0,T.Jh)(this,function(me){switch(me.label){case 0:E=Re(y),me.label=1;case 1:return me.trys.push([1,3,,4]),[4,E.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(ke){return Ce.forEach(b,function(Ve){return Ce.forEach(Ve.bn,function(ht){return E.persistence.referenceDelegate.addReference(ke,Ve.targetId,ht)}).next(function(){return Ce.forEach(Ve.vn,function(ht){return E.persistence.referenceDelegate.removeReference(ke,Ve.targetId,ht)})})})})];case 2:return me.sent(),[3,4];case 3:if(!lu(C=me.sent()))throw C;return Te("LocalStore","Failed to update sequence numbers: "+C),[3,4];case 4:for(A=0,I=b;A<I.length;A++)V=(O=I[A]).targetId,O.fromCache||(W=E.kn.get(V),ge=W.withLastLimboFreeSnapshotVersion(W.snapshotVersion),E.kn=E.kn.insert(V,ge));return[2]}})})}(o.localStore,u)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}function WL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o;return(0,T.Jh)(this,function(s){switch(s.label){case 0:return(t=Re(i)).currentUser.isEqual(e)?[3,3]:(Te("SyncEngine","User change. New user:",e.toKey()),[4,hF(t.localStore,e)]);case 1:return o=s.sent(),t.currentUser=e,(u=t).ko.forEach(function(g){g.forEach(function(y){y.reject(new ye(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ko.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),[4,vs(t,o.Ln)];case 2:s.sent(),s.label=3;case 3:return[2]}var u})})}function YL(i,e){var t=Re(i),o=t.Co.get(e);if(o&&o.bo)return Nt().add(o.key);var s=Nt(),u=t.Vo.get(e);if(!u)return s;for(var d=0,g=u;d<g.length;d++){var b=t.Po.get(g[d]);s=s.unionWith(b.view.wo)}return s}function KL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,Dw((t=Re(i)).localStore,e.query,!0)];case 1:return o=u.sent(),s=e.view.Ao(o),[2,(t.isPrimaryClient&&cT(t,e.targetId,s.To),s)]}})})}function ZL(i){return(0,T.mG)(this,void 0,void 0,function(){var e;return(0,T.Jh)(this,function(t){return[2,mF((e=Re(i)).localStore).then(function(o){return vs(e,o)})]})})}function QL(i,e,t,o){return(0,T.mG)(this,void 0,void 0,function(){var s,u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return[4,(g=(s=Re(i)).localStore,y=e,b=Re(g),E=Re(b._n),b.persistence.runTransaction("Lookup mutation documents","readonly",function(C){return E.jt(C,y).next(function(A){return A?b.Mn.pn(C,A):Ce.resolve(null)})}))];case 1:return null===(u=d.sent())?[3,6]:"pending"!==t?[3,3]:[4,wh(s.remoteStore)];case 2:return d.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(uT(s,e,o||null),lT(s,e),function(g,y){Re(Re(g)._n).Gt(y)}(s.localStore,e)):We(),d.label=4;case 4:return[4,vs(s,u)];case 5:return d.sent(),[3,7];case 6:Te("SyncEngine","Cannot apply mutation batch with id: "+e),d.label=7;case 7:return[2]}var g,y,b,E})})}function JL(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s,u,d,y,b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:return hT(t=Re(i)),fT(t),!0!==e||!0===t.$o?[3,3]:(o=t.sharedClientState.getAllActiveQueryTargets(),[4,UF(t,o.toArray())]);case 1:return s=E.sent(),t.$o=!0,[4,nT(t.remoteStore,!0)];case 2:for(E.sent(),u=0,d=s;u<d.length;u++)Aw(t.remoteStore,d[u]);return[3,7];case 3:return!1!==e||!1===t.$o?[3,7]:(y=[],b=Promise.resolve(),t.Vo.forEach(function(C,A){t.sharedClientState.isLocalQueryTarget(A)?y.push(A):b=b.then(function(){return Dh(t,A),_h(t.localStore,A,!0)}),xm(t.remoteStore,A)}),[4,b]);case 4:return E.sent(),[4,UF(t,y)];case 5:return E.sent(),(A=Re(t)).Co.forEach(function(I,O){xm(A.remoteStore,O)}),A.No.ts(),A.Co=new Map,A.Do=new vr(Ze.comparator),t.$o=!1,[4,nT(t.remoteStore,!1)];case 6:E.sent(),E.label=7;case 7:return[2]}var A})})}function UF(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d,g,y,b,E,C,A,O,V,W;return(0,T.Jh)(this,function(ie){switch(ie.label){case 0:o=Re(i),s=[],u=[],d=0,g=e,ie.label=1;case 1:return d<g.length?(b=void 0,(E=o.Vo.get(y=g[d]))&&0!==E.length?[4,vh(o.localStore,Ii(E[0]))]:[3,7]):[3,13];case 2:b=ie.sent(),C=0,A=E,ie.label=3;case 3:return C<A.length?(O=o.Po.get(A[C]),[4,KL(o,O)]):[3,6];case 4:(V=ie.sent()).snapshot&&u.push(V.snapshot),ie.label=5;case 5:return C++,[3,3];case 6:return[3,11];case 7:return[4,gF(o.localStore,y)];case 8:return W=ie.sent(),[4,vh(o.localStore,W)];case 9:return b=ie.sent(),[4,aT(o,jF(W),y,!1)];case 10:ie.sent(),ie.label=11;case 11:s.push(b),ie.label=12;case 12:return d++,[3,1];case 13:return[2,(o.vo._r(u),s)]}})})}function jF(i){return tR(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function XL(i){var e=Re(i);return Re(Re(e.localStore).persistence).fn()}function eV(i,e,t,o){return(0,T.mG)(this,void 0,void 0,function(){var s,u,d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return(s=Re(i)).$o?(Te("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!s.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,mF(s.localStore)];case 3:return u=g.sent(),d=kA.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,vs(s,u,d)];case 4:return g.sent(),[3,8];case 5:return[4,_h(s.localStore,e,!0)];case 6:return g.sent(),Dh(s,e,o),[3,8];case 7:We(),g.label=8;case 8:return[2]}})})}function tV(i,e,t){return(0,T.mG)(this,void 0,void 0,function(){var o,s,u,d,g,y,b,E,C;return(0,T.Jh)(this,function(I){switch(I.label){case 0:if(!(o=hT(i)).$o)return[3,10];s=0,u=e,I.label=1;case 1:return s<u.length?o.Vo.has(d=u[s])?(Te("SyncEngine","Adding an already active target "+d),[3,5]):[4,gF(o.localStore,d)]:[3,6];case 2:return g=I.sent(),[4,vh(o.localStore,g)];case 3:return y=I.sent(),[4,aT(o,jF(g),y.targetId,!1)];case 4:I.sent(),Aw(o.remoteStore,y),I.label=5;case 5:return s++,[3,1];case 6:b=function(O){return(0,T.Jh)(this,function(V){switch(V.label){case 0:return o.Vo.has(O)?[4,_h(o.localStore,O,!1).then(function(){xm(o.remoteStore,O),Dh(o,O)}).catch(cu)]:[3,2];case 1:V.sent(),V.label=2;case 2:return[2]}})},E=0,C=t,I.label=7;case 7:return E<C.length?[5,b(C[E])]:[3,10];case 8:I.sent(),I.label=9;case 9:return E++,[3,7];case 10:return[2]}})})}function hT(i){var e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=LF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HL.bind(null,e),e.vo._r=RL.bind(null,e.eventManager),e.vo.Mo=FL.bind(null,e.eventManager),e}function fT(i){var e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=zL.bind(null,e),e}var HF=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(e){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(t){switch(t.label){case 0:return this.R=Mm(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},i.prototype.Uo=function(e){return null},i.prototype.Ko=function(e){return dF(this.persistence,new cF,e.initialUser,this.R)},i.prototype.qo=function(e){return new uL(dL.bs,this.R)},i.prototype.Bo=function(e){return new wF},i.prototype.terminate=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},i}(),GF=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).Qo=t,u.cacheSizeBytes=o,u.forceOwnership=s,u.synchronizeTabs=!1,u}return(0,T.ZT)(e,i),e.prototype.initialize=function(t){return(0,T.mG)(this,void 0,void 0,function(){var o=this;return(0,T.Jh)(this,function(s){switch(s.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return s.sent(),[4,tL(this.localStore)];case 2:return s.sent(),[4,this.Qo.initialize(this,t)];case 3:return s.sent(),[4,fT(this.Qo.syncEngine)];case 4:return s.sent(),[4,wh(this.Qo.remoteStore)];case 5:return s.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return s.sent(),[2]}})})},e.prototype.Ko=function(t){return dF(this.persistence,new cF,t.initialUser,this.R)},e.prototype.Uo=function(t){return new HN(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var o=$A(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Do.withCacheSize(this.cacheSizeBytes):Do.DEFAULT;return new YN(this.synchronizeTabs,o,t.clientId,s,t.asyncQueue,CF(),Sw(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new wF},e}(HF),rV=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o,!1)||this).Qo=t,s.cacheSizeBytes=o,s.synchronizeTabs=!0,s}return(0,T.ZT)(e,i),e.prototype.initialize=function(t){return(0,T.mG)(this,void 0,void 0,function(){var o,s=this;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return u.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof QA?(this.sharedClientState.syncEngine={ui:QL.bind(null,o),ai:eV.bind(null,o),hi:tV.bind(null,o),fn:XL.bind(null,o),ci:ZL.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:u.sent(),u.label=3;case 3:return[4,this.persistence.He(function(d){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(g){switch(g.label){case 0:return[4,JL(this.Qo.syncEngine,d)];case 1:return g.sent(),this.gcScheduler&&(d&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):d||this.gcScheduler.stop()),[2]}})})})];case 4:return u.sent(),[2]}})})},e.prototype.Bo=function(t){var o=CF();if(!QA.yt(o))throw new ye(ee.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var s=$A(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new QA(o,t.asyncQueue,s,t.clientId,t.initialUser)},e}(GF),pT=function(){function i(){}return i.prototype.initialize=function(e,t){return(0,T.mG)(this,void 0,void 0,function(){var o=this;return(0,T.Jh)(this,function(s){switch(s.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(u){return VF(o.syncEngine,u,1)},this.remoteStore.remoteSyncer.handleCredentialChange=WL.bind(null,this.syncEngine),[4,nT(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:s.sent(),s.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(e){return new OL},i.prototype.createDatastore=function(e){var o=Mm(e.databaseInfo.databaseId),s=new mL(e.databaseInfo);return new _L(e.credentials,s,o)},i.prototype.createRemoteStore=function(e){var t,o,s,u,d,g=this;return t=this.localStore,o=this.datastore,s=e.asyncQueue,u=function(y){return VF(g.syncEngine,y,0)},d=EF.yt()?new EF:new fL,new wL(t,o,s,u,d)},i.prototype.createSyncEngine=function(e,t){return b=t,E=new VL(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),b&&(E.$o=!0),E;var b,E},i.prototype.terminate=function(){return function(e){return(0,T.mG)(this,void 0,void 0,function(){var t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return t=Re(e),Te("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,bh(t)];case 1:return o.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),Iw=function(){function i(e){this.observer=e,this.muted=!1}return i.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},i.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(e,t){var o=this;this.muted||setTimeout(function(){o.muted||e(t)},0)},i}(),oV=(function(){function i(e,t){var o=this;this.Go=e,this.R=t,this.metadata=new br,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(s){s&&s.io()?o.metadata.resolve(s.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==s?void 0:s.payload)))},function(s){return o.metadata.reject(s)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t,o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,this.Jo()];case 1:return null===(e=u.sent())?[2,null]:(t=this.zo.decode(e),o=Number(t),isNaN(o)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(o)]);case 2:return s=u.sent(),[2,new PL(JSON.parse(s),e.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},i.prototype.Xo=function(e){return(0,T.mG)(this,void 0,void 0,function(){var t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},i.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},i.prototype.tc=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(e=o.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function i(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(e){return(0,T.mG)(this,void 0,void 0,function(){var t,o=this;return(0,T.Jh)(this,function(s){switch(s.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ye(ee.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(u,d){return(0,T.mG)(this,void 0,void 0,function(){var g,y,b,E,C,A;return(0,T.Jh)(this,function(I){switch(I.label){case 0:return g=Re(u),y=Dm(g.R)+"/documents",b={documents:d.map(function(O){return Cm(g.R,O)})},[4,g.$i("BatchGetDocuments",y,b)];case 1:return E=I.sent(),C=new Map,E.forEach(function(O){var W,ie,V=(W=g.R,"found"in(ie=O)?function(ge,me){it(!!me.found);var ke=Eo(ge,me.found.name),Ve=Gn(me.found.updateTime),ht=new ui({mapValue:{fields:me.found.fields}});return nr.newFoundDocument(ke,Ve,ht)}(W,ie):"missing"in ie?function(ge,me){it(!!me.missing),it(!!me.readTime);var ke=Eo(ge,me.missing),Ve=Gn(me.readTime);return nr.newNoDocument(ke,Ve)}(W,ie):We());C.set(V.key.toString(),V)}),A=[],[2,(d.forEach(function(O){var V=C.get(O.toString());it(!!V),A.push(V)}),A)]}})})}(this.datastore,e)];case 1:return[2,((t=s.sent()).forEach(function(u){return o.recordVersion(u)}),t)]}})})},i.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())},i.prototype.delete=function(e){this.write(new wm(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.commit=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t=this;return(0,T.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(s){e.delete(s.key.toString())}),e.forEach(function(s,u){var d=Ze.fromPath(u);t.mutations.push(new FA(d,t.precondition(d)))}),[4,function(s,u){return(0,T.mG)(this,void 0,void 0,function(){var d,g,y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return d=Re(s),g=Dm(d.R)+"/documents",y={writes:u.map(function(E){return yw(d.R,E)})},[4,d.Ni("Commit",g,y)];case 1:return b.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw We();t=vt.min()}var o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new ye(ee.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},i.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?yr.updateTime(t):yr.none()},i.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(vt.min()))throw new ye(ee.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return yr.updateTime(t)}return yr.exists(!0)},i.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},i.prototype.ensureCommitNotCalled=function(){},i}()),sV=function(){function i(e,t,o,s){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=s,this.ec=5,this.Zi=new JA(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,T.mG)(e,void 0,void 0,function(){var t,o,s=this;return(0,T.Jh)(this,function(u){return t=new oV(this.datastore),(o=this.sc(t))&&o.then(function(d){s.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){s.deferred.resolve(d)}).catch(function(g){s.ic(g)})})}).catch(function(d){s.ic(d)}),[2]})})})},i.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ru(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},i.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!vR(t)}return!1},i}(),aV=function(){function i(e,t,o){var s=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=o,this.user=ir.UNAUTHENTICATED,this.clientId=UO.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(u){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(d){switch(d.label){case 0:return Te("FirestoreClient","Received user=",u.uid),[4,this.credentialListener(u)];case 1:return d.sent(),this.user=u,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ye(ee.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(e,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:u.sent(),u.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:u.sent(),u.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return o=u.sent(),s=Ch(o,"Failed to shutdown persistence"),t.reject(s),[3,6];case 6:return[2]}})})}),t.promise},i}();function qF(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o,s=this;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return t=u.sent(),[4,e.initialize(t)];case 2:return u.sent(),o=t.initialUser,i.setCredentialChangeListener(function(d){return(0,T.mG)(s,void 0,void 0,function(){return(0,T.Jh)(this,function(g){switch(g.label){case 0:return o.isEqual(d)?[3,2]:[4,hF(e.localStore,d)];case 1:g.sent(),o=d,g.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=e,[2]}})})}function $F(i,e){return(0,T.mG)(this,void 0,void 0,function(){var t,o;return(0,T.Jh)(this,function(s){switch(s.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,gT(i)];case 1:return t=s.sent(),Te("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=s.sent(),[4,e.initialize(t,o)];case 3:return s.sent(),i.setCredentialChangeListener(function(u){return function(d,g){return(0,T.mG)(this,void 0,void 0,function(){var y,b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:return(y=Re(d)).asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials"),b=Pa(y),y.Or.add(3),[4,bh(y)];case 1:return E.sent(),b&&y.Br.set("Unknown"),[4,y.remoteSyncer.handleCredentialChange(g)];case 2:return E.sent(),y.Or.delete(3),[4,Im(y)];case 3:return E.sent(),[2]}})})}(e.remoteStore,u)}),i.onlineComponents=e,[2]}})})}function gT(i){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){switch(e.label){case 0:return i.offlineComponents?[3,2]:(Te("FirestoreClient","Using default OfflineComponentProvider"),[4,qF(i,new HF)]);case 1:e.sent(),e.label=2;case 2:return[2,i.offlineComponents]}})})}function xw(i){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(e){switch(e.label){case 0:return i.onlineComponents?[3,2]:(Te("FirestoreClient","Using default OnlineComponentProvider"),[4,$F(i,new pT)]);case 1:e.sent(),e.label=2;case 2:return[2,i.onlineComponents]}})})}function WF(i){return gT(i).then(function(e){return e.persistence})}function mT(i){return gT(i).then(function(e){return e.localStore})}function YF(i){return xw(i).then(function(e){return e.remoteStore})}function yT(i){return xw(i).then(function(e){return e.syncEngine})}function Sh(i){return(0,T.mG)(this,void 0,void 0,function(){var e,t;return(0,T.Jh)(this,function(o){switch(o.label){case 0:return[4,xw(i)];case 1:return e=o.sent(),[2,((t=e.eventManager).onListen=BL.bind(null,e.syncEngine),t.onUnlisten=UL.bind(null,e.syncEngine),t)]}})})}function KF(i,e,t){var o=this;void 0===t&&(t={});var s=new br;return i.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(o,void 0,void 0,function(){var u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return u=function(g,y,b,E,C){var A=new Iw({next:function(O){y.enqueueAndForget(function(){return iT(g,I)});var V=O.docs.has(b);!V&&O.fromCache?C.reject(new ye(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&O.fromCache&&E&&"server"===E.source?C.reject(new ye(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(O)},error:function(O){return C.reject(O)}}),I=new sT(rh(b.path),A,{includeMetadataChanges:!0,so:!0});return rT(g,I)},[4,Sh(i)];case 1:return[2,u.apply(void 0,[d.sent(),i.asyncQueue,e,t,s])]}})})}),s.promise}function ZF(i,e,t){var o=this;void 0===t&&(t={});var s=new br;return i.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(o,void 0,void 0,function(){var u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return u=function(g,y,b,E,C){var A=new Iw({next:function(O){y.enqueueAndForget(function(){return iT(g,I)}),O.fromCache&&"server"===E.source?C.reject(new ye(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(O)},error:function(O){return C.reject(O)}}),I=new sT(b,A,{includeMetadataChanges:!0,so:!0});return rT(g,I)},[4,Sh(i)];case 1:return[2,u.apply(void 0,[d.sent(),i.asyncQueue,e,t,s])]}})})}),s.promise}var lV=function(i,e,t,o,s,u,d,g){this.databaseId=i,this.appId=e,this.persistenceKey=t,this.host=o,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.useFetchStreams=g},Ow=function(){function i(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database},i}(),QF=new Map,JF=function(i,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},XF=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(ir.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),uV=function(){function i(e){this.token=e,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){var o=this;this.changeListener=t,e.enqueueRetryable(function(){return t(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),cV=function(){function i(e){var t=this;this.currentUser=ir.UNAUTHENTICATED,this.oc=new br,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var o=function(s){Te("FirebaseCredentialsProvider","Auth detected"),t.auth=s,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(s){return o(s)}),setTimeout(function(){if(!t.auth){var s=e.getImmediate({optional:!0});s?o(s):(Te("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return i.prototype.getToken=function(){var e=this,t=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(s){return e.cc!==t?(Te("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):s?(it("string"==typeof s.accessToken),new JF(s.accessToken,e.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(e,t){var o=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,T.mG)(o,void 0,void 0,function(){return(0,T.Jh)(this,function(s){switch(s.label){case 0:return[4,this.oc.promise];case 1:return s.sent(),[4,t(this.currentUser)];case 2:return s.sent(),this.changeListener=t,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return it(null===e||"string"==typeof e),new ir(e)},i}(),dV=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o,this.type="FirstParty",this.user=ir.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),i}(),hV=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new dV(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(ir.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function vT(i,e,t){if(!t)throw new ye(ee.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+e+".")}function _T(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye(ee.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return e}function e1(i,e,t,o){if(!0===e&&!0===o)throw new ye(ee.INVALID_ARGUMENT,i+" and "+t+" cannot be used together.")}function t1(i){if(!Ze.isDocumentKey(i))throw new ye(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function n1(i){if(Ze.isDocumentKey(i))throw new ye(ee.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function Rw(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var e=function(t){if(t.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return e?"a custom "+e+" object":"an object"}return"function"==typeof i?"a function":We()}function Pt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=Rw(i);throw new ye(ee.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return i}function r1(i,e){if(e<=0)throw new ye(ee.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+e+".")}var o1=function(){function i(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,e1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},i}(),Om=function(){function i(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new o1({}),this._settingsFrozen=!1,e instanceof Ow?(this._databaseId=e,this._credentials=new XF):(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ye(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ow(o.options.projectId)}(e),this._credentials=new cV(t))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new ye(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ye(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new o1(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new XF;switch(t.type){case"gapi":var o=t.client;return it(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new hV(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ye(ee.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(t=QF.get(this))&&(Te("ComponentProvider","Removing Datastore"),QF.delete(this),t.terminate()),Promise.resolve();var t},i}(),nn=function(){function i(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Na(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._key)},i}(),Kr=function(){function i(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}return i.prototype.withConverter=function(e){return new i(this.firestore,e,this._query)},i}(),Na=function(i){function e(t,o,s){var u=this;return(u=i.call(this,t,o,rh(s))||this)._path=s,u.type="collection",u}return(0,T.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new nn(this.firestore,null,new Ze(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Kr);function s1(i,e){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,At.m9)(i),vT("collection","path",e),i instanceof Om)return n1(t=Ft.fromString.apply(Ft,(0,T.ev)([e],o))),new Na(i,null,t);if(!(i instanceof nn||i instanceof Na))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return n1(t=Ft.fromString.apply(Ft,(0,T.ev)([i.path],o)).child(Ft.fromString(e))),new Na(i.firestore,null,t)}function Fw(i,e){for(var t,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];if(i=(0,At.m9)(i),1===arguments.length&&(e=UO.u()),vT("doc","path",e),i instanceof Om)return t1(t=Ft.fromString.apply(Ft,(0,T.ev)([e],o))),new nn(i,null,new Ze(t));if(!(i instanceof nn||i instanceof Na))throw new ye(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return t1(t=i._path.child(Ft.fromString.apply(Ft,(0,T.ev)([e],o)))),new nn(i.firestore,i instanceof Na?i.converter:null,new Ze(t))}function a1(i,e){return i=(0,At.m9)(i),e=(0,At.m9)(e),(i instanceof nn||i instanceof Na)&&(e instanceof nn||e instanceof Na)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function l1(i,e){return i=(0,At.m9)(i),e=(0,At.m9)(e),i instanceof Kr&&e instanceof Kr&&i.firestore===e.firestore&&ym(i._query,e._query)&&i.converter===e.converter}var fV=function(){function i(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new JA(this,"async_queue_retry"),this.Ic=function(){var o=Sw();o&&Te("AsyncQueue","Visibility state changed to "+o.visibilityState),e.Zi.Gi()};var t=Sw();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(e){this.enqueue(e)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},i.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Sw();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new br;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},i.prototype.bc=function(){return(0,T.mG)(this,void 0,void 0,function(){var e,t=this;return(0,T.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!lu(e=o.sent()))throw e;return Te("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(e){var t=this,o=this.dc.then(function(){return t.gc=!0,e().catch(function(s){throw t.yc=s,t.gc=!1,En("INTERNAL UNHANDLED ERROR: ",(d=(u=s).message||"",u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d)),s;var u,d}).then(function(s){return t.gc=!1,s})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(e,t,o){var s=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var u=IL.createAndSchedule(this,e,t,o,function(d){return s.vc(d)});return this.mc.push(u),u},i.prototype.Ac=function(){this.yc&&We()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,T.mG)(this,void 0,void 0,function(){var e;return(0,T.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},i.prototype.Vc=function(e){for(var t=0,o=this.mc;t<o.length;t++)if(o[t].timerId===e)return!0;return!1},i.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(d,g){return d.targetTimeMs-g.targetTimeMs});for(var o=0,s=t.mc;o<s.length;o++){var u=s[o];if(u.skipDelay(),"all"!==e&&u.timerId===e)break}return t.Pc()})},i.prototype.Dc=function(e){this.Tc.push(e)},i.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},i}();function Ah(i){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var o=e,s=0,u=["next","error","complete"];s<u.length;s++){var d=u[s];if(d in o&&"function"==typeof o[d])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new br,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(e,t,o){this._progressObserver={next:e,error:t,complete:o}},i.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},i.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},i.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},i.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},i.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var pn=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this).type="firestore",s._queue=new fV,s._persistenceKey="name"in t?t.name:"[DEFAULT]",s}return(0,T.ZT)(e,i),e.prototype._terminate=function(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()},e}(Om);function qn(i){return i._firestoreClient||u1(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function u1(i){var e,u,g,t=i._freezeSettings(),o=(u=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new lV(i._databaseId,u,i._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));i._firestoreClient=new aV(i._credentials,i._queue,o)}function c1(i,e,t){var o=this,s=new br;return i.asyncQueue.enqueue(function(){return(0,T.mG)(o,void 0,void 0,function(){var u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,3,,4]),[4,qF(i,t)];case 1:return d.sent(),[4,$F(i,e)];case 2:return d.sent(),s.resolve(),[3,4];case 3:if(!("FirebaseError"===(g=u=d.sent()).name?g.code===ee.FAILED_PRECONDITION||g.code===ee.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw u;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),s.reject(u),[3,4];case 4:return[2]}var g})})}).then(function(){return s.promise})}function d1(i){if(i._initialized||i._terminated)throw new ye(ee.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var So=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;++o)if(0===e[o].length)throw new ye(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ki(e)}return i.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},i}(),du=function(){function i(e){this._byteString=e}return i.fromBase64String=function(e){try{return new i(Or.fromBase64String(e))}catch(t){throw new ye(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},i.fromUint8Array=function(e){return new i(Or.fromUint8Array(e))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},i}(),hu=function(i){this._methodName=i},Pw=function(){function i(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(e){return Ct(this._lat,e._lat)||Ct(this._long,e._long)},i}(),mV=/^__.*__$/,yV=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms):new bm(e,this.data,t,this.fieldTransforms)},i}(),h1=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return new Ma(e,this.data,this.fieldMask,t,this.fieldTransforms)},i}();function f1(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw We()}}var p1=function(){function i(e,t,o,s,u,d){this.settings=e,this.databaseId=t,this.R=o,this.ignoreUndefinedProperties=s,void 0===u&&this.Cc(),this.fieldTransforms=u||[],this.fieldMask=d||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(e){return new i(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.xc({path:o,Fc:!1});return s.$c(e),s},i.prototype.Oc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.xc({path:o,Fc:!1});return s.Cc(),s},i.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(e){return Nw(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},i.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},i.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(f1(this.Nc)&&mV.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),vV=function(){function i(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=o||Mm(e)}return i.prototype.Uc=function(e,t,o,s){return void 0===s&&(s=!1),new p1({Nc:e,methodName:t,qc:o,path:Ki.emptyPath(),Fc:!1,Bc:s},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function fu(i){var e=i._freezeSettings(),t=Mm(i._databaseId);return new vV(i._databaseId,!!e.ignoreUndefinedProperties,t)}function kw(i,e,t,o,s,u){void 0===u&&(u={});var d=i.Uc(u.merge||u.mergeFields?2:0,e,t,s);CT("Data must be an object, but it was:",d,o);var g,y,b=y1(o,d);if(u.merge)g=new Xd(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){for(var E=[],C=0,A=u.mergeFields;C<A.length;C++){var I=DT(e,A[C],t);if(!d.contains(I))throw new ye(ee.INVALID_ARGUMENT,"Field '"+I+"' is specified in your field mask but missing from your input data.");_1(E,I)||E.push(I)}g=new Xd(E),y=d.fieldTransforms.filter(function(O){return g.covers(O.field)})}else g=null,y=d.fieldTransforms;return new yV(new ui(b),g,y)}var bT=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(hu);function g1(i,e,t){return new p1({Nc:3,qc:e.settings.qc,methodName:i._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var _V=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype._toFieldTransform=function(t){return new _m(t.path,new oh)},e.prototype.isEqual=function(t){return t instanceof e},e}(hu),bV=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Kc=o,s}return(0,T.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=g1(this,t,!0),s=this.Kc.map(function(d){return pu(d,o)}),u=new ou(s);return new _m(t.path,u)},e.prototype.isEqual=function(t){return this===t},e}(hu),wV=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Kc=o,s}return(0,T.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=g1(this,t,!0),s=this.Kc.map(function(d){return pu(d,o)}),u=new su(s);return new _m(t.path,u)},e.prototype.isEqual=function(t){return this===t},e}(hu),EV=function(i){function e(t,o){var s=this;return(s=i.call(this,t)||this).Qc=o,s}return(0,T.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=new sh(t.R,aR(t.R,this.Qc));return new _m(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(hu);function wT(i,e,t,o){var s=i.Uc(1,e,t);CT("Data must be an object, but it was:",s,o);var u=[],d=ui.empty();nu(o,function(y,b){var E=ST(e,y,t);b=(0,At.m9)(b);var C=s.Oc(E);if(b instanceof bT)u.push(E);else{var A=pu(b,C);null!=A&&(u.push(E),d.set(E,A))}});var g=new Xd(u);return new h1(d,g,s.fieldTransforms)}function ET(i,e,t,o,s,u){var d=i.Uc(1,e,t),g=[DT(e,o,t)],y=[s];if(u.length%2!=0)throw new ye(ee.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var b=0;b<u.length;b+=2)g.push(DT(e,u[b])),y.push(u[b+1]);for(var E=[],C=ui.empty(),A=g.length-1;A>=0;--A)if(!_1(E,g[A])){var I=g[A],O=y[A];O=(0,At.m9)(O);var V=d.Oc(I);if(O instanceof bT)E.push(I);else{var W=pu(O,V);null!=W&&(E.push(I),C.set(I,W))}}var ie=new Xd(E);return new h1(C,ie,d.fieldTransforms)}function m1(i,e,t,o){return void 0===o&&(o=!1),pu(t,i.Uc(o?4:3,e))}function pu(i,e){if(v1(i=(0,At.m9)(i)))return CT("Unsupported field value:",e,i),y1(i,e);if(i instanceof hu)return function(t,o){if(!f1(o.Nc))throw o.Lc(t._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(t._methodName+"() is not currently supported inside arrays");var s=t._toFieldTransform(o);s&&o.fieldTransforms.push(s)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,o){for(var s=[],u=0,d=0,g=t;d<g.length;d++){var y=pu(g[d],o.Mc(u));null==y&&(y={nullValue:"NULL_VALUE"}),s.push(y),u++}return{arrayValue:{values:s}}}(i,e)}return function(t,o){if(null===(t=(0,At.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return aR(o.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var s=$r.fromDate(t);return{timestampValue:Em(o.R,s)}}if(t instanceof $r)return s=new $r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Em(o.R,s)};if(t instanceof Pw)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof du)return{bytesValue:TR(o.R,t._byteString)};if(t instanceof nn){var u=t.firestore._databaseId;if(!u.isEqual(s=o.databaseId))throw o.Lc("Document reference is for database "+u.projectId+"/"+u.database+" but should be for database "+s.projectId+"/"+s.database);return{referenceValue:LA(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Lc("Unsupported field value: "+Rw(t))}(i,e)}function y1(i,e){var t={};return GO(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nu(i,function(o,s){var u=pu(s,e.kc(o));null!=u&&(t[o]=u)}),{mapValue:{fields:t}}}function v1(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof $r||i instanceof Pw||i instanceof du||i instanceof nn||i instanceof hu)}function CT(i,e,t){if(!v1(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){var o=Rw(t);throw e.Lc("an object"===o?i+" a custom object":i+" "+o)}var s}function DT(i,e,t){if((e=(0,At.m9)(e))instanceof So)return e._internalPath;if("string"==typeof e)return ST(i,e);throw Nw("Field path arguments must be of type string or FieldPath.",i,!1,void 0,t)}var CV=new RegExp("[~\\*/\\[\\]]");function ST(i,e,t){if(e.search(CV)>=0)throw Nw("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,t);try{return(new(So.bind.apply(So,(0,T.ev)([void 0],e.split(".")))))._internalPath}catch(o){throw Nw("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,t)}}function Nw(i,e,t,o,s){var u=o&&!o.isEmpty(),d=void 0!==s,g="Function "+e+"() called with invalid data";t&&(g+=" (via `toFirestore()`)");var y="";return(u||d)&&(y+=" (found",u&&(y+=" in field "+o),d&&(y+=" in document "+s),y+=")"),new ye(ee.INVALID_ARGUMENT,(g+=". ")+i+y)}function _1(i,e){return i.some(function(t){return t.isEqual(e)})}var Rm=function(){function i(e,t,o,s,u){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=u}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new nn(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var e=new DV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(e){if(this._document){var t=this._document.data.field(Lw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},i}(),DV=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype.data=function(){return i.prototype.data.call(this)},e}(Rm);function Lw(i,e){return"string"==typeof e?ST(i,e):e instanceof So?e._internalPath:e._delegate._internalPath}var gu=function(){function i(e,t){this.hasPendingWrites=e,this.fromCache=t}return i.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},i}(),_s=function(i){function e(t,o,s,u,d,g){var y=this;return(y=i.call(this,t,o,s,u,g)||this)._firestore=t,y._firestoreImpl=t,y.metadata=d,y}return(0,T.ZT)(e,i),e.prototype.exists=function(){return i.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var o=new Fm(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,o){if(void 0===o&&(o={}),this._document){var s=this._document.data.field(Lw("DocumentSnapshot.get",t));if(null!==s)return this._userDataWriter.convertValue(s,o.serverTimestamps)}},e}(Rm),Fm=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype.data=function(t){return void 0===t&&(t={}),i.prototype.data.call(this,t)},e}(_s),La=function(){function i(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new gu(s.hasPendingWrites,s.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e,t){var o=this;this._snapshot.docs.forEach(function(s){e.call(t,new Fm(o._firestore,o._userDataWriter,s.key,s,new gu(o._snapshot.mutatedKeys.has(s.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,s){if(o._snapshot.oldDocs.isEmpty()){var u=0;return o._snapshot.docChanges.map(function(g){return{type:"added",doc:new Fm(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:u++}})}var d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(g){return s||3!==g.type}).map(function(g){var y=new Fm(o._firestore,o._userDataWriter,g.doc.key,g.doc,new gu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),b=-1,E=-1;return 0!==g.type&&(b=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(E=(d=d.add(g.doc)).indexOf(g.doc.key)),{type:SV(g.type),doc:y,oldIndex:b,newIndex:E}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},i}();function SV(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return We()}}function b1(i,e){return i instanceof _s&&e instanceof _s?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof La&&e instanceof La&&i._firestore===e._firestore&&l1(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function w1(i){if(cw(i)&&0===i.explicitOrderBy.length)throw new ye(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Pm=function(){};function Va(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var o=0,s=e;o<s.length;o++){var u=s[o];i=u._apply(i)}return i}var AV=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).jc=t,u.Wc=o,u.Gc=s,u.type="where",u}return(0,T.ZT)(e,i),e.prototype._apply=function(t){var u,g,o=fu(t.firestore),s=function(u,d,g,y,b,E,C){var A;if(b.isKeyField()){if("array-contains"===E||"array-contains-any"===E)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+E+"' queries on FieldPath.documentId().");if("in"===E||"not-in"===E){T1(C,E);for(var I=[],O=0,V=C;O<V.length;O++)I.push(A1(y,u,V[O]));A={arrayValue:{values:I}}}else A=A1(y,u,C)}else"in"!==E&&"not-in"!==E&&"array-contains-any"!==E||T1(C,E),A=m1(g,"where",C,"in"===E||"not-in"===E);var ie=ci.create(b,E,A);return function(ge,me){if(me.g()){var ke=IA(ge);if(null!==ke&&!ke.isEqual(me.field))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+ke.toString()+"' and '"+me.field.toString()+"'");var Ve=MA(ge);null!==Ve&&M1(0,me.field,Ve)}var ht=function(xt,pi){for(var Fr=0,Ri=xt.filters;Fr<Ri.length;Fr++){var Qm=Ri[Fr];if(pi.indexOf(Qm.op)>=0)return Qm.op}return null}(ge,function(xt){switch(xt){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(me.op));if(null!==ht)throw new ye(ee.INVALID_ARGUMENT,ht===me.op?"Invalid query. You cannot use more than one '"+me.op.toString()+"' filter.":"Invalid query. You cannot use '"+me.op.toString()+"' filters with '"+ht.toString()+"' filters.")}(u,ie),ie}(t._query,0,o,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Kr(t.firestore,t.converter,(g=(u=t._query).filters.concat([s]),new gs(u.path,u.collectionGroup,u.explicitOrderBy.slice(),g,u.limit,u.limitType,u.startAt,u.endAt)))},e}(Pm),TV=function(i){function e(t,o){var s=this;return(s=i.call(this)||this).jc=t,s.zc=o,s.type="orderBy",s}return(0,T.ZT)(e,i),e.prototype._apply=function(t){var s,d,o=function(s,u,d){if(null!==s.startAt)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new nh(u,d);return function(y,b){if(null===MA(y)){var E=IA(y);null!==E&&M1(0,E,b.field)}}(s,g),g}(t._query,this.jc,this.zc);return new Kr(t.firestore,t.converter,(d=(s=t._query).explicitOrderBy.concat([o]),new gs(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)))},e}(Pm),E1=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).type=t,u.Hc=o,u.Jc=s,u}return(0,T.ZT)(e,i),e.prototype._apply=function(t){return new Kr(t.firestore,t.converter,nR(t._query,this.Hc,this.Jc))},e}(Pm),C1=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).type=t,u.Yc=o,u.Xc=s,u}return(0,T.ZT)(e,i),e.prototype._apply=function(t){var s,u,o=S1(t,this.type,this.Yc,this.Xc);return new Kr(t.firestore,t.converter,(u=o,new gs((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,u,s.endAt)))},e}(Pm),D1=function(i){function e(t,o,s){var u=this;return(u=i.call(this)||this).type=t,u.Yc=o,u.Xc=s,u}return(0,T.ZT)(e,i),e.prototype._apply=function(t){var s,u,o=S1(t,this.type,this.Yc,this.Xc);return new Kr(t.firestore,t.converter,(u=o,new gs((s=t._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,u)))},e}(Pm);function S1(i,e,t,o){if(t[0]=(0,At.m9)(t[0]),t[0]instanceof Rm)return function(u,d,g,y,b){if(!y)throw new ye(ee.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+g+"().");for(var E=[],C=0,A=ih(u);C<A.length;C++){var I=A[C];if(I.field.isKeyField())E.push(iw(d,y.key));else{var O=y.data.field(I.field);if(CA(O))throw new ye(ee.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===O){var V=I.field.canonicalString();throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+V+"' (used as the orderBy) does not exist.")}E.push(O)}}return new mm(E,b)}(i._query,i.firestore._databaseId,e,t[0]._document,o);var s=fu(i.firestore);return function(u,d,g,y,b,E){var C=u.explicitOrderBy;if(b.length>C.length)throw new ye(ee.INVALID_ARGUMENT,"Too many arguments provided to "+y+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var A=[],I=0;I<b.length;I++){var O=b[I];if(C[I].field.isKeyField()){if("string"!=typeof O)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+y+"(), but got a "+typeof O);if(!xA(u)&&-1!==O.indexOf("/"))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+y+"() must be a plain document ID, but '"+O+"' contains a slash.");var V=u.path.child(Ft.fromString(O));if(!Ze.isDocumentKey(V))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+y+"() must result in a valid document path, but '"+V+"' is not because it contains an odd number of segments.");var W=new Ze(V);A.push(iw(d,W))}else{var ie=m1(g,y,O);A.push(ie)}}return new mm(A,E)}(i._query,i.firestore._databaseId,s,e,t,o)}function A1(i,e,t){if("string"==typeof(t=(0,At.m9)(t))){if(""===t)throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&-1!==t.indexOf("/"))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var o=e.path.child(Ft.fromString(t));if(!Ze.isDocumentKey(o))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return iw(i,new Ze(o))}if(t instanceof nn)return iw(i,t._key);throw new ye(ee.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Rw(t)+".")}function T1(i,e){if(!Array.isArray(i)||0===i.length)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(i.length>10)throw new ye(ee.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function M1(i,e,t){if(!t.isEqual(e))throw new ye(ee.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var AT=function(){function i(){}return i.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),iu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Cn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(eh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw We()}},i.prototype.convertObject=function(e,t){var o=this,s={};return nu(e.fields,function(u,d){s[u]=o.convertValue(d,t)}),s},i.prototype.convertGeoPoint=function(e){return new Pw(Cn(e.latitude),Cn(e.longitude))},i.prototype.convertArray=function(e,t){var o=this;return(e.values||[]).map(function(s){return o.convertValue(s,t)})},i.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var o=qO(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(hm(e));default:return null}},i.prototype.convertTimestamp=function(e){var t=Ta(e);return new $r(t.seconds,t.nanos)},i.prototype.convertDocumentKey=function(e,t){var o=Ft.fromString(e);it(UR(o));var s=new Ow(o.get(1),o.get(3)),u=new Ze(o.popFirst(5));return s.isEqual(t)||En("Document "+u+" contains a document reference within a different database ("+s.projectId+"/"+s.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),u},i}();function Vw(i,e,t){return i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e}var MV=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,T.ZT)(e,i),e.prototype.convertBytes=function(t){return new du(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new nn(this.firestore,null,o)},e}(AT),IV=function(){function i(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=fu(e)}return i.prototype.set=function(e,t,o){this._verifyNotCommitted();var s=Ba(e,this._firestore),u=Vw(s.converter,t,o),d=kw(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,o);return this._mutations.push(d.toMutation(s._key,yr.none())),this},i.prototype.update=function(e,t,o){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];this._verifyNotCommitted();var d,g=Ba(e,this._firestore);return d="string"==typeof(t=(0,At.m9)(t))||t instanceof So?ET(this._dataReader,"WriteBatch.update",g._key,t,o,s):wT(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(d.toMutation(g._key,yr.exists(!0))),this},i.prototype.delete=function(e){this._verifyNotCommitted();var t=Ba(e,this._firestore);return this._mutations=this._mutations.concat(new wm(t._key,yr.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new ye(ee.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function Ba(i,e){if((i=(0,At.m9)(i)).firestore!==e)throw new ye(ee.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var mu=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,T.ZT)(e,i),e.prototype.convertBytes=function(t){return new du(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new nn(this.firestore,null,o)},e}(AT);function I1(i,e,t){for(var o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];i=Pt(i,nn);var u=Pt(i.firestore,pn),d=fu(u);return km(u,[("string"==typeof(e=(0,At.m9)(e))||e instanceof So?ET(d,"updateDoc",i._key,e,t,o):wT(d,"updateDoc",i._key,e)).toMutation(i._key,yr.exists(!0))])}function x1(i){for(var e,t,o,s=[],u=1;u<arguments.length;u++)s[u-1]=arguments[u];i=(0,At.m9)(i);var d={includeMetadataChanges:!1},g=0;"object"!=typeof s[g]||Ah(s[g])||(d=s[g],g++);var y,b,E,C={includeMetadataChanges:d.includeMetadataChanges};if(Ah(s[g])){var A=s[g];s[g]=null===(e=A.next)||void 0===e?void 0:e.bind(A),s[g+1]=null===(t=A.error)||void 0===t?void 0:t.bind(A),s[g+2]=null===(o=A.complete)||void 0===o?void 0:o.bind(A)}if(i instanceof nn)b=Pt(i.firestore,pn),E=rh(i._key.path),y={next:function(V){s[g]&&s[g](TT(b,i,V))},error:s[g+1],complete:s[g+2]};else{var I=Pt(i,Kr);b=Pt(I.firestore,pn),E=I._query;var O=new mu(b);y={next:function(V){s[g]&&s[g](new La(b,O,I,V))},error:s[g+1],complete:s[g+2]},w1(i._query)}return function(V,W,ie,ge){var me=this,ke=new Iw(ge),Ve=new sT(W,ke,ie);return V.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(me,void 0,void 0,function(){var ht;return(0,T.Jh)(this,function(xt){switch(xt.label){case 0:return ht=rT,[4,Sh(V)];case 1:return[2,ht.apply(void 0,[xt.sent(),Ve])]}})})}),function(){ke.Wo(),V.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(me,void 0,void 0,function(){var ht;return(0,T.Jh)(this,function(xt){switch(xt.label){case 0:return ht=iT,[4,Sh(V)];case 1:return[2,ht.apply(void 0,[xt.sent(),Ve])]}})})})}}(qn(b),E,C,y)}function km(i,e){return function(t,o){var s=this,u=new br;return t.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(s,void 0,void 0,function(){var d;return(0,T.Jh)(this,function(g){switch(g.label){case 0:return d=jL,[4,yT(t)];case 1:return[2,d.apply(void 0,[g.sent(),o,u])]}})})}),u.promise}(qn(i),e)}function TT(i,e,t){var o=t.docs.get(e._key),s=new mu(i);return new _s(i,s,e._key,o,new gu(t.hasPendingWrites,t.fromCache),e.converter)}var xV=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this)._firestore=t,s}return(0,T.ZT)(e,i),e.prototype.get=function(t){var o=this,s=Ba(t,this._firestore),u=new mu(this._firestore);return i.prototype.get.call(this,t).then(function(d){return new _s(o._firestore,u,s._key,d._document,new gu(!1,!1),s.converter)})},e}(function(){function i(e,t){this._firestore=e,this._transaction=t,this._dataReader=fu(e)}return i.prototype.get=function(e){var t=this,o=Ba(e,this._firestore),s=new MV(this._firestore);return this._transaction.lookup([o._key]).then(function(u){if(!u||1!==u.length)return We();var d=u[0];if(d.isFoundDocument())return new Rm(t._firestore,s,d.key,d,o.converter);if(d.isNoDocument())return new Rm(t._firestore,s,o._key,null,o.converter);throw We()})},i.prototype.set=function(e,t,o){var s=Ba(e,this._firestore),u=Vw(s.converter,t,o),d=kw(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,o);return this._transaction.set(s._key,d),this},i.prototype.update=function(e,t,o){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];var d,g=Ba(e,this._firestore);return d="string"==typeof(t=(0,At.m9)(t))||t instanceof So?ET(this._dataReader,"Transaction.update",g._key,t,o,s):wT(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,d),this},i.prototype.delete=function(e){var t=Ba(e,this._firestore);return this._transaction.delete(t._key),this},i}());function O1(){if("undefined"==typeof Uint8Array)throw new ye(ee.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function R1(){if("undefined"==typeof atob)throw new ye(ee.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var F1=function(){function i(e){this._delegate=e}return i.fromBase64String=function(e){return R1(),new i(du.fromBase64String(e))},i.fromUint8Array=function(e){return O1(),new i(du.fromUint8Array(e))},i.prototype.toBase64=function(){return R1(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return O1(),this._delegate.toUint8Array()},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),OV=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(e,t){return function(o,s){d1(o=Pt(o,pn));var u=qn(o),d=o._freezeSettings(),g=new pT;return c1(u,g,new GF(g,d.cacheSizeBytes,null==s?void 0:s.forceOwnership))}(e._delegate,{forceOwnership:t})},i.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){d1(t=Pt(t,pn));var o=qn(t),s=t._freezeSettings(),u=new pT;return c1(o,u,new rV(u,s.cacheSizeBytes))}(e._delegate)},i.prototype.clearIndexedDbPersistence=function(e){return function(t){var o=this;if(t._initialized&&!t._terminated)throw new ye(ee.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var s=new br;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,T.mG)(o,void 0,void 0,function(){var u;return(0,T.Jh)(this,function(d){switch(d.label){case 0:return d.trys.push([0,2,,3]),[4,function(g){return(0,T.mG)(this,void 0,void 0,function(){return(0,T.Jh)(this,function(b){switch(b.label){case 0:return dh.yt()?[4,dh.delete(g+"main")]:[2,Promise.resolve()];case 1:return b.sent(),[2]}})})}($A(t._databaseId,t._persistenceKey))];case 1:return d.sent(),s.resolve(),[3,3];case 2:return u=d.sent(),s.reject(u),[3,3];case 3:return[2]}})})}),s.promise}(e._delegate)},i}(),P1=function(){function i(e,t,o){var s=this;this._delegate=t,this.Zc=o,this.INTERNAL={delete:function(){return s.terminate()}},e instanceof Ow||(this.tu=e)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||dm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},i.prototype.useEmulator=function(e,t,o){void 0===o&&(o={}),function(s,u,d,g){var y;void 0===g&&(g={});var b=(s=Pt(s,Om))._getSettings();if("firestore.googleapis.com"!==b.host&&b.host!==u&&dm("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},b),{host:u+":"+d,ssl:!1})),g.mockUserToken){var E,C;if("string"==typeof g.mockUserToken)E=g.mockUserToken,C=ir.MOCK_USER;else{E=(0,At.Sg)(g.mockUserToken,null===(y=s._app)||void 0===y?void 0:y.options.projectId);var A=g.mockUserToken.sub||g.mockUserToken.user_id;if(!A)throw new ye(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");C=new ir(A)}s._credentials=new uV(new JF(E,C))}}(this._delegate,e,t,o)},i.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,T.mG)(t,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,WF(e)];case 1:return o=u.sent(),[4,YF(e)];case 2:return s=u.sent(),[2,(o.setNetworkEnabled(!0),d=s,g=Re(d),g.Or.delete(0),Im(g))]}var d,g})})})}(qn(Pt(this._delegate,pn)))},i.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,T.mG)(t,void 0,void 0,function(){var o,s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return[4,WF(e)];case 1:return o=u.sent(),[4,YF(e)];case 2:return s=u.sent(),[2,(o.setNetworkEnabled(!1),function(d){return(0,T.mG)(this,void 0,void 0,function(){var g;return(0,T.Jh)(this,function(y){switch(y.label){case 0:return(g=Re(d)).Or.add(0),[4,bh(g)];case 1:return y.sent(),g.Br.set("Offline"),[2]}})})}(s))]}})})})}(qn(Pt(this._delegate,pn)))},i.prototype.enablePersistence=function(e){var t=!1,o=!1;return e&&e1("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",o=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(e){var t=this,o=new br;return e.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(t,void 0,void 0,function(){var s;return(0,T.Jh)(this,function(u){switch(u.label){case 0:return s=qL,[4,yT(e)];case 1:return[2,s.apply(void 0,[u.sent(),o])]}})})}),o.promise}(qn(Pt(this._delegate,pn)))},i.prototype.onSnapshotsInSync=function(e){return o=e,function(s,u){var d=this,g=new Iw(u);return s.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(E,C){Re(E).Gr.add(C),C.next()},[4,Sh(s)];case 1:return[2,y.apply(void 0,[b.sent(),g])]}})})}),function(){g.Wo(),s.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(d,void 0,void 0,function(){var y;return(0,T.Jh)(this,function(b){switch(b.label){case 0:return y=function(E,C){Re(E).Gr.delete(C)},[4,Sh(s)];case 1:return[2,y.apply(void 0,[b.sent(),g])]}})})})}}(qn(Pt(this._delegate,pn)),Ah(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new ye(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new jw(this,s1(this._delegate,e))}catch(t){throw Rr(t,"collection()","Firestore.collection()")}},i.prototype.doc=function(e){try{return new yu(this,Fw(this._delegate,e))}catch(t){throw Rr(t,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(e){try{return new Vm(this,function(t,o){if(t=Pt(t,Om),vT("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Kr(t,null,(s=o,new gs(Ft.emptyPath(),s)));var s}(this._delegate,e))}catch(t){throw Rr(t,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(e){var o,t=this;return function(u,d){var g=this,y=new br;return u.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(g,void 0,void 0,function(){var b;return(0,T.Jh)(this,function(E){switch(E.label){case 0:return[4,(C=u,xw(C).then(function(A){return A.datastore}))];case 1:return b=E.sent(),new sV(u.asyncQueue,b,d,y).run(),[2]}var C})})}),y.promise}(qn(o=this._delegate),function(u){return function(o){return e(new k1(t,o))}(new xV(o,u))})},i.prototype.batch=function(){var e=this;return qn(this._delegate),new N1(new IV(this._delegate,function(t){return km(e._delegate,t)}))},i.prototype.loadBundle=function(e){throw new ye(ee.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(e){throw new ye(ee.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),Bw=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,T.ZT)(e,i),e.prototype.convertBytes=function(t){return new F1(new du(t))},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return yu.eu(o,this.firestore,null)},e}(AT),k1=function(){function i(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Bw(e)}return i.prototype.get=function(e){var t=this,o=vu(e);return this._delegate.get(o).then(function(s){return new Nm(t._firestore,new _s(t._firestore._delegate,t._userDataWriter,s._key,s._document,s.metadata,o.converter))})},i.prototype.set=function(e,t,o){var s=vu(e);return o?(_T("Transaction.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},i.prototype.update=function(e,t,o){for(var s,u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var g=vu(e);return 2===arguments.length?this._delegate.update(g,t):(s=this._delegate).update.apply(s,(0,T.ev)([g,t,o],u)),this},i.prototype.delete=function(e){var t=vu(e);return this._delegate.delete(t),this},i}(),N1=function(){function i(e){this._delegate=e}return i.prototype.set=function(e,t,o){var s=vu(e);return o?(_T("WriteBatch.set",o),this._delegate.set(s,t,o)):this._delegate.set(s,t),this},i.prototype.update=function(e,t,o){for(var s,u=[],d=3;d<arguments.length;d++)u[d-3]=arguments[d];var g=vu(e);return 2===arguments.length?this._delegate.update(g,t):(s=this._delegate).update.apply(s,(0,T.ev)([g,t,o],u)),this},i.prototype.delete=function(e){var t=vu(e);return this._delegate.delete(t),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),Uw=function(){function i(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}return i.prototype.fromFirestore=function(e,t){var o=new Fm(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Lm(this._firestore,o),null!=t?t:{})},i.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},i.nu=function(e,t){var o=i.su,s=o.get(e);s||(s=new WeakMap,o.set(e,s));var u=s.get(t);return u||(u=new i(e,new Bw(e),t),s.set(t,u)),u},i}();Uw.su=new WeakMap;var yu=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bw(e)}return i.iu=function(e,t,o){if(e.length%2!=0)throw new ye(ee.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new i(t,new nn(t._delegate,o,new Ze(e)))},i.eu=function(e,t,o){return new i(t,new nn(t._delegate,o,e))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new jw(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new jw(this.firestore,s1(this._delegate,e))}catch(t){throw Rr(t,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(e){return(e=(0,At.m9)(e))instanceof nn&&a1(this._delegate,e)},i.prototype.set=function(e,t){t=_T("DocumentReference.set",t);try{return function(o,s,u){o=Pt(o,nn);var d=Pt(o.firestore,pn),g=Vw(o.converter,s,u);return km(d,[kw(fu(d),"setDoc",o._key,g,null!==o.converter,u).toMutation(o._key,yr.none())])}(this._delegate,e,t)}catch(o){throw Rr(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(e,t){for(var o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];try{return 1===arguments.length?I1(this._delegate,e):I1.apply(void 0,(0,T.ev)([this._delegate,e,t],o))}catch(u){throw Rr(u,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return km(Pt((e=this._delegate).firestore,pn),[new wm(e._key,yr.none())]);var e},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=L1(t),u=V1(t,function(d){return new Nm(e.firestore,new _s(e.firestore._delegate,e._userDataWriter,d._key,d._document,d.metadata,e._delegate.converter))});return x1(this._delegate,s,u)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=Pt(o,nn);var s=Pt(o.firestore,pn),u=qn(s),d=new mu(s);return function(g,y){var b=this,E=new br;return g.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var C;return(0,T.Jh)(this,function(A){switch(A.label){case 0:return C=function(I,O,V){return(0,T.mG)(this,void 0,void 0,function(){var W,ie;return(0,T.Jh)(this,function(ge){switch(ge.label){case 0:return ge.trys.push([0,2,,3]),[4,(me=I,ke=O,Ve=Re(me),Ve.persistence.runTransaction("read document","readonly",function(ht){return Ve.Mn.mn(ht,ke)}))];case 1:return(ie=ge.sent()).isFoundDocument()?V.resolve(ie):ie.isNoDocument()?V.resolve(null):V.reject(new ye(ee.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return W=ge.sent(),ie=Ch(W,"Failed to get document '"+O+" from cache"),V.reject(ie),[3,3];case 3:return[2]}var me,ke,Ve})})},[4,mT(g)];case 1:return[2,C.apply(void 0,[A.sent(),y,E])]}})})}),E.promise}(u,o._key).then(function(g){return new _s(s,d,o._key,g,new gu(null!==g&&g.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=Pt(o,nn);var s=Pt(o.firestore,pn);return KF(qn(s),o._key,{source:"server"}).then(function(u){return TT(s,o,u)})}(this._delegate):function(o){o=Pt(o,nn);var s=Pt(o.firestore,pn);return KF(qn(s),o._key).then(function(u){return TT(s,o,u)})}(this._delegate)).then(function(o){return new Nm(t.firestore,new _s(t.firestore._delegate,t._userDataWriter,o._key,o._document,o.metadata,t._delegate.converter))})},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?Uw.nu(this.firestore,e):null))},i}();function Rr(i,e,t){return i.message=i.message.replace(e,t),i}function L1(i){for(var e=0,t=i;e<t.length;e++){var o=t[e];if("object"==typeof o&&!Ah(o))return o}return{}}function V1(i,e){var t,o,s;return{next:function(u){s.next&&s.next(e(u))},error:null===(t=(s=Ah(i[0])?i[0]:Ah(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===t?void 0:t.bind(s),complete:null===(o=s.complete)||void 0===o?void 0:o.bind(s)}}var Nm=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"ref",{get:function(){return new yu(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(e){return this._delegate.data(e)},i.prototype.get=function(e,t){return this._delegate.get(e,t)},i.prototype.isEqual=function(e){return b1(this._delegate,e._delegate)},i}(),Lm=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,T.ZT)(e,i),e.prototype.data=function(t){return this._delegate.data(t)},e}(Nm),Vm=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Bw(e)}return i.prototype.where=function(e,t,o){try{return new i(this.firestore,Va(this._delegate,(d=o,g=t,y=Lw("where",s=e),new AV(y,g,d))))}catch(s){throw Rr(s,/(orderBy|where)\(\)/,"Query.$1()")}var s,d,g,y},i.prototype.orderBy=function(e,t){try{return new i(this.firestore,Va(this._delegate,function(o,s){void 0===s&&(s="asc");var u=s,d=Lw("orderBy",o);return new TV(d,u)}(e,t)))}catch(o){throw Rr(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(e){try{return new i(this.firestore,Va(this._delegate,(r1("limit",t=e),new E1("limit",t,"F"))))}catch(t){throw Rr(t,"limit()","Query.limit()")}var t},i.prototype.limitToLast=function(e){try{return new i(this.firestore,Va(this._delegate,(r1("limitToLast",t=e),new E1("limitToLast",t,"L"))))}catch(t){throw Rr(t,"limitToLast()","Query.limitToLast()")}var t},i.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,Va(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new C1("startAt",o,!0)}.apply(void 0,e)))}catch(o){throw Rr(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,Va(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new C1("startAfter",o,!1)}.apply(void 0,e)))}catch(o){throw Rr(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,Va(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new D1("endBefore",o,!0)}.apply(void 0,e)))}catch(o){throw Rr(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,Va(this._delegate,function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return new D1("endAt",o,!1)}.apply(void 0,e)))}catch(o){throw Rr(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(e){return l1(this._delegate,e._delegate)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=Pt(o,Kr);var s=Pt(o.firestore,pn),u=qn(s),d=new mu(s);return function(g,y){var b=this,E=new br;return g.asyncQueue.enqueueAndForget(function(){return(0,T.mG)(b,void 0,void 0,function(){var C;return(0,T.Jh)(this,function(A){switch(A.label){case 0:return C=function(I,O,V){return(0,T.mG)(this,void 0,void 0,function(){var W,ie,ge,me,ke;return(0,T.Jh)(this,function(Ve){switch(Ve.label){case 0:return Ve.trys.push([0,2,,3]),[4,Dw(I,O,!0)];case 1:return ke=Ve.sent(),W=new NF(O,ke.Bn),ie=W._o(ke.documents),ge=W.applyChanges(ie,!1),V.resolve(ge.snapshot),[3,3];case 2:return me=Ve.sent(),ke=Ch(me,"Failed to execute query '"+O+" against cache"),V.reject(ke),[3,3];case 3:return[2]}})})},[4,mT(g)];case 1:return[2,C.apply(void 0,[A.sent(),y,E])]}})})}),E.promise}(u,o._query).then(function(g){return new La(s,d,o,g)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=Pt(o,Kr);var s=Pt(o.firestore,pn),u=qn(s),d=new mu(s);return ZF(u,o._query,{source:"server"}).then(function(g){return new La(s,d,o,g)})}(this._delegate):function(o){o=Pt(o,Kr);var s=Pt(o.firestore,pn),u=qn(s),d=new mu(s);return w1(o._query),ZF(u,o._query).then(function(g){return new La(s,d,o,g)})}(this._delegate)).then(function(o){return new MT(t.firestore,new La(t.firestore._delegate,t._userDataWriter,t._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var s=L1(t),u=V1(t,function(d){return new MT(e.firestore,new La(e.firestore._delegate,e._userDataWriter,e._delegate,d._snapshot))});return x1(this._delegate,s,u)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?Uw.nu(this.firestore,e):null))},i}(),FV=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new Lm(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),MT=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"query",{get:function(){return new Vm(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new Lm(e._firestore,t)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(o){return new FV(t._firestore,o)})},i.prototype.forEach=function(e,t){var o=this;this._delegate.forEach(function(s){e.call(t,new Lm(o._firestore,s))})},i.prototype.isEqual=function(e){return b1(this._delegate,e._delegate)},i}(),jw=function(i){function e(t,o){var s=this;return(s=i.call(this,t,o)||this).firestore=t,s._delegate=o,s}return(0,T.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new yu(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new yu(this.firestore,void 0===t?Fw(this._delegate):Fw(this._delegate,t))}catch(o){throw Rr(o,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var s,u,d,g,y,o=this;return(s=this._delegate,u=t,d=Pt(s.firestore,pn),g=Fw(s),y=Vw(s.converter,u),km(d,[kw(fu(s.firestore),"addDoc",g._key,y,null!==s.converter,{}).toMutation(g._key,yr.exists(!1))]).then(function(){return g})).then(function(s){return new yu(o.firestore,s)})},e.prototype.isEqual=function(t){return a1(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?Uw.nu(this.firestore,t):null))},e}(Vm);function vu(i){return Pt(i,nn)}var PV=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(So.bind.apply(So,(0,T.ev)([void 0],e)))}return i.documentId=function(){return new i(Ki.keyField().canonicalString())},i.prototype.isEqual=function(e){return(e=(0,At.m9)(e))instanceof So&&this._delegate._internalPath.isEqual(e._internalPath)},i}(),kV=function(){function i(e){this._delegate=e}return i.serverTimestamp=function(){var e=new _V("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new i(e)},i.delete=function(){var e=new bT("deleteField");return e._methodName="FieldValue.delete",new i(e)},i.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new bV("arrayUnion",s)}.apply(void 0,e);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var s=[],u=0;u<arguments.length;u++)s[u]=arguments[u];return new wV("arrayRemove",s)}.apply(void 0,e);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(e){var t=new EV("increment",e);return t._methodName="FieldValue.increment",new i(t)},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i}(),NV=x(8391),LV={Firestore:P1,GeoPoint:Pw,Timestamp:$r,Blob:F1,Transaction:k1,WriteBatch:N1,DocumentReference:yu,DocumentSnapshot:Nm,Query:Vm,QueryDocumentSnapshot:Lm,QuerySnapshot:MT,CollectionReference:jw,FieldPath:PV,FieldValue:kV,setLogLevel:function(i){Yi.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};!function(i){i.INTERNAL.registerComponent(new NV.wA("firestore",function(o){return e=o.getProvider("app").getImmediate(),t=o.getProvider("auth-internal"),new P1(e,new pn(e,t),new OV);var e,t},"PUBLIC").setServiceProps(Object.assign({},LV))),i.registerVersion("@firebase/firestore","2.4.0")}(m0.Z),x(1733),x(3174);const Hw=(0,x(4893).d)(i=>function(){i(this),this.name="EmptyError",this.message="no elements in sequence"});function U1(i){return(0,Vn.e)((e,t)=>{let o=!1;e.subscribe(new vn.Q(t,s=>{o=!0,t.next(s)},()=>{o||t.next(i),t.complete()}))})}function j1(i=GV){return(0,Vn.e)((e,t)=>{let o=!1;e.subscribe(new vn.Q(t,s=>{o=!0,t.next(s)},()=>o?t.complete():t.error(i())))})}function GV(){return new Hw}function _u(i,e){const t=arguments.length>=2;return o=>o.pipe(i?In((s,u)=>i(s,u,o)):pl.y,(0,Ur.q)(1),t?U1(e):j1(()=>new Hw))}x(5222);const Gw=new f.OlP("angularfire2.auth.use-emulator");function Y1(i,e){return function(i,e=lf.z){return new Ln.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function xT(i,e){return Y1(i,e).pipe((0,ct.U)(t=>({payload:t,type:"query"})))}function zw(i,e){return xT(i,e).pipe(Ei(void 0),Md(),(0,ct.U)(([t,o])=>{const s=o.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((d,g)=>{const y=s.find(E=>E.doc.ref.isEqual(d.ref)),b=null==t?void 0:t.payload.docs.find(E=>E.ref.isEqual(d.ref));y&&JSON.stringify(y.doc.metadata)===JSON.stringify(d.metadata)||!y&&b&&JSON.stringify(b.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:d}})}),u}))}function K1(i,e,t){return zw(i,t).pipe(jl((o,s)=>function(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return OT(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return OT(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return OT(i,e.oldIndex,1)}return i}(i,o))}),i}(o,s.map(u=>u.payload),e),[]),Rf(),(0,ct.U)(o=>o.map(s=>({type:s.type,payload:s}))))}function OT(i,e,t,...o){const s=i.slice();return s.splice(e,t,...o),s}function Z1(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Q1{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=zw(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ct.U)(o=>o.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Ei(void 0),Md(),In(([o,s])=>s.length>0||!o),(0,ct.U)(([o,s])=>s),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(jl((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Z1(e);return K1(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return xT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,jt.D)(this.query.get(e)).pipe((0,as.Q)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new J1(this.ref.doc(e),this.afs)}}class J1{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:s,query:u}=rP(o,t);return new Q1(s,u,this.afs)}snapshotChanges(){return function(i,e){return Y1(i,e).pipe(Ei(void 0),Md(),(0,ct.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ct.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,jt.D)(this.ref.get(e)).pipe((0,as.Q)(this.afs.schedulers.insideAngular))}}class ZV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zw(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),In(t=>t.length>0),this.afs.keepUnstableUntilFirst):zw(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(jl((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Z1(e);return K1(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return xT(this.query,this.afs.schedulers.outsideAngular).pipe((0,ct.U)(o=>o.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,jt.D)(this.query.get(e)).pipe((0,as.Q)(this.afs.schedulers.insideAngular))}}const X1=new f.OlP("angularfire2.enableFirestorePersistence"),eP=new f.OlP("angularfire2.firestore.persistenceSettings"),tP=new f.OlP("angularfire2.firestore.settings"),nP=new f.OlP("angularfire2.firestore.use-emulator");function rP(i,e=(t=>t)){return{query:e(i),ref:i}}let QV=(()=>{class i{constructor(t,o,s,u,d,g,y,b,E){this.schedulers=new tn.HU(g),this.keepUnstableUntilFirst=(0,tn.ss)(this.schedulers);const C=(0,tn.on)(t,g,o);!KS.Z.auth&&E&&(0,tn.yq)();const A=b;[this.firestore,this.persistenceEnabled$]=(0,tn.sI)(`${C.name}.firestore`,"AngularFirestore",C,()=>{const I=g.runOutsideAngular(()=>C.firestore());if(u&&I.settings(u),A&&I.useEmulator(...A),s&&!function(i){return"server"===i}(d)){const O=()=>{try{return(0,jt.D)(I.enablePersistence(y||void 0).then(()=>!0,()=>!1))}catch(V){return"undefined"!=typeof console&&console.warn(V),rt(!1)}};return[I,g.runOutsideAngular(O)]}return[I,rt(!1)]},[u,A,s])}collection(t,o){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=rP(s,o),g=this.schedulers.ngZone.run(()=>u);return new Q1(g,d,this)}collectionGroup(t,o){const s=o||(d=>d),u=this.firestore.collectionGroup(t);return new ZV(s(u),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>o);return new J1(s,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(tn.Dh),f.LFG(tn.xv,8),f.LFG(X1,8),f.LFG(tP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(eP,8),f.LFG(nP,8),f.LFG(Gw,8))},i.\u0275prov=f.Yz7({factory:function(){return new i(f.LFG(tn.Dh),f.LFG(tn.xv,8),f.LFG(X1,8),f.LFG(tP,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(eP,8),f.LFG(nP,8),f.LFG(Gw,8))},token:i,providedIn:"any"}),i})(),JV=(()=>{class i{constructor(t){this.fireservice=t}getData(){return this.fireservice.collection("data",t=>t.orderBy("date","desc")).get()}addData(t){this.fireservice.collection("data").add(Object.assign({},t))}deleteData(t){return this.fireservice.collection("data").doc(`${t}`).delete()}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(QV))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),XV=(()=>{class i{constructor(){}getCollection(t){return JSON.parse(localStorage.getItem(t))}setCollection(t,o){localStorage.setItem(t,JSON.stringify(o))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),qw=(()=>{class i{constructor(t,o,s,u){this.voice=t,this.model=o,this.db=s,this.ls=u}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(_y),f.LFG(YS),f.LFG(JV),f.LFG(XV))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function eB(i,e){if(1&i){const t=f.EpF();f.ynx(0),f.TgZ(1,"div",1),f._UZ(2,"br"),f._UZ(3,"br"),f._UZ(4,"br"),f._UZ(5,"br"),f._UZ(6,"br"),f._UZ(7,"br"),f._UZ(8,"br"),f._UZ(9,"br"),f._UZ(10,"br"),f._UZ(11,"br"),f._UZ(12,"br"),f._UZ(13,"br"),f._UZ(14,"br"),f._UZ(15,"br"),f._UZ(16,"br"),f._UZ(17,"br"),f._UZ(18,"br"),f._UZ(19,"br"),f.TgZ(20,"div",2),f.TgZ(21,"div",3),f.TgZ(22,"h1",4),f._uU(23," db 1.0"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(24,"div",2),f.TgZ(25,"div",3),f.TgZ(26,"mat-form-field",5),f.TgZ(27,"mat-label"),f._uU(28,"Enter Password"),f.qZA(),f.TgZ(29,"input",6),f.NdJ("ngModelChange",function(s){return f.CHM(t),f.oxw().typePass=s})("keyup",function(){return f.CHM(t),f.oxw().checkPassword()}),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.qZA(),f.BQk()}if(2&i){const t=f.oxw();f.xp6(29),f.Q6J("ngModel",t.typePass)}}function tB(i,e){if(1&i&&(f.TgZ(0,"tr"),f.TgZ(1,"th"),f._uU(2),f.qZA(),f.TgZ(3,"th"),f._uU(4),f.qZA(),f.TgZ(5,"th"),f._uU(6),f.qZA(),f.TgZ(7,"th"),f._uU(8),f.qZA(),f.qZA()),2&i){const t=e.$implicit;f.xp6(2),f.Oqu(t.name),f.xp6(2),f.Oqu(t.que),f.xp6(2),f.Oqu(t.ans),f.xp6(2),f.Oqu(t.language)}}function nB(i,e){if(1&i&&(f.ynx(0),f.TgZ(1,"table",7),f.TgZ(2,"thead"),f.TgZ(3,"tr"),f.TgZ(4,"th",8),f._uU(5,"Name"),f.qZA(),f.TgZ(6,"th",8),f._uU(7,"Question"),f.qZA(),f.TgZ(8,"th",8),f._uU(9,"Answer"),f.qZA(),f.TgZ(10,"th",8),f._uU(11,"Language"),f.qZA(),f.qZA(),f.qZA(),f.TgZ(12,"tbody"),f.YNc(13,tB,9,4,"tr",9),f.qZA(),f.qZA(),f.BQk()),2&i){const t=f.oxw();f.xp6(13),f.Q6J("ngForOf",t.data)}}let rB=(()=>{class i{constructor(t){this.$=t,this.typePass="",this.show=!0,this.data=[]}ngOnInit(){}checkPassword(){"parth499"===this.typePass&&(this.show=!this.show,this.$.db.getData().subscribe(t=>{t.docs.forEach(o=>{this.data.push(o.data())})}))}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(qw))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-admin"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[2,"color","white","font-size","50px","font-family","'Josefin Sans', sans-serif","font-weight","100"],["appearance","fill"],["onfocus","this.value = ''","type","password","matInput","",2,"color","white",3,"ngModel","ngModelChange","keyup"],[1,"table","table-hover","table-dark","text-center"],["scope","col"],[4,"ngFor","ngForOf"]],template:function(t,o){1&t&&(f.YNc(0,eB,30,1,"ng-container",0),f.YNc(1,nB,14,1,"ng-container",0)),2&t&&(f.Q6J("ngIf",o.show),f.xp6(1),f.Q6J("ngIf",!o.show))},directives:[vi,Up,aa,hg,ca,sd,kl,xu],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}"]}),i})();var iB=x(8395);function iP(i,e,t){i?(0,iB.f)(t,i,e):e()}function oP(){return(0,Vn.e)((i,e)=>{let t=null;i._refCount++;const o=new vn.Q(e,void 0,void 0,void 0,()=>{if(!i||i._refCount<=0||0<--i._refCount)return void(t=null);const s=i._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});i.subscribe(o),o.closed||(t=i.connect())})}class aB extends Ln.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Vn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ti.w0;const t=this.getSubject();e.add(this.source.subscribe(new vn.Q(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ti.w0.EMPTY)}return e}refCount(){return oP()(this)}}function Ua(i){return(0,Vn.e)((e,t)=>{let u,o=null,s=!1;o=e.subscribe(new vn.Q(t,void 0,void 0,d=>{u=(0,ro.Xf)(i(d,Ua(i)(e))),o?(o.unsubscribe(),o=null,u.subscribe(t)):s=!0})),s&&(o.unsubscribe(),o=null,u.subscribe(t))})}function Bm(i,e){return(0,Ar.m)(e)?(0,Mn.z)(i,e,1):(0,Mn.z)(i,1)}function RT(i){return i<=0?()=>la.E:(0,Vn.e)((e,t)=>{let o=[];e.subscribe(new vn.Q(t,s=>{o.push(s),i<o.length&&o.shift()},()=>{for(const s of o)t.next(s);t.complete()},void 0,()=>{o=null}))})}class bs{constructor(e,t){this.id=e,this.url=t}}class FT extends bs{constructor(e,t,o="imperative",s=null){super(e,t),this.navigationTrigger=o,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Um extends bs{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class sP extends bs{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cB extends bs{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dB extends bs{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hB extends bs{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fB extends bs{constructor(e,t,o,s,u){super(e,t),this.urlAfterRedirects=o,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class pB extends bs{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gB extends bs{constructor(e,t,o,s){super(e,t),this.urlAfterRedirects=o,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aP{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lP{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mB{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yB{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vB{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _B{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uP{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const _t="primary";class bB{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Th(i){return new bB(i)}const cP="ngNavigationCancelingError";function PT(i){const e=Error("NavigationCancelingError: "+i);return e[cP]=!0,e}function EB(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const s={};for(let u=0;u<o.length;u++){const d=o[u],g=i[u];if(d.startsWith(":"))s[d.substring(1)]=g;else if(d!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:s}}function Ao(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!dP(i[s],e[s]))return!1;return!0}function dP(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((s,u)=>o[u]===s)}return i===e}function hP(i){return Array.prototype.concat.apply([],i)}function fP(i){return i.length>0?i[i.length-1]:null}function or(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function To(i){return(0,f.CqO)(i)?i:(0,f.QGY)(i)?(0,jt.D)(Promise.resolve(i)):rt(i)}const SB={exact:function mP(i,e,t){if(!wu(i.segments,e.segments)||!$w(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!mP(i.children[o],e.children[o],t))return!1;return!0},subset:yP},pP={exact:function(i,e){return Ao(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>dP(i[t],e[t]))},ignored:()=>!0};function gP(i,e,t){return SB[t.paths](i.root,e.root,t.matrixParams)&&pP[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function yP(i,e,t){return vP(i,e,e.segments,t)}function vP(i,e,t,o){if(i.segments.length>t.length){const s=i.segments.slice(0,t.length);return!(!wu(s,t)||e.hasChildren()||!$w(s,t,o))}if(i.segments.length===t.length){if(!wu(i.segments,t)||!$w(i.segments,t,o))return!1;for(const s in e.children)if(!i.children[s]||!yP(i.children[s],e.children[s],o))return!1;return!0}{const s=t.slice(0,i.segments.length),u=t.slice(i.segments.length);return!!(wu(i.segments,s)&&$w(i.segments,s,o)&&i.children[_t])&&vP(i.children[_t],e,u,o)}}function $w(i,e,t){return e.every((o,s)=>pP[t](i[s].parameters,o.parameters))}class bu{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return xB.serialize(this)}}class Dt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,or(t,(o,s)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ww(this)}}class jm{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Th(this.parameters)),this._parameterMap}toString(){return CP(this)}}function wu(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class _P{}class bP{parse(e){const t=new BB(e);return new bu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Hm(e.root,!0)}`,o=function(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(s=>`${Yw(t)}=${Yw(s)}`).join("&"):`${Yw(t)}=${Yw(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams),s="string"==typeof e.fragment?`#${function(i){return encodeURI(i)}(e.fragment)}`:"";return`${t}${o}${s}`}}const xB=new bP;function Ww(i){return i.segments.map(e=>CP(e)).join("/")}function Hm(i,e){if(!i.hasChildren())return Ww(i);if(e){const t=i.children[_t]?Hm(i.children[_t],!1):"",o=[];return or(i.children,(s,u)=>{u!==_t&&o.push(`${u}:${Hm(s,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function(i,e){let t=[];return or(i.children,(o,s)=>{s===_t&&(t=t.concat(e(o,s)))}),or(i.children,(o,s)=>{s!==_t&&(t=t.concat(e(o,s)))}),t}(i,(o,s)=>s===_t?[Hm(i.children[_t],!1)]:[`${s}:${Hm(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[_t]?`${Ww(i)}/${t[0]}`:`${Ww(i)}/(${t.join("//")})`}}function wP(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yw(i){return wP(i).replace(/%3B/gi,";")}function kT(i){return wP(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kw(i){return decodeURIComponent(i)}function EP(i){return Kw(i.replace(/\+/g,"%20"))}function CP(i){return`${kT(i.path)}${function(i){return Object.keys(i).map(e=>`;${kT(e)}=${kT(i[e])}`).join("")}(i.parameters)}`}const PB=/^[^\/()?;=#]+/;function Zw(i){const e=i.match(PB);return e?e[0]:""}const kB=/^[^=?&#]+/,LB=/^[^&#]+/;class BB{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dt([],{}):new Dt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[_t]=new Dt(e,t)),o}parseSegment(){const e=Zw(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new jm(Kw(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zw(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const s=Zw(this.remaining);s&&(o=s,this.capture(o))}e[Kw(t)]=Kw(o)}parseQueryParam(e){const t=function(i){const e=i.match(kB);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=function(i){const e=i.match(LB);return e?e[0]:""}(this.remaining);d&&(o=d,this.capture(o))}const s=EP(t),u=EP(o);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Zw(this.remaining),s=this.remaining[o.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;o.indexOf(":")>-1?(u=o.substr(0,o.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=_t);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[_t]:new Dt([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class DP{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=NT(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=NT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=LT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return LT(e,this._root).map(t=>t.value)}}function NT(i,e){if(i===e.value)return e;for(const t of e.children){const o=NT(i,t);if(o)return o}return null}function LT(i,e){if(i===e.value)return[e];for(const t of e.children){const o=LT(i,t);if(o.length)return o.unshift(e),o}return[]}class ws{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mh(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class SP extends DP{constructor(e,t){super(e),this.snapshot=t,VT(this,e)}toString(){return this.snapshot.toString()}}function AP(i,e){const t=function(i,e){const d=new Qw([],{},{},"",{},_t,e,null,i.root,-1,{});return new MP("",new ws(d,[]))}(i,e),o=new dr([new jm("",{})]),s=new dr({}),u=new dr({}),d=new dr({}),g=new dr(""),y=new Ih(o,s,d,g,u,_t,e,t.root);return y.snapshot=t.root,new SP(new ws(y,[]),t)}class Ih{constructor(e,t,o,s,u,d,g,y){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=u,this.outlet=d,this.component=g,this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(e=>Th(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(e=>Th(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function TP(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const s=t[o],u=t[o-1];if(s.routeConfig&&""===s.routeConfig.path)o--;else{if(u.component)break;o--}}return function(i){return i.reduce((e,t)=>({params:Ne(Ne({},e.params),t.params),data:Ne(Ne({},e.data),t.data),resolve:Ne(Ne({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Qw{constructor(e,t,o,s,u,d,g,y,b,E,C){this.url=e,this.params=t,this.queryParams=o,this.fragment=s,this.data=u,this.outlet=d,this.component=g,this.routeConfig=y,this._urlSegment=b,this._lastPathIndex=E,this._resolve=C}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Th(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Th(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class MP extends DP{constructor(e,t){super(t),this.url=e,VT(this,t)}toString(){return IP(this._root)}}function VT(i,e){e.value._routerState=i,e.children.forEach(t=>VT(i,t))}function IP(i){const e=i.children.length>0?` { ${i.children.map(IP).join(", ")} } `:"";return`${i.value}${e}`}function BT(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Ao(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),Ao(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Ao(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),Ao(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function UT(i,e){const t=Ao(i.params,e.params)&&function(i,e){return wu(i,e)&&i.every((t,o)=>Ao(t.parameters,e[o].parameters))}(i.url,e.url);return t&&!(!i.parent!=!e.parent)&&(!i.parent||UT(i.parent,e.parent))}function Gm(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const s=function(i,e,t){return e.children.map(o=>{for(const s of t.children)if(i.shouldReuseRoute(o.value,s.value.snapshot))return Gm(i,o,s);return Gm(i,o)})}(i,e,t);return new ws(o,s)}{if(i.shouldAttach(e.value)){const u=i.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(g=>Gm(i,g)),d}}const o=function(i){return new Ih(new dr(i.url),new dr(i.params),new dr(i.queryParams),new dr(i.fragment),new dr(i.data),i.outlet,i.component,i)}(e.value),s=e.children.map(u=>Gm(i,u));return new ws(o,s)}}function Jw(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function zm(i){return"object"==typeof i&&null!=i&&i.outlets}function jT(i,e,t,o,s){let u={};return o&&or(o,(d,g)=>{u[g]=Array.isArray(d)?d.map(y=>`${y}`):`${d}`}),new bu(t.root===i?e:xP(t.root,i,e),u,s)}function xP(i,e,t){const o={};return or(i.children,(s,u)=>{o[u]=s===e?t:xP(s,e,t)}),new Dt(i.segments,o)}class OP{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&Jw(o[0]))throw new Error("Root segment cannot have matrix parameters");const s=o.find(zm);if(s&&s!==fP(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class HT{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function RP(i,e,t){if(i||(i=new Dt([],{})),0===i.segments.length&&i.hasChildren())return Xw(i,e,t);const o=function(i,e,t){let o=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<i.segments.length;){if(o>=t.length)return u;const d=i.segments[s],g=t[o];if(zm(g))break;const y=`${g}`,b=o<t.length-1?t[o+1]:null;if(s>0&&void 0===y)break;if(y&&b&&"object"==typeof b&&void 0===b.outlets){if(!PP(y,b,d))return u;o+=2}else{if(!PP(y,{},d))return u;o++}s++}return{match:!0,pathIndex:s,commandIndex:o}}(i,e,t),s=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const u=new Dt(i.segments.slice(0,o.pathIndex),{});return u.children[_t]=new Dt(i.segments.slice(o.pathIndex),i.children),Xw(u,0,s)}return o.match&&0===s.length?new Dt(i.segments,{}):o.match&&!i.hasChildren()?GT(i,e,t):o.match?Xw(i,0,s):GT(i,e,t)}function Xw(i,e,t){if(0===t.length)return new Dt(i.segments,{});{const o=function(i){return zm(i[0])?i[0].outlets:{[_t]:i}}(t),s={};return or(o,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=RP(i.children[d],e,u))}),or(i.children,(u,d)=>{void 0===o[d]&&(s[d]=u)}),new Dt(i.segments,s)}}function GT(i,e,t){const o=i.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(zm(u)){const y=QB(u.outlets);return new Dt(o,y)}if(0===s&&Jw(t[0])){o.push(new jm(i.segments[e].path,FP(t[0]))),s++;continue}const d=zm(u)?u.outlets[_t]:`${u}`,g=s<t.length-1?t[s+1]:null;d&&g&&Jw(g)?(o.push(new jm(d,FP(g))),s+=2):(o.push(new jm(d,{})),s++)}return new Dt(o,{})}function QB(i){const e={};return or(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=GT(new Dt([],{}),0,t))}),e}function FP(i){const e={};return or(i,(t,o)=>e[o]=`${t}`),e}function PP(i,e,t){return i==t.path&&Ao(e,t.parameters)}class XB{constructor(e,t,o,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=s}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),BT(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const s=Mh(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],o),delete s[d]}),or(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,o)})}deactivateRoutes(e,t,o){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=o.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,o);else u&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet),s=o&&e.value.component?o.children:t,u=Mh(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(o&&o.outlet){const d=o.outlet.detach(),g=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),s=o&&e.value.component?o.children:t,u=Mh(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const s=Mh(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],o),this.forwardEvent(new _B(u.value.snapshot))}),e.children.length&&this.forwardEvent(new yB(e.value.snapshot))}activateRoutes(e,t,o){const s=e.value,u=t?t.value:null;if(BT(s),s===u)if(s.component){const d=o.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,o);else if(s.component){const d=o.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(g.contexts),d.attachRef=g.componentRef,d.route=g.route.value,d.outlet&&d.outlet.attach(g.componentRef,g.route.value),BT(g.route.value),this.activateChildRoutes(e,null,d.children)}else{const g=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),y=g?g.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=y,d.outlet&&d.outlet.activateWith(s,y),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,o)}}class zT{constructor(e,t){this.routes=e,this.module=t}}function ja(i){return"function"==typeof i}function Eu(i){return i instanceof bu}const qm=Symbol("INITIAL_VALUE");function $m(){return fn(i=>function(...i){const e=(0,no.yG)(i),t=(0,no.jO)(i),{args:o,keys:s}=Sl(i);if(0===o.length)return(0,jt.D)([],e);const u=new Ln.y(function(i,e,t=pl.y){return o=>{iP(e,()=>{const{length:s}=i,u=new Array(s);let d=s,g=s;for(let y=0;y<s;y++)iP(e,()=>{const b=(0,jt.D)(i[y],e);let E=!1;b.subscribe(new vn.Q(o,C=>{u[y]=C,E||(E=!0,g--),g||o.next(t(u.slice()))},()=>{--d||o.complete()}))},o)},o)}}(o,e,s?d=>Al(s,d):pl.y));return t?u.pipe(Is(t)):u}(i.map(e=>e.pipe((0,Ur.q)(1),Ei(qm)))).pipe(jl((e,t)=>{let o=!1;return t.reduce((s,u,d)=>s!==qm?s:(u===qm&&(o=!0),o||!1!==u&&d!==t.length-1&&!Eu(u)?s:u),e)},qm),In(e=>e!==qm),(0,ct.U)(e=>Eu(e)?e:!0===e),(0,Ur.q)(1)))}class a2{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wm,this.attachRef=null}}class Wm{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new a2,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let qT=(()=>{class i{constructor(t,o,s,u,d){this.parentContexts=t,this.location=o,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=u||_t,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,y=new l2(t,g,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,y),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(Wm),f.Y36(f.s_b),f.Y36(f._Vd),f.$8M("name"),f.Y36(f.sBO))},i.\u0275dir=f.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),i})();class l2{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===Ih?this.route:e===Wm?this.childContexts:this.parent.get(e,t)}}let kP=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&f._UZ(0,"router-outlet")},directives:[qT],encapsulation:2}),i})();function NP(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];u2(o,c2(e,o))}}function u2(i,e){i.children&&NP(i.children,e)}function c2(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function $T(i){const e=i.children&&i.children.map($T),t=e?Fn(Ne({},i),{children:e}):Ne({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_t&&(t.component=kP),t}function Oi(i){return i.outlet||_t}function LP(i,e){const t=i.filter(o=>Oi(o)===e);return t.push(...i.filter(o=>Oi(o)!==e)),t}const VP={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function eE(i,e,t){var g;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Ne({},VP):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const s=(e.matcher||EB)(t,i,e);if(!s)return Ne({},VP);const u={};or(s.posParams,(y,b)=>{u[b]=y.path});const d=s.consumed.length>0?Ne(Ne({},u),s.consumed[s.consumed.length-1].parameters):u;return{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:d,positionalParamSegments:null!=(g=s.posParams)?g:{}}}function tE(i,e,t,o,s="corrected"){if(t.length>0&&function(i,e,t){return t.some(o=>nE(i,e,o)&&Oi(o)!==_t)}(i,t,o)){const d=new Dt(e,function(i,e,t,o){const s={};s[_t]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Oi(u)!==_t){const d=new Dt([],{});d._sourceSegment=i,d._segmentIndexShift=e.length,s[Oi(u)]=d}return s}(i,e,o,new Dt(t,i.children)));return d._sourceSegment=i,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(o=>nE(i,e,o))}(i,t,o)){const d=new Dt(i.segments,function(i,e,t,o,s,u){const d={};for(const g of o)if(nE(i,t,g)&&!s[Oi(g)]){const y=new Dt([],{});y._sourceSegment=i,y._segmentIndexShift="legacy"===u?i.segments.length:e.length,d[Oi(g)]=y}return Ne(Ne({},s),d)}(i,e,t,o,i.children,s));return d._sourceSegment=i,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Dt(i.segments,i.children);return u._sourceSegment=i,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function nE(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function BP(i,e,t,o){return!!(Oi(i)===o||o!==_t&&nE(e,t,i))&&("**"===i.path||eE(e,i,t).matched)}function UP(i,e,t){return 0===e.length&&!i.children[t]}class Ym{constructor(e){this.segmentGroup=e||null}}class jP{constructor(e){this.urlTree=e}}function rE(i){return new Ln.y(e=>e.error(new Ym(i)))}function HP(i){return new Ln.y(e=>e.error(new jP(i)))}function g2(i){return new Ln.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class v2{constructor(e,t,o,s,u){this.configLoader=t,this.urlSerializer=o,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(f.h0i)}apply(){const e=tE(this.urlTree.root,[],[],this.config).segmentGroup,t=new Dt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,_t).pipe((0,ct.U)(u=>this.createUrlTree(WT(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ua(u=>{if(u instanceof jP)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Ym?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,_t).pipe((0,ct.U)(s=>this.createUrlTree(WT(s),e.queryParams,e.fragment))).pipe(Ua(s=>{throw s instanceof Ym?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const s=e.segments.length>0?new Dt([],{[_t]:e}):e;return new bu(s,t,o)}expandSegmentGroup(e,t,o,s){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe((0,ct.U)(u=>new Dt([],u))):this.expandSegment(e,o,t,o.segments,s,!0)}expandChildren(e,t,o){const s=[];for(const u of Object.keys(o.children))"primary"===u?s.unshift(u):s.push(u);return(0,jt.D)(s).pipe(Bm(u=>{const d=o.children[u],g=LP(t,u);return this.expandSegmentGroup(e,g,d,u).pipe((0,ct.U)(y=>({segment:y,outlet:u})))}),jl((u,d)=>(u[d.outlet]=d.segment,u),{}),function(i,e){const t=arguments.length>=2;return o=>o.pipe(i?In((s,u)=>i(s,u,o)):pl.y,RT(1),t?U1(e):j1(()=>new Hw))}())}expandSegment(e,t,o,s,u,d){return(0,jt.D)(o).pipe(Bm(g=>this.expandSegmentAgainstRoute(e,t,o,g,s,u,d).pipe(Ua(b=>{if(b instanceof Ym)return rt(null);throw b}))),_u(g=>!!g),Ua((g,y)=>{if(g instanceof Hw||"EmptyError"===g.name){if(UP(t,s,u))return rt(new Dt([],{}));throw new Ym(t)}throw g}))}expandSegmentAgainstRoute(e,t,o,s,u,d,g){return BP(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d):rE(t):rE(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,s){const u=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?HP(u):this.lineralizeSegments(o,u).pipe((0,Mn.z)(d=>{const g=new Dt(d,{});return this.expandSegment(e,g,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,s,u,d){const{matched:g,consumedSegments:y,lastChild:b,positionalParamSegments:E}=eE(t,s,u);if(!g)return rE(t);const C=this.applyRedirectCommands(y,s.redirectTo,E);return s.redirectTo.startsWith("/")?HP(C):this.lineralizeSegments(s,C).pipe((0,Mn.z)(A=>this.expandSegment(e,t,o,A.concat(u.slice(b)),d,!1)))}matchSegmentAgainstRoute(e,t,o,s,u){if("**"===o.path)return o.loadChildren?(o._loadedConfig?rt(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe((0,ct.U)(A=>(o._loadedConfig=A,new Dt(s,{})))):rt(new Dt(s,{}));const{matched:d,consumedSegments:g,lastChild:y}=eE(t,o,s);if(!d)return rE(t);const b=s.slice(y);return this.getChildConfig(e,o,s).pipe((0,Mn.z)(C=>{const A=C.module,I=C.routes,{segmentGroup:O,slicedSegments:V}=tE(t,g,b,I),W=new Dt(O.segments,O.children);if(0===V.length&&W.hasChildren())return this.expandChildren(A,I,W).pipe((0,ct.U)(ke=>new Dt(g,ke)));if(0===I.length&&0===V.length)return rt(new Dt(g,{}));const ie=Oi(o)===u;return this.expandSegment(A,W,I,V,ie?_t:u,!0).pipe((0,ct.U)(me=>new Dt(g.concat(me.segments),me.children)))}))}getChildConfig(e,t,o){return t.children?rt(new zT(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?rt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe((0,Mn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,ct.U)(u=>(t._loadedConfig=u,u))):function(i){return new Ln.y(e=>e.error(PT(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`)))}(t))):rt(new zT([],e))}runCanLoadGuards(e,t,o){const s=t.canLoad;if(!s||0===s.length)return rt(!0);const u=s.map(d=>{const g=e.get(d);let y;if(function(i){return i&&ja(i.canLoad)}(g))y=g.canLoad(t,o);else{if(!ja(g))throw new Error("Invalid CanLoad guard");y=g(t,o)}return To(y)});return rt(u).pipe($m(),(0,_n.b)(d=>{if(!Eu(d))return;const g=PT(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw g.url=d,g}),(0,ct.U)(d=>!0===d))}lineralizeSegments(e,t){let o=[],s=t.root;for(;;){if(o=o.concat(s.segments),0===s.numberOfChildren)return rt(o);if(s.numberOfChildren>1||!s.children[_t])return g2(e.redirectTo);s=s.children[_t]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,s){const u=this.createSegmentGroup(e,t.root,o,s);return new bu(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return or(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);o[u]=t[g]}else o[u]=s}),o}createSegmentGroup(e,t,o,s){const u=this.createSegments(e,t.segments,o,s);let d={};return or(t.children,(g,y)=>{d[y]=this.createSegmentGroup(e,g,o,s)}),new Dt(u,d)}createSegments(e,t,o,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,o))}findPosParam(e,t,o){const s=o[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let o=0;for(const s of t){if(s.path===e.path)return t.splice(o),s;o++}return e}}function WT(i){const e={};for(const o of Object.keys(i.children)){const u=WT(i.children[o]);(u.segments.length>0||u.hasChildren())&&(e[o]=u)}return function(i){if(1===i.numberOfChildren&&i.children[_t]){const e=i.children[_t];return new Dt(i.segments.concat(e.segments),e.children)}return i}(new Dt(i.segments,e))}class GP{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class iE{constructor(e,t){this.component=e,this.route=t}}function w2(i,e,t){const o=i._root;return Km(o,e?e._root:null,t,[o.value])}function oE(i,e,t){const o=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function Km(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mh(e);return i.children.forEach(d=>{(function(i,e,t,o,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=i.value,d=e?e.value:null,g=t?t.getContext(i.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const y=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!wu(i.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(i.url,e.url)||!Ao(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!UT(i,e)||!Ao(i.queryParams,e.queryParams);default:return!UT(i,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);y?s.canActivateChecks.push(new GP(o)):(u.data=d.data,u._resolvedData=d._resolvedData),Km(i,e,u.component?g?g.children:null:t,o,s),y&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new iE(g.outlet.component,d))}else d&&Zm(e,g,s),s.canActivateChecks.push(new GP(o)),Km(i,null,u.component?g?g.children:null:t,o,s)})(d,u[d.value.outlet],t,o.concat([d.value]),s),delete u[d.value.outlet]}),or(u,(d,g)=>Zm(d,t.getContext(g),s)),s}function Zm(i,e,t){const o=Mh(i),s=i.value;or(o,(u,d)=>{Zm(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new iE(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class P2{}function zP(i){return new Ln.y(e=>e.error(i))}class N2{constructor(e,t,o,s,u,d){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=tE(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,_t);if(null===t)return null;const o=new Qw([],Object.freeze({}),Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,{},_t,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ws(o,t),u=new MP(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,o=TP(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const u of Object.keys(t.children)){const d=t.children[u],g=LP(e,u),y=this.processSegmentGroup(g,d,u);if(null===y)return null;o.push(...y)}const s=qP(o);return function(i){i.sort((e,t)=>e.value.outlet===_t?-1:t.value.outlet===_t?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,o,s){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,o,s);if(null!==d)return d}return UP(t,o,s)?[]:null}processSegmentAgainstRoute(e,t,o,s){if(e.redirectTo||!BP(e,t,o,s))return null;let u,d=[],g=[];if("**"===e.path){const I=o.length>0?fP(o).parameters:{};u=new Qw(o,I,Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,YP(e),Oi(e),e.component,e,$P(t),WP(t)+o.length,KP(e))}else{const I=eE(t,e,o);if(!I.matched)return null;d=I.consumedSegments,g=o.slice(I.lastChild),u=new Qw(d,I.parameters,Object.freeze(Ne({},this.urlTree.queryParams)),this.urlTree.fragment,YP(e),Oi(e),e.component,e,$P(t),WP(t)+d.length,KP(e))}const y=function(i){return i.children?i.children:i.loadChildren?i._loadedConfig.routes:[]}(e),{segmentGroup:b,slicedSegments:E}=tE(t,d,g,y.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution);if(0===E.length&&b.hasChildren()){const I=this.processChildren(y,b);return null===I?null:[new ws(u,I)]}if(0===y.length&&0===E.length)return[new ws(u,[])];const C=Oi(e)===s,A=this.processSegment(y,b,E,C?_t:s);return null===A?null:[new ws(u,A)]}}function B2(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function qP(i){const e=[],t=new Set;for(const o of i){if(!B2(o)){e.push(o);continue}const s=e.find(u=>o.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...o.children),t.add(s)):e.push(o)}for(const o of t){const s=qP(o.children);e.push(new ws(o.value,s))}return e.filter(o=>!t.has(o))}function $P(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function WP(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function YP(i){return i.data||{}}function KP(i){return i.resolve||{}}function YT(i){return fn(e=>{const t=i(e);return t?(0,jt.D)(t).pipe((0,ct.U)(()=>e)):rt(e)})}class W2 extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const KT=new f.OlP("ROUTES");class ZP{constructor(e,t,o,s){this.injector=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,ct.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new zT(hP(d.injector.get(KT,void 0,f.XFs.Self|f.XFs.Optional)).map($T),d)}),Ua(u=>{throw t._loader$=void 0,u}));return t._loader$=new aB(s,()=>new gt.x).pipe(oP()),t._loader$}loadModuleFactory(e){return To(e()).pipe((0,Mn.z)(t=>t instanceof f.YKP?rt(t):(0,jt.D)(this.compiler.compileModuleAsync(t))))}}class K2{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Z2(i){throw i}function Q2(i,e,t){return e.parse("/")}function QP(i,e){return rt(null)}const J2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class i{constructor(t,o,s,u,d,g,y){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=s,this.location=u,this.config=y,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new gt.x,this.errorHandler=Z2,this.malformedUriErrorHandler=Q2,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:QP,afterPreactivation:QP},this.urlHandlingStrategy=new K2,this.routeReuseStrategy=new W2,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(f.h0i),this.console=d.get(f.c2e);const C=d.get(f.R0b);this.isNgZoneEnabled=C instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(y),this.currentUrlTree=new bu(new Dt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ZP(d,g,A=>this.triggerEvent(new aP(A)),A=>this.triggerEvent(new lP(A))),this.routerState=AP(this.currentUrlTree,this.rootComponentType),this.transitions=new dr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null==(t=this.location.getState())?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(In(s=>0!==s.id),(0,ct.U)(s=>Fn(Ne({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),fn(s=>{let u=!1,d=!1;return rt(s).pipe((0,_n.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Fn(Ne({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),fn(g=>{const y=this.browserUrlTree.toString(),b=!this.navigated||g.extractedUrl.toString()!==y||y!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl))return sE(g.source)&&(this.browserUrlTree=g.extractedUrl),rt(g).pipe(fn(C=>{const A=this.transitions.getValue();return o.next(new FT(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),A!==this.transitions.getValue()?la.E:Promise.resolve(C)}),function(i,e,t,o){return fn(s=>function(i,e,t,o,s){return new v2(i,e,t,o,s).apply()}(i,e,t,s.extractedUrl,o).pipe((0,ct.U)(u=>Fn(Ne({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,_n.b)(C=>{this.currentNavigation=Fn(Ne({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,e,t,o,s){return(0,Mn.z)(u=>function(i,e,t,o,s="emptyOnly",u="legacy"){try{const d=new N2(i,e,t,o,s,u).recognize();return null===d?zP(new P2):rt(d)}catch(d){return zP(d)}}(i,e,u.urlAfterRedirects,t(u.urlAfterRedirects),o,s).pipe((0,ct.U)(d=>Fn(Ne({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,_n.b)(C=>{if("eager"===this.urlUpdateStrategy){if(!C.extras.skipLocationChange){const I=this.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);this.setBrowserUrl(I,C)}this.browserUrlTree=C.urlAfterRedirects}const A=new dB(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(A)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:A,extractedUrl:I,source:O,restoredState:V,extras:W}=g,ie=new FT(A,this.serializeUrl(I),O,V);o.next(ie);const ge=AP(I,this.rootComponentType).snapshot;return rt(Fn(Ne({},g),{targetSnapshot:ge,urlAfterRedirects:I,extras:Fn(Ne({},W),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,g.resolve(null),la.E}),YT(g=>{const{targetSnapshot:y,id:b,extractedUrl:E,rawUrl:C,extras:{skipLocationChange:A,replaceUrl:I}}=g;return this.hooks.beforePreactivation(y,{navigationId:b,appliedUrlTree:E,rawUrlTree:C,skipLocationChange:!!A,replaceUrl:!!I})}),(0,_n.b)(g=>{const y=new hB(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(y)}),(0,ct.U)(g=>Fn(Ne({},g),{guards:w2(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,e){return(0,Mn.z)(t=>{const{targetSnapshot:o,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?rt(Fn(Ne({},t),{guardsResult:!0})):function(i,e,t,o){return(0,jt.D)(i).pipe((0,Mn.z)(s=>function(i,e,t,o,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?rt(u.map(g=>{const y=oE(g,e,s);let b;if(function(i){return i&&ja(i.canDeactivate)}(y))b=To(y.canDeactivate(i,e,t,o));else{if(!ja(y))throw new Error("Invalid CanDeactivate guard");b=To(y(i,e,t,o))}return b.pipe(_u())})).pipe($m()):rt(!0)}(s.component,s.route,t,e,o)),_u(s=>!0!==s,!0))}(d,o,s,i).pipe((0,Mn.z)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,e,t,o){return(0,jt.D)(e).pipe(Bm(s=>po(function(i,e){return null!==i&&e&&e(new mB(i)),rt(!0)}(s.route.parent,o),function(i,e){return null!==i&&e&&e(new vB(i)),rt(!0)}(s.route,o),function(i,e,t){const o=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Jc(()=>rt(d.guards.map(y=>{const b=oE(y,d.node,t);let E;if(function(i){return i&&ja(i.canActivateChild)}(b))E=To(b.canActivateChild(o,i));else{if(!ja(b))throw new Error("Invalid CanActivateChild guard");E=To(b(o,i))}return E.pipe(_u())})).pipe($m())));return rt(u).pipe($m())}(i,s.path,t),function(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return rt(!0);const s=o.map(u=>Jc(()=>{const d=oE(u,e,t);let g;if(function(i){return i&&ja(i.canActivate)}(d))g=To(d.canActivate(e,i));else{if(!ja(d))throw new Error("Invalid CanActivate guard");g=To(d(e,i))}return g.pipe(_u())}));return rt(s).pipe($m())}(i,s.route,t))),_u(s=>!0!==s,!0))}(o,u,i,e):rt(g)),(0,ct.U)(g=>Fn(Ne({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,_n.b)(g=>{if(Eu(g.guardsResult)){const b=PT(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw b.url=g.guardsResult,b}const y=new fB(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(y)}),In(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),YT(g=>{if(g.guards.canActivateChecks.length)return rt(g).pipe((0,_n.b)(y=>{const b=new pB(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}),fn(y=>{let b=!1;return rt(y).pipe(function(i,e){return(0,Mn.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:s}}=t;if(!s.length)return rt(t);let u=0;return(0,jt.D)(s).pipe(Bm(d=>function(i,e,t,o){return function(i,e,t,o){const s=Object.keys(i);if(0===s.length)return rt({});const u={};return(0,jt.D)(s).pipe((0,Mn.z)(d=>function(i,e,t,o){const s=oE(i,e,o);return To(s.resolve?s.resolve(e,t):s(e,t))}(i[d],e,t,o).pipe((0,_n.b)(g=>{u[d]=g}))),RT(1),(0,Mn.z)(()=>Object.keys(u).length===s.length?rt(u):la.E))}(i._resolve,i,e,o).pipe((0,ct.U)(u=>(i._resolvedData=u,i.data=Ne(Ne({},i.data),TP(i,t).resolve),null)))}(d.route,o,i,e)),(0,_n.b)(()=>u++),RT(1),(0,Mn.z)(d=>u===s.length?rt(t):la.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,_n.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(y),this.cancelNavigationTransition(y,"At least one route resolver didn't emit any value."))}}))}),(0,_n.b)(y=>{const b=new gB(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(b)}))}),YT(g=>{const{targetSnapshot:y,id:b,extractedUrl:E,rawUrl:C,extras:{skipLocationChange:A,replaceUrl:I}}=g;return this.hooks.afterPreactivation(y,{navigationId:b,appliedUrlTree:E,rawUrlTree:C,skipLocationChange:!!A,replaceUrl:!!I})}),(0,ct.U)(g=>{const y=function(i,e,t){const o=Gm(i,e._root,t?t._root:void 0);return new SP(o,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Fn(Ne({},g),{targetRouterState:y})}),(0,_n.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,e,t)=>(0,ct.U)(o=>(new XB(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,_n.b)({next(){u=!0},complete(){u=!0}}),function(i){return(0,Vn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(i)}})}(()=>{var g;u||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null==(g=this.currentNavigation)?void 0:g.id)===s.id&&(this.currentNavigation=null)}),Ua(g=>{if(d=!0,function(i){return i&&i[cP]}(g)){const y=Eu(g.url);y||(this.navigated=!0,this.restoreHistory(s,!0));const b=new sP(s.id,this.serializeUrl(s.extractedUrl),g.message);o.next(b),y?setTimeout(()=>{const E=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),C={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sE(s.source)};this.scheduleNavigation(E,"imperative",null,C,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const y=new cB(s.id,this.serializeUrl(s.extractedUrl),g);o.next(y);try{s.resolve(this.errorHandler(g))}catch(b){s.reject(b)}}return la.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Ne(Ne({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var g;const s={replaceUrl:!0},u=(null==(g=t.state)?void 0:g.navigationId)?t.state:null;if(u){const y=Ne({},u);delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(s.state=y)}const d=this.parseUrl(t.url);this.scheduleNavigation(d,o,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){NP(t),this.config=t.map($T),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:g,preserveFragment:y}=o,b=s||this.routerState.root,E=y?this.currentUrlTree.fragment:d;let C=null;switch(g){case"merge":C=Ne(Ne({},this.currentUrlTree.queryParams),u);break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),function(i,e,t,o,s){if(0===t.length)return jT(e.root,e.root,e,o,s);const u=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new OP(!0,0,i);let e=0,t=!1;const o=i.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return or(u.outlets,(y,b)=>{g[b]="string"==typeof y?y.split("/"):y}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((g,y)=>{0==y&&"."===g||(0==y&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new OP(t,e,o)}(t);if(u.toRoot())return jT(e.root,new Dt([],{}),e,o,s);const d=function(i,e,t){if(i.isAbsolute)return new HT(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new HT(u,u===e.root,0)}const o=Jw(i.commands[0])?0:1;return function(i,e,t){let o=i,s=e,u=t;for(;u>s;){if(u-=s,o=o.parent,!o)throw new Error("Invalid number of '../'");s=o.segments.length}return new HT(o,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(u,e,i),g=d.processChildren?Xw(d.segmentGroup,d.index,u.commands):RP(d.segmentGroup,d.index,u.commands);return jT(d.segmentGroup,g,e,o,s)}(b,this.currentUrlTree,t,C,null!=E?E:null)}navigateByUrl(t,o={skipLocationChange:!1}){const s=Eu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(s){o=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return o}isActive(t,o){let s;if(s=!0===o?Ne({},J2):!1===o?Ne({},X2):o,Eu(t))return gP(this.currentUrlTree,t,s);const u=this.parseUrl(t);return gP(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((o,s)=>{const u=t[s];return null!=u&&(o[s]=u),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Um(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,s,u,d){var ie,ge,me;if(this.disposed)return Promise.resolve(!1);const g=this.transitions.value,y=sE(o)&&g&&!sE(g.source),b=g.rawUrl.toString()===t.toString(),E=g.id===(null==(ie=this.currentNavigation)?void 0:ie.id);if(y&&b&&E)return Promise.resolve(!0);let A,I,O;d?(A=d.resolve,I=d.reject,O=d.promise):O=new Promise((ke,Ve)=>{A=ke,I=Ve});const V=++this.navigationId;let W;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),W=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!=(ge=this.browserPageId)?ge:0:(null!=(me=this.browserPageId)?me:0)+1):W=0,this.setTransition({id:V,targetPageId:W,source:o,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:A,reject:I,promise:O,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),O.catch(ke=>Promise.reject(ke))}setBrowserUrl(t,o){const s=this.urlSerializer.serialize(t),u=Ne(Ne({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(s)||o.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,o=!1){var s,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null==(s=this.currentNavigation)?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null==(u=this.currentNavigation)?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const s=new sP(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){f.$Z()},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function sE(i){return"imperative"!==i}class JP{}class XP{preload(e,t){return rt(null)}}let ek=(()=>{class i{constructor(t,o,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new ZP(s,o,y=>t.triggerEvent(new aP(y)),y=>t.triggerEvent(new lP(y)))}setUpPreloading(){this.subscription=this.router.events.pipe(In(t=>t instanceof Um),Bm(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(f.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const s=[];for(const u of o)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,jt.D)(s).pipe((0,Dl.J)(),(0,ct.U)(u=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?rt(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,Mn.z)(u=>(o._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(fi),f.LFG(f.Sil),f.LFG(f.zs3),f.LFG(JP))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})(),JT=(()=>{class i{constructor(t,o,s={}){this.router=t,this.viewportScroller=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof FT?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Um&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof uP&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new uP(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){f.$Z()},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();const Cu=new f.OlP("ROUTER_CONFIGURATION"),tk=new f.OlP("ROUTER_FORROOT_GUARD"),i3=[Oe,{provide:_P,useClass:bP},{provide:fi,useFactory:function(i,e,t,o,s,u,d={},g,y){const b=new fi(null,i,e,t,o,s,hP(u));return g&&(b.urlHandlingStrategy=g),y&&(b.routeReuseStrategy=y),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy),i.canceledNavigationResolution&&(e.canceledNavigationResolution=i.canceledNavigationResolution)}(d,b),d.enableTracing&&b.events.subscribe(E=>{var C,A;null==(C=console.group)||C.call(console,`Router Event: ${E.constructor.name}`),console.log(E.toString()),console.log(E),null==(A=console.groupEnd)||A.call(console)}),b},deps:[_P,Wm,Oe,f.zs3,f.Sil,KT,Cu,[class{},new f.FiY],[class{},new f.FiY]]},Wm,{provide:Ih,useFactory:function(i){return i.routerState.root},deps:[fi]},ek,XP,class{preload(e,t){return t().pipe(Ua(()=>rt(null)))}},{provide:Cu,useValue:{enableTracing:!1}}];function o3(){return new f.PXZ("Router",fi)}let nk=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[i3,rk(t),{provide:tk,useFactory:l3,deps:[[fi,new f.FiY,new f.tp0]]},{provide:Cu,useValue:o||{}},{provide:xe,useFactory:a3,deps:[se,[new f.tBr(De),new f.FiY],Cu]},{provide:JT,useFactory:s3,deps:[fi,vE,Cu]},{provide:JP,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:XP},{provide:f.PXZ,multi:!0,useFactory:o3},[XT,{provide:f.ip1,multi:!0,useFactory:h3,deps:[XT]},{provide:ik,useFactory:f3,deps:[XT]},{provide:f.tb,multi:!0,useExisting:ik}]]}}static forChild(t){return{ngModule:i,providers:[rk(t)]}}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(tk,8),f.LFG(fi,8))},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({}),i})();function s3(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new JT(i,e,t)}function a3(i,e,t={}){return t.useHash?new Fe(i,e):new He(i,e)}function l3(i){return"guarded"}function rk(i){return[{provide:f.deG,multi:!0,useValue:i},{provide:KT,multi:!0,useValue:i}]}let XT=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new gt.x}appInitializer(){return this.injector.get(H,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const s=new Promise(g=>o=g),u=this.injector.get(fi),d=this.injector.get(Cu);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),o(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?rt(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),u.initialNavigation()):o(!0),s})}bootstrapListener(t){const o=this.injector.get(Cu),s=this.injector.get(ek),u=this.injector.get(JT),d=this.injector.get(fi),g=this.injector.get(f.z2F);t===g.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),u.init(),d.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(f.LFG(f.zs3))},i.\u0275prov=f.Yz7({token:i,factory:i.\u0275fac}),i})();function h3(i){return i.appInitializer.bind(i)}function f3(i){return i.bootstrapListener.bind(i)}const ik=new f.OlP("Router Initializer");function ok(i,e,t,o,s,u,d){try{var g=i[u](d),y=g.value}catch(b){return void t(b)}g.done?e(y):Promise.resolve(y).then(o,s)}function m3(i,e){if(1&i){const t=f.EpF();f.ynx(0),f.TgZ(1,"div",5),f.NdJ("click",function(){return f.CHM(t),f.oxw().tap()}),f.qZA(),f.BQk()}}const y3=[{path:"",component:(()=>{class i{constructor(t){this.$=t,this.isActive=!1,this.userPref=new Wi,this.ansWer=["Yes","No","50-50%"],console.log(this.$.db.getData().subscribe(o=>{console.log(o.docs.forEach(s=>{console.log(s.data())}))}))}ngOnInit(){this.openModel(),this.initVoiceInput()}initVoiceInput(){this.$.voice.init().subscribe(()=>{}),this.$.voice.speechInput().subscribe(t=>{this.text=t})}tap(){this.$.ls.getCollection("userpref")?(this.isActive=!this.isActive,!0===this.isActive?this.startRecording():this.stopRecording()):this.openModel()}startRecording(){this.text="",this.$.voice.start()}stopRecording(){if(this.$.voice.stop(),""!=this.text){let t=Math.floor(3*Math.random());this.userPref=this.$.ls.getCollection("userpref");let o=new H_;o.name=this.userPref.name,o.language=this.userPref.language,o.que=this.text,o.ans=this.ansWer[t],this.$.model.openResult(o).subscribe(s=>s),this.$.db.addData(o)}else this.text=""}openModel(){var t=this;return function(i){return function(){var e=this,t=arguments;return new Promise(function(o,s){var u=i.apply(e,t);function d(y){ok(u,o,s,d,g,"next",y)}function g(y){ok(u,o,s,d,g,"throw",y)}d(void 0)})}}(function*(){t.$.ls.getCollection("userpref")?t.userPref=t.$.ls.getCollection("userpref"):t.$.model.openDialog().subscribe(o=>console.log(o))})()}}return i.\u0275fac=function(t){return new(t||i)(f.Y36(qw))},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-home"]],decls:8,vars:6,consts:[[1,"main"],[1,"mytext"],[3,"ngClass"],[3,"ngClass","click"],[4,"ngIf"],[1,"fas","fa-times-circle","fa-4x",2,"z-index","99","position","absolute","color","#24222f !important",3,"click"]],template:function(t,o){1&t&&(f.TgZ(0,"div",0),f.TgZ(1,"h1",1),f._uU(2),f.qZA(),f._UZ(3,"div",2),f._UZ(4,"div",2),f._UZ(5,"div",2),f.TgZ(6,"div",3),f.NdJ("click",function(){return o.tap()}),f.qZA(),f.YNc(7,m3,2,0,"ng-container",4),f.qZA()),2&t&&(f.xp6(2),f.Oqu(o.text),f.xp6(1),f.Q6J("ngClass",o.isActive?"pulse":"pulse1"),f.xp6(1),f.Q6J("ngClass",o.isActive?"pulse":"pulse1"),f.xp6(1),f.Q6J("ngClass",o.isActive?"pulse":"pulse1"),f.xp6(1),f.Q6J("ngClass",o.isActive?"pulse":"pulse1"),f.xp6(1),f.Q6J("ngIf",o.isActive))},directives:[Cr,vi],styles:["body[_ngcontent-%COMP%]{margin:0;padding:0}.main[_ngcontent-%COMP%]{width:100vw;height:100vh;position:relative;background:#24222f;display:flex;justify-content:center;align-items:center}.main[_ngcontent-%COMP%]   .mytext[_ngcontent-%COMP%]{color:#fff;text-align:center;margin-top:-380px}.main[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;border-radius:40px;background:white;outline:solid 2px white;outline-offset:0px;animation:pulse 2s ease infinite}.main[_ngcontent-%COMP%]   .pulse1[_ngcontent-%COMP%]{position:absolute;height:40px;width:40px;border-radius:40px;background:white}.main[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]:nth-child(1){animation-delay:0s}.main[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.main[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}.main[_ngcontent-%COMP%]   .pulse[_ngcontent-%COMP%]:nth-child(4){animation-delay:.6s}@keyframes pulse{0%{outline-offset:0px}to{outline-offset:130px;outline-color:#24222f}}"]}),i})()},{path:"admin",component:rB},{path:"**",redirectTo:""}];let v3=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[nk.forRoot(y3)],nk]}),i})(),_3=(()=>{class i{constructor(){this.title="recognition"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=f.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){1&t&&f._UZ(0,"router-outlet")},directives:[qT],styles:[""]}),i})(),b3=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i}),i.\u0275inj=f.cJS({imports:[[Qa,Pp,fg,Si,d0,bg],Pp,fg,Si,d0,bg]}),i})();const sk_firebaseConfig={apiKey:"AIzaSyCLNLQ6f4K9WdTcliiBPKvdHgrXNBaRumw",authDomain:"prediction-30744.firebaseapp.com",projectId:"prediction-30744",storageBucket:"prediction-30744.appspot.com",messagingSenderId:"356497892062",appId:"1:356497892062:web:0d53a818d9bd2bb2c7d84f",measurementId:"G-VDXV4MP21P"};let w3=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=f.oAB({type:i,bootstrap:[_3]}),i.\u0275inj=f.cJS({providers:[hE],imports:[[ju,v3,pD,IS,b3,tn.hO.initializeApp(sk_firebaseConfig)]]}),i})();(0,f.G48)(),Kh().bootstrapModule(w3).catch(i=>console.error(i))},9162:(Be,ae,x)=>{function se(R,L,B,j){return new(B||(B=Promise))(function(F,ce){function ve(qe){try{we(j.next(qe))}catch(Se){ce(Se)}}function Ye(qe){try{we(j.throw(qe))}catch(Se){ce(Se)}}function we(qe){qe.done?F(qe.value):function(F){return F instanceof B?F:new B(function(ce){ce(F)})}(qe.value).then(ve,Ye)}we((j=j.apply(R,L||[])).next())})}function xe(R){return this instanceof xe?(this.v=R,this):new xe(R)}function de(R,L,B){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Y,j=B.apply(R,L||[]),F=[];return Y={},ce("next"),ce("throw"),ce("return"),Y[Symbol.asyncIterator]=function(){return this},Y;function ce(pe){j[pe]&&(Y[pe]=function(Je){return new Promise(function(lt,mt){F.push([pe,Je,lt,mt])>1||ve(pe,Je)})})}function ve(pe,Je){try{!function(pe){pe.value instanceof xe?Promise.resolve(pe.value.v).then(we,qe):Se(F[0][2],pe)}(j[pe](Je))}catch(lt){Se(F[0][3],lt)}}function we(pe){ve("next",pe)}function qe(pe){ve("throw",pe)}function Se(pe,Je){pe(Je),F.shift(),F.length&&ve(F[0][0],F[0][1])}}function He(R){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var B,L=R[Symbol.asyncIterator];return L?L.call(R):(R=function(R){var L="function"==typeof Symbol&&Symbol.iterator,B=L&&R[L],j=0;if(B)return B.call(R);if(R&&"number"==typeof R.length)return{next:function(){return R&&j>=R.length&&(R=void 0),{value:R&&R[j++],done:!R}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}(R),B={},j("next"),j("throw"),j("return"),B[Symbol.asyncIterator]=function(){return this},B);function j(F){B[F]=R[F]&&function(ce){return new Promise(function(ve,Ye){!function(F,ce,ve,Ye){Promise.resolve(Ye).then(function(we){F({value:we,done:ve})},ce)}(ve,Ye,(ce=R[F](ce)).done,ce.value)})}}}x.d(ae,{mG:()=>se,qq:()=>xe,FC:()=>de,KL:()=>He})},4762:(Be,ae,x)=>{x.d(ae,{ZT:()=>Q,pi:()=>oe,mG:()=>se,Jh:()=>J,XA:()=>G,CR:()=>re,ev:()=>Me});var f=function(R,L){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,j){B.__proto__=j}||function(B,j){for(var Y in j)Object.prototype.hasOwnProperty.call(j,Y)&&(B[Y]=j[Y])})(R,L)};function Q(R,L){if("function"!=typeof L&&null!==L)throw new TypeError("Class extends value "+String(L)+" is not a constructor or null");function B(){this.constructor=R}f(R,L),R.prototype=null===L?Object.create(L):(B.prototype=L.prototype,new B)}var oe=function(){return oe=Object.assign||function(L){for(var B,j=1,Y=arguments.length;j<Y;j++)for(var F in B=arguments[j])Object.prototype.hasOwnProperty.call(B,F)&&(L[F]=B[F]);return L},oe.apply(this,arguments)};function se(R,L,B,j){return new(B||(B=Promise))(function(F,ce){function ve(qe){try{we(j.next(qe))}catch(Se){ce(Se)}}function Ye(qe){try{we(j.throw(qe))}catch(Se){ce(Se)}}function we(qe){qe.done?F(qe.value):function(F){return F instanceof B?F:new B(function(ce){ce(F)})}(qe.value).then(ve,Ye)}we((j=j.apply(R,L||[])).next())})}function J(R,L){var j,Y,F,ce,B={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return ce={next:ve(0),throw:ve(1),return:ve(2)},"function"==typeof Symbol&&(ce[Symbol.iterator]=function(){return this}),ce;function ve(we){return function(qe){return function(we){if(j)throw new TypeError("Generator is already executing.");for(;B;)try{if(j=1,Y&&(F=2&we[0]?Y.return:we[0]?Y.throw||((F=Y.return)&&F.call(Y),0):Y.next)&&!(F=F.call(Y,we[1])).done)return F;switch(Y=0,F&&(we=[2&we[0],F.value]),we[0]){case 0:case 1:F=we;break;case 4:return B.label++,{value:we[1],done:!1};case 5:B.label++,Y=we[1],we=[0];continue;case 7:we=B.ops.pop(),B.trys.pop();continue;default:if(!(F=(F=B.trys).length>0&&F[F.length-1])&&(6===we[0]||2===we[0])){B=0;continue}if(3===we[0]&&(!F||we[1]>F[0]&&we[1]<F[3])){B.label=we[1];break}if(6===we[0]&&B.label<F[1]){B.label=F[1],F=we;break}if(F&&B.label<F[2]){B.label=F[2],B.ops.push(we);break}F[2]&&B.ops.pop(),B.trys.pop();continue}we=L.call(R,B)}catch(qe){we=[6,qe],Y=0}finally{j=F=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}([we,qe])}}}function G(R){var L="function"==typeof Symbol&&Symbol.iterator,B=L&&R[L],j=0;if(B)return B.call(R);if(R&&"number"==typeof R.length)return{next:function(){return R&&j>=R.length&&(R=void 0),{value:R&&R[j++],done:!R}}};throw new TypeError(L?"Object is not iterable.":"Symbol.iterator is not defined.")}function re(R,L){var B="function"==typeof Symbol&&R[Symbol.iterator];if(!B)return R;var Y,ce,j=B.call(R),F=[];try{for(;(void 0===L||L-- >0)&&!(Y=j.next()).done;)F.push(Y.value)}catch(ve){ce={error:ve}}finally{try{Y&&!Y.done&&(B=j.return)&&B.call(j)}finally{if(ce)throw ce.error}}return F}function Me(R,L,B){if(B||2===arguments.length)for(var F,j=0,Y=L.length;j<Y;j++)(F||!(j in L))&&(F||(F=Array.prototype.slice.call(L,0,j)),F[j]=L[j]);return R.concat(F||Array.prototype.slice.call(L))}},3668:(Be,ae,x)=>{x.d(ae,{deG:()=>UE,tb:()=>Ig,AFp:()=>Hl,ip1:()=>Ag,CZH:()=>Xt,hGG:()=>em,z2F:()=>ls,sBO:()=>jg,Sil:()=>Od,_Vd:()=>md,EJc:()=>Gl,SBq:()=>yd,qLn:()=>sc,vpe:()=>Ti,tBr:()=>Xu,XFs:()=>ze,OlP:()=>Ht,zs3:()=>jr,ZZ4:()=>_o,aQg:()=>Sa,soG:()=>Ea,YKP:()=>lg,h0i:()=>mo,PXZ:()=>jn,R0b:()=>er,FiY:()=>Bs,Lbi:()=>Mg,g9A:()=>E0,n_E:()=>dg,Qsj:()=>Ob,FYo:()=>xb,JOm:()=>Hi,tp0:()=>sl,Rgc:()=>Cd,dDg:()=>ql,q4F:()=>Rb,GfV:()=>ig,s_b:()=>Sd,ifc:()=>$e,eFA:()=>F0,G48:()=>Ug,Gpc:()=>z,f3M:()=>NM,X6Q:()=>L0,_c5:()=>Jg,VLi:()=>Pg,c2e:()=>xg,zSh:()=>qi,wAp:()=>Xe,vHH:()=>_e,cg1:()=>rd,kL8:()=>WD,dqk:()=>Lt,sIi:()=>El,CqO:()=>ED,QGY:()=>D_,F4k:()=>Yc,RDi:()=>vE,AaK:()=>se,qOj:()=>Xs,TTD:()=>Za,_Bn:()=>Fl,xp6:()=>fv,uIk:()=>fp,Gre:()=>J_,ekj:()=>Rp,Suo:()=>o0,Xpm:()=>Mt,lG2:()=>ny,Yz7:()=>mt,cJS:()=>Wt,oAB:()=>Qi,Yjl:()=>Fh,Y36:()=>oa,_UZ:()=>bD,BQk:()=>C_,ynx:()=>E_,qZA:()=>w_,TgZ:()=>Cp,EpF:()=>wD,n5z:()=>Dy,Ikx:()=>nd,LFG:()=>xn,$8M:()=>Sy,$Z:()=>__,NdJ:()=>S_,CRH:()=>mg,oxw:()=>Kc,Hsn:()=>M_,F$t:()=>Ap,Q6J:()=>Wc,iGM:()=>n0,MAs:()=>aD,CHM:()=>Ja,LSH:()=>$y,Udp:()=>Op,WFA:()=>rs,d8E:()=>Vp,YNc:()=>s_,_uU:()=>G_,Oqu:()=>Np,hij:()=>ed,Gf:()=>r0});var f=x(273),Q=x(7908),oe=x(8305),te=x(3719),le=x(3174);function he(a){for(let l in a)if(a[l]===he)return l;throw Error("Could not find renamed property on target object.")}function K(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function se(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(se).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function J(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const H=he({__forward_ref__:he});function z(a){return a.__forward_ref__=z,a.toString=function(){return se(this())},a}function G(a){return re(a)?a():a}function re(a){return"function"==typeof a&&a.hasOwnProperty(H)&&a.__forward_ref__===z}class _e extends Error{constructor(l,c){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,c)),this.code=l}}function de(a){return"string"==typeof a?a:null==a?"":String(a)}function De(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():de(a)}function be(a,l){const c=l?` in ${l}`:"";throw new _e("201",`No provider for ${De(a)} found${c}`)}function qe(a,l){null==a&&function(a,l,c,h){throw new Error(`ASSERTION ERROR: ${a}`+(null==h?"":` [Expected=> ${c} ${h} ${l} <=Actual]`))}(l,a,null,"!=")}function mt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Wt(a){return{providers:a.providers||[],imports:a.imports||[]}}function Zr(a){return Ga(a,bt)||Ga(a,wr)}function Ga(a,l){return a.hasOwnProperty(l)?a[l]:null}function qa(a){return a&&(a.hasOwnProperty(wt)||a.hasOwnProperty(Pn))?a[wt]:null}const bt=he({\u0275prov:he}),wt=he({\u0275inj:he}),wr=he({ngInjectableDef:he}),Pn=he({ngInjectorDef:he});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Gt;function Yt(a){const l=Gt;return Gt=a,l}function $a(a,l,c){const h=Zr(a);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&ze.Optional?null:void 0!==l?l:void be(se(a),"Injector")}function Fi(a){return{toString:a}.toString()}var An=(()=>((An=An||{})[An.OnPush=0]="OnPush",An[An.Default=1]="Default",An))(),$e=(()=>{return(a=$e||($e={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",$e;var a})();const ut="undefined"!=typeof globalThis&&globalThis,Oh="undefined"!=typeof window&&window,Es="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Lt=ut||"undefined"!=typeof global&&global||Oh||Es,kt={},k=[],P=he({\u0275cmp:he}),q=he({\u0275dir:he}),X=he({\u0275pipe:he}),$=he({\u0275mod:he}),Ae=he({\u0275fac:he}),et=he({__NG_ELEMENT_ID__:he});let St=0;function Mt(a){return Fi(()=>{const c={},h={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===An.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||k,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||$e.Emulated,id:"c",styles:a.styles||k,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,m=a.features,v=a.pipes;return h.id+=St++,h.inputs=ty(a.inputs,c),h.outputs=ty(a.outputs),m&&m.forEach(_=>_(h)),h.directiveDefs=p?()=>("function"==typeof p?p():p).map(Tn):null,h.pipeDefs=v?()=>("function"==typeof v?v():v).map(ar):null,h})}function Tn(a){return kn(a)||function(a){return a[q]||null}(a)}function ar(a){return function(a){return a[X]||null}(a)}const lr={};function Qi(a){return Fi(()=>{const l={type:a.type,bootstrap:a.bootstrap||k,declarations:a.declarations||k,imports:a.imports||k,exports:a.exports||k,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(lr[a.id]=a.type),l})}function ty(a,l){if(null==a)return kt;const c={};for(const h in a)if(a.hasOwnProperty(h)){let p=a[h],m=p;Array.isArray(p)&&(m=p[1],p=p[0]),c[p]=h,l&&(l[p]=m)}return c}const ny=Mt;function Fh(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function kn(a){return a[P]||null}function Nn(a,l){const c=a[$]||null;if(!c&&!0===l)throw new Error(`Type ${se(a)} does not have '\u0275mod' property.`);return c}function kr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Nr(a){return Array.isArray(a)&&!0===a[1]}function ry(a){return 0!=(8&a.flags)}function Ka(a){return 2==(2&a.flags)}function Ru(a){return 1==(1&a.flags)}function Jr(a){return null!==a.template}function cE(a){return 0!=(512&a[2])}function Fo(a,l){return a.hasOwnProperty(Ae)?a[Ae]:null}class Nh{constructor(l,c,h){this.previousValue=l,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Za(){return oy}function oy(a){return a.type.prototype.ngOnChanges&&(a.setInput=Qa),mM}function mM(){const a=sy(this),l=null==a?void 0:a.current;if(l){const c=a.previous;if(c===kt)a.previous=l;else for(let h in l)c[h]=l[h];a.current=null,this.ngOnChanges(l)}}function Qa(a,l,c,h){const p=sy(a)||function(a,l){return a[Lh]=l}(a,{previous:kt,current:null}),m=p.current||(p.current={}),v=p.previous,_=this.declaredInputs[c],w=v[_];m[_]=new Nh(w&&w.currentValue,l,v===kt),a[h]=l}Za.ngInherit=!0;const Lh="__ngSimpleChanges__";function sy(a){return a[Lh]||null}let ay;function vE(a){ay=a}function Kt(a){return!!a.listen}const bE={createRenderer:(a,l)=>void 0!==ay?ay:"undefined"!=typeof document?document:void 0};function rn(a){for(;Array.isArray(a);)a=a[0];return a}function Pu(a,l){return rn(l[a])}function Wn(a,l){return rn(l[a.index])}function ku(a,l){return a.data[l]}function Sr(a,l){const c=l[a];return kr(c)?c:c[0]}function Nu(a){return 4==(4&a[2])}function jh(a){return 128==(128&a[2])}function ei(a,l){return null==l?null:a[l]}function Hh(a){a[18]=0}function Vu(a,l){a[5]+=l;let c=a,h=a[3];for(;null!==h&&(1===l&&1===c[5]||-1===l&&0===c[5]);)h[5]+=l,c=h,h=h[3]}const nt={lFrame:hy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function qh(){return nt.bindingsEnabled}function fe(){return nt.lFrame.lView}function Et(){return nt.lFrame.tView}function Ja(a){return nt.lFrame.contextLView=a,a[8]}function on(){let a=AE();for(;null!==a&&64===a.type;)a=a.parent;return a}function AE(){return nt.lFrame.currentTNode}function Lr(a,l){const c=nt.lFrame;c.currentTNode=a,c.isParent=l}function $h(){return nt.lFrame.isParent}function Bu(){nt.lFrame.isParent=!1}function Uu(){return nt.isInCheckNoChangesMode}function Xa(a){nt.isInCheckNoChangesMode=a}function Ts(){return nt.lFrame.bindingIndex++}function Li(a){const l=nt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function IE(a,l){const c=nt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Yh(l)}function Yh(a){nt.lFrame.currentDirectiveIndex=a}function Kh(a){const l=nt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function cy(){return nt.lFrame.currentQueryIndex}function ju(a){nt.lFrame.currentQueryIndex=a}function vM(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function dy(a,l,c){if(c&ze.SkipSelf){let p=l,m=a;for(;!(p=p.parent,null!==p||c&ze.Host||(p=vM(m),null===p||(m=m[15],10&p.type))););if(null===p)return!1;l=p,a=m}const h=nt.lFrame=OE();return h.currentTNode=l,h.lView=a,!0}function Zh(a){const l=OE(),c=a[1];nt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function OE(){const a=nt.lFrame,l=null===a?null:a.child;return null===l?hy(a):l}function hy(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function fy(){const a=nt.lFrame;return nt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const py=fy;function Qh(){const a=fy();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Zt(){return nt.lFrame.selectedIndex}function to(a){nt.lFrame.selectedIndex=a}function Qt(){const a=nt.lFrame;return ku(a.tView,a.selectedIndex)}function Xh(a,l){for(let c=l.directiveStart,h=l.directiveEnd;c<h;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:_,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:S}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),_&&((a.contentHooks||(a.contentHooks=[])).push(c,_),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,_)),w&&(a.viewHooks||(a.viewHooks=[])).push(-c,w),D&&((a.viewHooks||(a.viewHooks=[])).push(c,D),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,D)),null!=S&&(a.destroyHooks||(a.destroyHooks=[])).push(c,S)}}function Hu(a,l,c){FE(a,l,3,c)}function ef(a,l,c,h){(3&a[2])===c&&FE(a,l,c,h)}function yy(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function FE(a,l,c,h){const m=null!=h?h:-1,v=l.length-1;let _=0;for(let w=void 0!==h?65535&a[18]:0;w<v;w++)if("number"==typeof l[w+1]){if(_=l[w],null!=h&&_>=h)break}else l[w]<0&&(a[18]+=65536),(_<m||-1==m)&&(PE(a,c,l,w),a[18]=(4294901760&a[18])+w+2),w++}function PE(a,l,c,h){const p=c[h]<0,m=c[h+1],_=a[p?-c[h]:c[h]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(_)}finally{}}}else try{m.call(_)}finally{}}class Gu{constructor(l,c,h){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function gt(a,l,c){const h=Kt(a);let p=0;for(;p<c.length;){const m=c[p];if("number"==typeof m){if(0!==m)break;p++;const v=c[p++],_=c[p++],w=c[p++];h?a.setAttribute(l,_,w,v):l.setAttributeNS(v,_,w)}else{const v=m,_=c[++p];yn(v)?h&&a.setProperty(l,v,_):h?a.setAttribute(l,v,_):l.setAttribute(v,_),p++}}return p}function _y(a){return 3===a||4===a||6===a}function yn(a){return 64===a.charCodeAt(0)}function Ms(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let h=0;h<l.length;h++){const p=l[h];"number"==typeof p?c=p:0===c||by(a,c,p,null,-1===c||2===c?l[++h]:null)}}return a}function by(a,l,c,h,p){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const _=a[m++];if("number"==typeof _){if(_===l){v=-1;break}if(_>l){v=m-1;break}}}for(;m<a.length;){const _=a[m];if("number"==typeof _)break;if(_===c){if(null===h)return void(null!==p&&(a[m+1]=p));if(h===a[m+1])return void(a[m+2]=p)}m++,null!==h&&m++,null!==p&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==h&&a.splice(m++,0,h),null!==p&&a.splice(m++,0,p)}function tf(a){return-1!==a}function Ut(a){return 32767&a}function el(a,l){let c=function(a){return a>>16}(a),h=l;for(;c>0;)h=h[15],c--;return h}let no=!0;function jt(a){const l=no;return no=a,l}let Mn=0;function Ar(a,l){const c=nf(a,l);if(-1!==c)return c;const h=l[1];h.firstCreatePass&&(a.injectorIndex=l.length,ct(h.data,a),ct(l,null),ct(h.blueprint,null));const p=qu(a,l),m=a.injectorIndex;if(tf(p)){const v=Ut(p),_=el(p,l),w=_[1].data;for(let D=0;D<8;D++)l[m+D]=_[v+D]|w[v+D]}return l[m+8]=p,m}function ct(a,l){a.push(0,0,0,0,0,0,0,0,l)}function nf(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function qu(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,h=null,p=l;for(;null!==p;){const m=p[1],v=m.type;if(h=2===v?m.declTNode:1===v?p[6]:null,null===h)return-1;if(c++,p=p[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function Is(a,l,c){!function(a,l,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(et)&&(h=c[et]),null==h&&(h=c[et]=Mn++);const p=255&h;l.data[a+(p>>5)]|=1<<p}(a,l,c)}function wy(a,l,c){if(c&ze.Optional)return a;be(l,"NodeInjector")}function Ey(a,l,c,h){if(c&ze.Optional&&void 0===h&&(h=null),0==(c&(ze.Self|ze.Host))){const p=a[9],m=Yt(void 0);try{return p?p.get(l,h,c&ze.Optional):$a(l,h,c&ze.Optional)}finally{Yt(m)}}return wy(h,l,c)}function tl(a,l,c,h=ze.Default,p){if(null!==a){const m=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(et)?a[et]:void 0;return"number"==typeof l?l>=0?255&l:LE:l}(c);if("function"==typeof m){if(!dy(l,a,h))return h&ze.Host?wy(p,c,h):Ey(l,c,h,p);try{const v=m(h);if(null!=v||h&ze.Optional)return v;be(c)}finally{py()}}else if("number"==typeof m){let v=null,_=nf(a,l),w=-1,D=h&ze.Host?l[16][6]:null;for((-1===_||h&ze.SkipSelf)&&(w=-1===_?qu(a,l):l[_+8],-1!==w&&Cy(h,!1)?(v=l[1],_=Ut(w),l=el(w,l)):_=-1);-1!==_;){const S=l[1];if(Os(m,_,S.data)){const M=VE(_,l,c,v,h,D);if(M!==rf)return M}w=l[_+8],-1!==w&&Cy(h,l[1].data[_+8]===D)&&Os(m,_,l)?(v=S,_=Ut(w),l=el(w,l)):_=-1}}}return Ey(l,c,h,p)}const rf={};function LE(){return new ko(on(),fe())}function VE(a,l,c,h,p,m){const v=l[1],_=v.data[a+8],S=$u(_,v,c,null==h?Ka(_)&&no:h!=v&&0!=(3&_.type),p&ze.Host&&m===_);return null!==S?xs(l,v,S,_):rf}function $u(a,l,c,h,p){const m=a.providerIndexes,v=l.data,_=1048575&m,w=a.directiveStart,S=m>>20,N=p?_+S:a.directiveEnd;for(let U=h?_:_+S;U<N;U++){const ne=v[U];if(U<w&&c===ne||U>=w&&ne.type===c)return U}if(p){const U=v[w];if(U&&Jr(U)&&U.type===c)return w}return null}function xs(a,l,c,h){let p=a[c];const m=l.data;if(function(a){return a instanceof Gu}(p)){const v=p;v.resolving&&function(a,l){throw new _e("200",`Circular dependency in DI detected for ${a}`)}(De(m[c]));const _=jt(v.canSeeViewProviders);v.resolving=!0;const w=v.injectImpl?Yt(v.injectImpl):null;dy(a,h,ze.Default);try{p=a[c]=v.factory(void 0,m,a,h),l.firstCreatePass&&c>=h.directiveStart&&function(a,l,c){const{ngOnChanges:h,ngOnInit:p,ngDoCheck:m}=l.type.prototype;if(h){const v=oy(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}p&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,p),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==w&&Yt(w),jt(_),v.resolving=!1,py()}}return p}function Os(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function Cy(a,l){return!(a&ze.Self||a&ze.Host&&l)}class ko{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,h){return tl(this._tNode,this._lView,l,h,c)}}function Dy(a){return Fi(()=>{const l=a.prototype.constructor,c=l[Ae]||sf(l),h=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==h;){const m=p[Ae]||sf(p);if(m&&m!==c)return m;p=Object.getPrototypeOf(p)}return m=>new m})}function sf(a){return re(a)?()=>{const l=sf(G(a));return l&&l()}:Fo(a)}function Sy(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const h=c.length;let p=0;for(;p<h;){const m=c[p];if(_y(m))break;if(0===m)p+=2;else if("number"==typeof m)for(p++;p<h&&"string"==typeof c[p];)p++;else{if(m===l)return c[p+1];p+=2}}}return null}(on(),a)}const io="__parameters__";function nl(a,l,c){return Fi(()=>{const h=function(a){return function(...c){if(a){const h=a(...c);for(const p in h)this[p]=h[p]}}}(l);function p(...m){if(this instanceof p)return h.apply(this,m),this;const v=new p(...m);return _.annotation=v,_;function _(w,D,S){const M=w.hasOwnProperty(io)?w[io]:Object.defineProperty(w,io,{value:[]})[io];for(;M.length<=S;)M.push(null);return(M[S]=M[S]||[]).push(v),w}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class Ht{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=mt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const UE=new Ht("AnalyzeForEntryComponents");function zt(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let h=a[c];Array.isArray(h)?(l===a&&(l=a.slice(0,c)),zt(h,l)):l!==a&&l.push(h)}return l}function Vr(a,l){a.forEach(c=>Array.isArray(c)?Vr(c,l):l(c))}function No(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function il(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ks(a,l){const c=[];for(let h=0;h<a;h++)c.push(l);return c}function Br(a,l,c){let h=Vs(a,l);return h>=0?a[1|h]=c:(h=~h,function(a,l,c,h){let p=a.length;if(p==l)a.push(c,h);else if(1===p)a.push(h,a[0]),a[0]=c;else{for(p--,a.push(a[p-1],a[p]);p>l;)a[p]=a[p-2],p--;a[l]=c,a[l+1]=h}}(a,h,l,c)),h}function ol(a,l){const c=Vs(a,l);if(c>=0)return a[1|c]}function Vs(a,l){return function(a,l,c){let h=0,p=a.length>>c;for(;p!==h;){const m=h+(p-h>>1),v=a[m<<c];if(l===v)return m<<c;v>l?p=m:h=m+1}return~(p<<c)}(a,l,1)}const Zu={},My="__NG_DI_FLAG__",pf="ngTempTokenPath",PM=/\n/gm,Iy="__source",qE=he({provide:String,useValue:he});let Qu;function xy(a){const l=Qu;return Qu=a,l}function gf(a,l=ze.Default){if(void 0===Qu)throw new Error("inject() must be called from an injection context");return null===Qu?$a(a,void 0,l):Qu.get(a,l&ze.Optional?null:void 0,l)}function xn(a,l=ze.Default){return(Gt||gf)(G(a),l)}const NM=xn;function Oy(a){const l=[];for(let c=0;c<a.length;c++){const h=G(a[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let p,m=ze.Default;for(let v=0;v<h.length;v++){const _=h[v],w=mf(_);"number"==typeof w?-1===w?p=_.token:m|=w:p=_}l.push(xn(p,m))}else l.push(xn(h))}return l}function Ju(a,l){return a[My]=l,a.prototype[My]=l,a}function mf(a){return a[My]}const Xu=Ju(nl("Inject",a=>({token:a})),-1),Bs=Ju(nl("Optional"),8),sl=Ju(nl("SkipSelf"),4);class KE{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function so(a){return a instanceof KE?a.changingThisBreaksApplicationSecurity:a}const QM=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,JM=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var cn=(()=>((cn=cn||{})[cn.NONE=0]="NONE",cn[cn.HTML=1]="HTML",cn[cn.STYLE=2]="STYLE",cn[cn.SCRIPT=3]="SCRIPT",cn[cn.URL=4]="URL",cn[cn.RESOURCE_URL=5]="RESOURCE_URL",cn))();function $y(a){const l=function(){const a=fe();return a&&a[12]}();return l?l.sanitize(cn.URL,a)||"":function(a,l){const c=function(a){return a instanceof KE&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}(a,"URL")?so(a):function(a){return(a=String(a)).match(QM)||a.match(JM)?a:"unsafe:"+a}(de(a))}const lC="__ngContext__";function Zn(a,l){a[lC]=l}function Yy(a){const l=function(a){return a[lC]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function Zy(a){return a.ngOriginalError}function EI(a,...l){a.error(...l)}class sc{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l),h=(a=l)&&a.ngErrorLogger||EI;var a;h(this._console,"ERROR",l),c&&h(this._console,"ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Zy(l);for(;c&&Zy(c);)c=Zy(c);return c||null}}const fC=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Lt))();function ji(a){return a instanceof Function?a():a}var Hi=(()=>((Hi=Hi||{})[Hi.Important=1]="Important",Hi[Hi.DashCase=2]="DashCase",Hi))();function Jy(a,l){return undefined(a,l)}function ac(a){const l=a[3];return Nr(l)?l[3]:l}function lc(a){return mC(a[13])}function Cf(a){return mC(a[4])}function mC(a){for(;null!==a&&!Nr(a);)a=a[4];return a}function Bo(a,l,c,h,p){if(null!=h){let m,v=!1;Nr(h)?m=h:kr(h)&&(v=!0,h=h[0]);const _=rn(h);0===a&&null!==c?null==p?If(l,c,_):Tr(l,c,_,p||null,!0):1===a&&null!==c?Tr(l,c,_,p||null,!0):2===a?function(a,l,c){const h=uc(a,l);h&&function(a,l,c,h){Kt(a)?a.removeChild(l,c,h):l.removeChild(c)}(a,h,l,c)}(l,_,v):3===a&&l.destroyNode(_),null!=m&&function(a,l,c,h,p){const m=c[7];m!==rn(c)&&Bo(l,a,h,m,p);for(let _=10;_<c.length;_++){const w=c[_];_n(w[1],w,a,l,h,m)}}(l,a,m,c,p)}}function Sf(a,l,c){return Kt(a)?a.createElement(l,c):null===c?a.createElement(l):a.createElementNS(c,l)}function Tf(a,l){const c=a[9],h=c.indexOf(l),p=l[3];1024&l[2]&&(l[2]&=-1025,Vu(p,-1)),c.splice(h,1)}function Mf(a,l){if(a.length<=10)return;const c=10+l,h=a[c];if(h){const p=h[17];null!==p&&p!==a&&Tf(p,h),l>0&&(a[c-1][4]=h[4]);const m=il(a,10+l);!function(a,l){_n(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(h[1],h);const v=m[19];null!==v&&v.detachView(m[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function ev(a,l){if(!(256&l[2])){const c=l[11];Kt(c)&&c.destroyNode&&_n(a,l,c,3,null,null),function(a){let l=a[13];if(!l)return hl(a[1],a);for(;l;){let c=null;if(kr(l))c=l[13];else{const h=l[10];h&&(c=h)}if(!c){for(;l&&!l[4]&&l!==a;)kr(l)&&hl(l[1],l),l=l[3];null===l&&(l=a),kr(l)&&hl(l[1],l),c=l&&l[4]}l=c}}(l)}}function hl(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let h=0;h<c.length;h+=2){const p=l[c[h]];if(!(p instanceof Gu)){const m=c[h+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const _=p[m[v]],w=m[v+1];try{w.call(_)}finally{}}else try{m.call(p)}finally{}}}}(a,l),function(a,l){const c=a.cleanup,h=l[7];let p=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],_="function"==typeof v?v(l):rn(l[v]),w=h[p=c[m+2]],D=c[m+3];"boolean"==typeof D?_.removeEventListener(c[m],w,D):D>=0?h[p=D]():h[p=-D].unsubscribe(),m+=2}else{const v=h[p=c[m+1]];c[m].call(v)}if(null!==h){for(let m=p+1;m<h.length;m++)h[m]();l[7]=null}}(a,l),1===l[1].type&&Kt(l[11])&&l[11].destroy();const c=l[17];if(null!==c&&Nr(l[3])){c!==l[3]&&Tf(c,l);const h=l[19];null!==h&&h.detachView(a)}}}function nv(a,l,c){return function(a,l,c){let h=l;for(;null!==h&&40&h.type;)h=(l=h).parent;if(null===h)return c[0];if(2&h.flags){const p=a.data[h.directiveStart].encapsulation;if(p===$e.None||p===$e.Emulated)return null}return Wn(h,c)}(a,l.parent,c)}function Tr(a,l,c,h,p){Kt(a)?a.insertBefore(l,c,h,p):l.insertBefore(c,h,p)}function If(a,l,c){Kt(a)?a.appendChild(l,c):l.appendChild(c)}function xf(a,l,c,h,p){null!==h?Tr(a,l,c,h,p):If(a,l,c)}function uc(a,l){return Kt(a)?a.parentNode(l):l.parentNode}function ov(a,l,c){return sv(a,l,c)}let sv=function(a,l,c){return 40&a.type?Wn(a,c):null};function fl(a,l,c,h){const p=nv(a,h,l),m=l[11],_=ov(h.parent||l[6],h,l);if(null!=p)if(Array.isArray(c))for(let w=0;w<c.length;w++)xf(m,p,c[w],_,!1);else xf(m,p,c,_,!1)}function dc(a,l){if(null!==l){const c=l.type;if(3&c)return Wn(l,a);if(4&c)return hc(-1,a[l.index]);if(8&c){const h=l.child;if(null!==h)return dc(a,h);{const p=a[l.index];return Nr(p)?hc(-1,p):rn(p)}}if(32&c)return Jy(l,a)()||rn(a[l.index]);{const h=av(a,l);return null!==h?Array.isArray(h)?h[0]:dc(ac(a[16]),h):dc(a,l.next)}}return null}function av(a,l){return null!==l?a[16][6].projection[l.projection]:null}function hc(a,l){const c=10+a+1;if(c<l.length){const h=l[c],p=h[1].firstChild;if(null!==p)return dc(h,p)}return l[7]}function dr(a,l,c,h,p,m,v){for(;null!=c;){const _=h[c.index],w=c.type;if(v&&0===l&&(_&&Zn(rn(_),h),c.flags|=4),64!=(64&c.flags))if(8&w)dr(a,l,c.child,h,p,m,!1),Bo(l,a,p,_,m);else if(32&w){const D=Jy(c,h);let S;for(;S=D();)Bo(l,a,p,S,m);Bo(l,a,p,_,m)}else 16&w?uv(a,l,h,c,p,m):Bo(l,a,p,_,m);c=v?c.projectionNext:c.next}}function _n(a,l,c,h,p,m){dr(c,h,a.firstChild,l,p,m,!1)}function uv(a,l,c,h,p,m){const v=c[16],w=v[6].projection[h.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)Bo(l,a,p,w[D],m);else dr(a,l,w,v[3],p,m,!0)}function cv(a,l,c){Kt(a)?a.setAttribute(l,"style",c):l.style.cssText=c}function fc(a,l,c){Kt(a)?""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c):l.className=c}function EC(a,l,c){let h=a.length;for(;;){const p=a.indexOf(l,c);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const m=l.length;if(p+m===h||a.charCodeAt(p+m)<=32)return p}c=p+1}}const Ff="ng-template";function jI(a,l,c){let h=0;for(;h<a.length;){let p=a[h++];if(c&&"class"===p){if(p=a[h],-1!==EC(p.toLowerCase(),l,0))return!0}else if(1===p){for(;h<a.length&&"string"==typeof(p=a[h++]);)if(p.toLowerCase()===l)return!0;return!1}}return!1}function dv(a){return 4===a.type&&a.value!==Ff}function HI(a,l,c){return l===(4!==a.type||c?a.value:Ff)}function CC(a,l,c){let h=4;const p=a.attrs||[],m=function(a){for(let l=0;l<a.length;l++)if(_y(a[l]))return l;return a.length}(p);let v=!1;for(let _=0;_<l.length;_++){const w=l[_];if("number"!=typeof w){if(!v)if(4&h){if(h=2|1&h,""!==w&&!HI(a,w,c)||""===w&&1===l.length){if(_i(h))return!1;v=!0}}else{const D=8&h?w:l[++_];if(8&h&&null!==a.attrs){if(!jI(a.attrs,D,c)){if(_i(h))return!1;v=!0}continue}const M=GI(8&h?"class":w,p,dv(a),c);if(-1===M){if(_i(h))return!1;v=!0;continue}if(""!==D){let N;N=M>m?"":p[M+1].toLowerCase();const U=8&h?N:null;if(U&&-1!==EC(U,D,0)||2&h&&D!==N){if(_i(h))return!1;v=!0}}}}else{if(!v&&!_i(h)&&!_i(w))return!1;if(v&&_i(w))continue;v=!1,h=w|1&h}}return _i(h)||v}function _i(a){return 0==(1&a)}function GI(a,l,c,h){if(null===l)return-1;let p=0;if(h||!c){let m=!1;for(;p<l.length;){const v=l[p];if(v===a)return p;if(3===v||6===v)m=!0;else{if(1===v||2===v){let _=l[++p];for(;"string"==typeof _;)_=l[++p];continue}if(4===v)break;if(0===v){p+=4;continue}}p+=m?1:2}return-1}return function(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const h=a[c];if("number"==typeof h)return-1;if(h===l)return c;c++}return-1}(l,a)}function DC(a,l,c=!1){for(let h=0;h<l.length;h++)if(CC(a,l[h],c))return!0;return!1}function AC(a,l){e:for(let c=0;c<l.length;c++){const h=l[c];if(a.length===h.length){for(let p=0;p<a.length;p++)if(a[p]!==h[p])continue e;return!0}}return!1}function TC(a,l){return a?":not("+l.trim()+")":l}function $I(a){let l=a[0],c=1,h=2,p="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&h){const _=a[++c];p+="["+v+(_.length>0?'="'+_+'"':"")+"]"}else 8&h?p+="."+v:4&h&&(p+=" "+v);else""!==p&&!_i(v)&&(l+=TC(m,p),p=""),h=v,m=m||!_i(h);c++}return""!==p&&(l+=TC(m,p)),l}const ot={};function fv(a){pv(Et(),fe(),Zt()+a,Uu())}function pv(a,l,c,h){if(!h)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Hu(l,m,c)}else{const m=a.preOrderHooks;null!==m&&ef(l,m,0,c)}to(c)}function pc(a,l){return a<<17|l<<2}function ni(a){return a>>17&32767}function kf(a){return 2|a}function Gi(a){return(131068&a)>>2}function Nf(a,l){return-131069&a|l<<2}function Lf(a){return 1|a}function Hf(a,l){const c=a.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const p=c[h],m=c[h+1];if(-1!==m){const v=a.data[m];ju(p),v.contentQueries(2,l[m],m)}}}function zo(a,l,c,h,p,m,v,_,w,D){const S=l.blueprint.slice();return S[0]=p,S[2]=140|h,Hh(S),S[3]=S[15]=a,S[8]=c,S[10]=v||a&&a[10],S[11]=_||a&&a[11],S[12]=w||a&&a[12]||null,S[9]=D||a&&a[9]||null,S[6]=m,S[16]=2==l.type?a[16]:S,S}function qo(a,l,c,h,p){let m=a.data[l];if(null===m)m=function(a,l,c,h,p){const m=AE(),v=$h(),w=a.data[l]=function(a,l,c,h,p,m){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,h,p);return null===a.firstChild&&(a.firstChild=w),null!==m&&(v?null==m.child&&null!==w.parent&&(m.child=w):null===m.next&&(m.next=w)),w}(a,l,c,h,p),nt.lFrame.inI18n&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=h,m.attrs=p;const v=function(){const a=nt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return Lr(m,!0),m}function Mr(a,l,c,h){if(0===c)return-1;const p=l.length;for(let m=0;m<c;m++)l.push(h),a.blueprint.push(h),a.data.push(null);return p}function Ws(a,l,c){Zh(l);try{const h=a.viewQuery;null!==h&&Qf(1,h,c);const p=a.template;null!==p&&_c(a,l,p,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&Hf(a,l),a.staticViewQueries&&Qf(2,a.viewQuery,c);const m=a.components;null!==m&&function(a,l){for(let c=0;c<l.length;c++)HC(a,l[c])}(l,m)}catch(h){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),h}finally{l[2]&=-5,Qh()}}function lo(a,l,c,h){const p=l[2];if(256==(256&p))return;Zh(l);const m=Uu();try{Hh(l),function(a){nt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&_c(a,l,c,2,h);const v=3==(3&p);if(!m)if(v){const D=a.preOrderCheckHooks;null!==D&&Hu(l,D,null)}else{const D=a.preOrderHooks;null!==D&&ef(l,D,0,null),yy(l,0)}if(function(a){for(let l=lc(a);null!==l;l=Cf(l)){if(!l[2])continue;const c=l[9];for(let h=0;h<c.length;h++){const p=c[h],m=p[3];0==(1024&p[2])&&Vu(m,1),p[2]|=1024}}}(l),function(a){for(let l=lc(a);null!==l;l=Cf(l))for(let c=10;c<l.length;c++){const h=l[c],p=h[1];jh(h)&&lo(p,h,p.template,h[8])}}(l),null!==a.contentQueries&&Hf(a,l),!m)if(v){const D=a.contentCheckHooks;null!==D&&Hu(l,D)}else{const D=a.contentHooks;null!==D&&ef(l,D,1),yy(l,1)}!function(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const p=c[h];if(p<0)to(~p);else{const m=p,v=c[++h],_=c[++h];IE(v,m),_(2,l[m])}}}finally{to(-1)}}(a,l);const _=a.components;null!==_&&function(a,l){for(let c=0;c<l.length;c++)Rc(a,l[c])}(l,_);const w=a.viewQuery;if(null!==w&&Qf(2,w,h),!m)if(v){const D=a.viewCheckHooks;null!==D&&Hu(l,D)}else{const D=a.viewHooks;null!==D&&ef(l,D,2),yy(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),m||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,Vu(l[3],-1))}finally{Qh()}}function Gf(a,l,c,h){const p=l[10],m=!Uu(),v=Nu(l);try{m&&!v&&p.begin&&p.begin(),v&&Ws(a,l,h),lo(a,l,c,h)}finally{m&&!v&&p.end&&p.end()}}function _c(a,l,c,h,p){const m=Zt(),v=2&h;try{to(-1),v&&l.length>20&&pv(a,l,20,Uu()),c(h,p)}finally{to(m)}}function fr(a,l,c){if(ry(l)){const p=l.directiveEnd;for(let m=l.directiveStart;m<p;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function bc(a,l,c){!qh()||(function(a,l,c,h){const p=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||Ar(c,l),Zn(h,l);const v=c.initialInputs;for(let _=p;_<m;_++){const w=a.data[_],D=Jr(w);D&&uo(l,c,w);const S=xs(l,a,_,c);Zn(S,l),null!==v&&bi(0,_-p,S,w,0,v),D&&(Sr(c.index,l)[8]=S)}}(a,l,c,Wn(c,l)),128==(128&c.flags)&&function(a,l,c){const h=c.directiveStart,p=c.directiveEnd,v=c.index,_=nt.lFrame.currentDirectiveIndex;try{to(v);for(let w=h;w<p;w++){const D=a.data[w],S=l[w];Yh(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Tc(D,S)}}finally{to(-1),Yh(_)}}(a,l,c))}function ml(a,l,c=Wn){const h=l.localNames;if(null!==h){let p=l.index+1;for(let m=0;m<h.length;m+=2){const v=h[m+1],_=-1===v?c(l,a):a[v];a[p++]=_}}}function wc(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=yl(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function yl(a,l,c,h,p,m,v,_,w,D){const S=20+h,M=S+p,N=function(a,l){const c=[];for(let h=0;h<l;h++)c.push(h<a?null:ot);return c}(S,M),U="function"==typeof D?D():D;return N[1]={type:a,blueprint:N,template:c,queries:null,viewQuery:_,declTNode:l,data:N.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:w,consts:U,incompleteFirstPass:!1}}function Ec(a,l,c,h){const p=Xf(l);null===c?p.push(h):(p.push(c),a.firstCreatePass&&ep(a).push(h,p.length-1))}function Cc(a,l,c){for(let h in a)if(a.hasOwnProperty(h)){const p=a[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(l,p):c[h]=[l,p]}return c}function pr(a,l,c,h,p,m,v,_){const w=Wn(l,c);let S,D=l.inputs;!_&&null!=D&&(S=D[h])?(tp(a,c,S,h,p),Ka(l)&&function(a,l){const c=Sr(l,a);16&c[2]||(c[2]|=64)}(c,l.index)):3&l.type&&(h=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(h),p=null!=v?v(p,l.value||"",h):p,Kt(m)?m.setProperty(w,h,p):yn(h)||(w.setProperty?w.setProperty(h,p):w[h]=p))}function Ov(a,l,c,h){let p=!1;if(qh()){const m=function(a,l,c){const h=a.directiveRegistry;let p=null;if(h)for(let m=0;m<h.length;m++){const v=h[m];DC(c,v.selectors,!1)&&(p||(p=[]),Is(Ar(c,l),a,v.type),Jr(v)?(Mc(a,c),p.unshift(v)):p.push(v))}return p}(a,l,c),v=null===h?null:{"":-1};if(null!==m){p=!0,Wo(c,a.data.length,m.length);for(let S=0;S<m.length;S++){const M=m[S];M.providersResolver&&M.providersResolver(M)}let _=!1,w=!1,D=Mr(a,l,m.length,null);for(let S=0;S<m.length;S++){const M=m[S];c.mergedAttrs=Ms(c.mergedAttrs,M.hostAttrs),Yf(a,c,l,D,M),jC(D,M,v),null!==M.contentQueries&&(c.flags|=8),(null!==M.hostBindings||null!==M.hostAttrs||0!==M.hostVars)&&(c.flags|=128);const N=M.type.prototype;!_&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),_=!0),!w&&(N.ngOnChanges||N.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),w=!0),D++}!function(a,l){const h=l.directiveEnd,p=a.data,m=l.attrs,v=[];let _=null,w=null;for(let D=l.directiveStart;D<h;D++){const S=p[D],M=S.inputs,N=null===m||dv(l)?null:Yo(M,m);v.push(N),_=Cc(M,D,_),w=Cc(S.outputs,D,w)}null!==_&&(_.hasOwnProperty("class")&&(l.flags|=16),_.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=_,l.outputs=w}(a,c)}v&&function(a,l,c){if(l){const h=a.localNames=[];for(let p=0;p<l.length;p+=2){const m=c[l[p+1]];if(null==m)throw new _e("301",`Export of name '${l[p+1]}' not found!`);h.push(l[p],m)}}}(c,h,v)}return c.mergedAttrs=Ms(c.mergedAttrs,c.attrs),p}function UC(a,l,c,h,p,m){const v=m.hostBindings;if(v){let _=a.hostBindingOpCodes;null===_&&(_=a.hostBindingOpCodes=[]);const w=~l.index;(function(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(_)!=w&&_.push(w),_.push(h,p,v)}}function Tc(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Mc(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function jC(a,l,c){if(c){if(l.exportAs)for(let h=0;h<l.exportAs.length;h++)c[l.exportAs[h]]=a;Jr(l)&&(c[""]=a)}}function Wo(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Yf(a,l,c,h,p){a.data[h]=p;const m=p.factory||(p.factory=Fo(p.type)),v=new Gu(m,Jr(p),null);a.blueprint[h]=v,c[h]=v,UC(a,l,0,h,Mr(a,c,p.hostVars,ot),p)}function uo(a,l,c){const h=Wn(l,a),p=wc(c),m=a[10],v=Fc(a,zo(a,p,null,c.onPush?64:16,h,l,m,m.createRenderer(h,c),null,null));a[l.index]=v}function ii(a,l,c,h,p,m){const v=Wn(a,l);!function(a,l,c,h,p,m,v){if(null==m)Kt(a)?a.removeAttribute(l,p,c):l.removeAttribute(p);else{const _=null==v?de(m):v(m,h||"",p);Kt(a)?a.setAttribute(l,p,_,c):c?l.setAttributeNS(c,p,_):l.setAttribute(p,_)}}(l[11],v,m,a.value,c,h,p)}function bi(a,l,c,h,p,m){const v=m[l];if(null!==v){const _=h.setInput;for(let w=0;w<v.length;){const D=v[w++],S=v[w++],M=v[w++];null!==_?h.setInput(c,M,D,S):c[S]=M}}}function Yo(a,l){let c=null,h=0;for(;h<l.length;){const p=l[h];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===c&&(c=[]),c.push(p,a[p],l[h+1])),h+=2}else h+=2;else h+=4}return c}function Fv(a,l,c,h){return new Array(a,!0,!1,l,null,0,h,c,null,null)}function Rc(a,l){const c=Sr(l,a);if(jh(c)){const h=c[1];80&c[2]?lo(h,c,h.template,c[8]):c[5]>0&&Ks(c)}}function Ks(a){for(let h=lc(a);null!==h;h=Cf(h))for(let p=10;p<h.length;p++){const m=h[p];if(1024&m[2]){const v=m[1];lo(v,m,v.template,m[8])}else m[5]>0&&Ks(m)}const c=a[1].components;if(null!==c)for(let h=0;h<c.length;h++){const p=Sr(c[h],a);jh(p)&&p[5]>0&&Ks(p)}}function HC(a,l){const c=Sr(l,a),h=c[1];(function(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(h,c),Ws(h,c,c[8])}function Fc(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Pc(a){for(;a;){a[2]|=64;const l=ac(a);if(cE(a)&&!l)return a;a=l}return null}function vl(a,l,c){const h=l[10];h.begin&&h.begin();try{lo(a,l,a.template,c)}catch(p){throw Nc(l,p),p}finally{h.end&&h.end()}}function _l(a){!function(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],h=Yy(c),p=h[1];Gf(p,h,p.template,c)}}(a[8])}function Qf(a,l,c){ju(0),l(a,c)}const kc=(()=>Promise.resolve(null))();function Xf(a){return a[7]||(a[7]=[])}function ep(a){return a.cleanup||(a.cleanup=[])}function Nv(a,l,c){return(null===a||Jr(a))&&(c=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Nc(a,l){const c=a[9],h=c?c.get(sc,null):null;h&&h.handleError(l)}function tp(a,l,c,h,p){for(let m=0;m<c.length;){const v=c[m++],_=c[m++],w=l[v],D=a.data[v];null!==D.setInput?D.setInput(w,p,h,_):w[_]=p}}function zi(a,l,c){const h=Pu(l,a);!function(a,l,c){Kt(a)?a.setValue(l,c):l.textContent=c}(a[11],h,c)}function Lc(a,l,c){let h=c?a.styles:null,p=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const _=l[v];"number"==typeof _?m=_:1==m?p=J(p,_):2==m&&(h=J(h,_+": "+l[++v]+";"))}c?a.styles=h:a.stylesWithoutHost=h,c?a.classes=p:a.classesWithoutHost=p}const Zs=new Ht("INJECTOR",-1);class Lv{get(l,c=Zu){if(c===Zu){const h=new Error(`NullInjectorError: No provider for ${se(l)}!`);throw h.name="NullInjectorError",h}return c}}const qi=new Ht("Set Injector scope."),Ko={},np={};let Qs;function Vv(){return void 0===Qs&&(Qs=new Lv),Qs}function Bv(a,l=null,c=null,h){const p=Uv(a,l,c,h);return p._resolveInjectorDefTypes(),p}function Uv(a,l=null,c=null,h){return new WC(a,c,l||Vv(),h)}class WC{constructor(l,c,h,p=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const m=[];c&&Vr(c,_=>this.processProvider(_,l,c)),Vr([l],_=>this.processInjectorType(_,[],m)),this.records.set(Zs,co(void 0,this));const v=this.records.get(qi);this.scope=null!=v?v.value:null,this.source=p||("object"==typeof l?null:se(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,c=Zu,h=ze.Default){this.assertNotDestroyed();const p=xy(this),m=Yt(void 0);try{if(!(h&ze.SkipSelf)){let _=this.records.get(l);if(void 0===_){const w=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Ht)&&Zr(l);_=w&&this.injectableDefInScope(w)?co(rp(l),Ko):null,this.records.set(l,_)}if(null!=_)return this.hydrate(l,_)}return(h&ze.Self?Vv():this.parent).get(l,c=h&ze.Optional&&c===Zu?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[pf]=v[pf]||[]).unshift(se(l)),p)throw v;return function(a,l,c,h){const p=a[pf];throw l[Iy]&&p.unshift(l[Iy]),a.message=function(a,l,c,h=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=se(l);if(Array.isArray(l))p=l.map(se).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let _=l[v];m.push(v+":"+("string"==typeof _?JSON.stringify(_):se(_)))}p=`{${m.join(", ")}}`}return`${c}${h?"("+h+")":""}[${p}]: ${a.replace(PM,"\n  ")}`}("\n"+a.message,p,c,h),a.ngTokenPath=p,a[pf]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Yt(m),xy(p)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((h,p)=>l.push(se(p))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,c,h){if(!(l=G(l)))return!1;let p=qa(l);const m=null==p&&l.ngModule||void 0,v=void 0===m?l:m,_=-1!==h.indexOf(v);if(void 0!==m&&(p=qa(m)),null==p)return!1;if(null!=p.imports&&!_){let S;h.push(v);try{Vr(p.imports,M=>{this.processInjectorType(M,c,h)&&(void 0===S&&(S=[]),S.push(M))})}finally{}if(void 0!==S)for(let M=0;M<S.length;M++){const{ngModule:N,providers:U}=S[M];Vr(U,ne=>this.processProvider(ne,N,U||k))}}this.injectorDefTypes.add(v);const w=Fo(v)||(()=>new v);this.records.set(v,co(w,Ko));const D=p.providers;if(null!=D&&!_){const S=l;Vr(D,M=>this.processProvider(M,S,D))}return void 0!==m&&void 0!==l.providers}processProvider(l,c,h){let p=Js(l=G(l))?l:G(l&&l.provide);const m=(a=l,wl(a)?co(void 0,a.useValue):co(bl(a),Ko));var a;if(Js(l)||!0!==l.multi)this.records.get(p);else{let v=this.records.get(p);v||(v=co(void 0,Ko,!0),v.factory=()=>Oy(v.multi),this.records.set(p,v)),p=l,v.multi.push(l)}this.records.set(p,m)}hydrate(l,c){return c.value===Ko&&(c.value=np,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(a=c.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const c=G(l.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function rp(a){const l=Zr(a),c=null!==l?l.factory:Fo(a);if(null!==c)return c;if(a instanceof Ht)throw new Error(`Token ${se(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const h=ks(l,"?");throw new Error(`Can't resolve all parameters for ${se(a)}: (${h.join(", ")}).`)}const c=function(a){const l=a&&(a[bt]||a[wr]);if(l){const c=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new Error("unreachable")}function bl(a,l,c){let h;if(Js(a)){const p=G(a);return Fo(p)||rp(p)}if(wl(a))h=()=>G(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))h=()=>a.useFactory(...Oy(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))h=()=>xn(G(a.useExisting));else{const p=G(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Fo(p)||rp(p);h=()=>new p(...Oy(a.deps))}return h}function co(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function wl(a){return null!==a&&"object"==typeof a&&qE in a}function Js(a){return"function"==typeof a}let jr=(()=>{class a{static create(c,h){var p;if(Array.isArray(c))return Bv({name:""},h,c,"");{const m=null!=(p=c.name)?p:"";return Bv({name:m},c.parent,c.providers,m)}}}return a.THROW_IF_NOT_FOUND=Zu,a.NULL=new Lv,a.\u0275prov=mt({token:a,providedIn:"any",factory:()=>xn(Zs)}),a.__NG_ELEMENT_ID__=-1,a})();function hp(a,l){Xh(Yy(a)[1],on())}function Xs(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const h=[a];for(;l;){let p;if(Jr(a))p=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");p=l.\u0275dir}if(p){if(c){h.push(p);const v=a;v.inputs=jc(a.inputs),v.declaredInputs=jc(a.declaredInputs),v.outputs=jc(a.outputs);const _=p.hostBindings;_&&Hc(a,_);const w=p.viewQuery,D=p.contentQueries;if(w&&Zv(a,w),D&&Qv(a,D),K(a.inputs,p.inputs),K(a.declaredInputs,p.declaredInputs),K(a.outputs,p.outputs),Jr(p)&&p.data.animation){const S=a.data;S.animation=(S.animation||[]).concat(p.data.animation)}}const m=p.features;if(m)for(let v=0;v<m.length;v++){const _=m[v];_&&_.ngInherit&&_(a),_===Xs&&(c=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,c=null;for(let h=a.length-1;h>=0;h--){const p=a[h];p.hostVars=l+=p.hostVars,p.hostAttrs=Ms(p.hostAttrs,c=Ms(c,p.hostAttrs))}}(h)}function jc(a){return a===kt?{}:a===k?[]:a}function Zv(a,l){const c=a.viewQuery;a.viewQuery=c?(h,p)=>{l(h,p),c(h,p)}:l}function Qv(a,l){const c=a.contentQueries;a.contentQueries=c?(h,p,m)=>{l(h,p,m),c(h,p,m)}:l}function Hc(a,l){const c=a.hostBindings;a.hostBindings=c?(h,p)=>{l(h,p),c(h,p)}:l}let Gc=null;function ta(){if(!Gc){const a=Lt.Symbol;if(a&&a.iterator)Gc=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const h=l[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(Gc=h)}}}return Gc}function El(a){return!!qc(a)&&(Array.isArray(a)||!(a instanceof Map)&&ta()in a)}function qc(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Bn(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function fp(a,l,c,h){const p=fe();return Bn(p,Ts(),l)&&(Et(),ii(Qt(),p,a,l,c,h)),fp}function Jo(a,l,c,h){return Bn(a,Ts(),c)?l+de(c)+h:ot}function s_(a,l,c,h,p,m,v,_){const w=fe(),D=Et(),S=a+20,M=D.firstCreatePass?function(a,l,c,h,p,m,v,_,w){const D=l.consts,S=qo(l,a,4,v||null,ei(D,_));Ov(l,c,S,ei(D,w)),Xh(l,S);const M=S.tViews=yl(2,S,h,p,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,D);return null!==l.queries&&(l.queries.template(l,S),M.queries=l.queries.embeddedTView(S)),S}(S,D,w,l,c,h,p,m,v):D.data[S];Lr(M,!1);const N=w[11].createComment("");fl(D,w,N,M),Zn(N,w),Fc(w,w[S]=Fv(N,w,N,M)),Ru(M)&&bc(D,w,M),null!=v&&ml(w,M,_)}function aD(a){return function(a,l){return a[l]}(nt.lFrame.contextLView,20+a)}function oa(a,l=ze.Default){const c=fe();return null===c?xn(a,l):tl(on(),c,G(a),l)}function __(){throw new Error("invalid")}function Wc(a,l,c){const h=fe();return Bn(h,Ts(),l)&&pr(Et(),Qt(),h,a,l,h[11],c,!1),Wc}function b_(a,l,c,h,p){const v=p?"class":"style";tp(a,c,l.inputs[v],v,h)}function Cp(a,l,c,h){const p=fe(),m=Et(),v=20+a,_=p[11],w=p[v]=Sf(_,l,nt.lFrame.currentNamespace),D=m.firstCreatePass?function(a,l,c,h,p,m,v){const _=l.consts,D=qo(l,a,2,p,ei(_,m));return Ov(l,c,D,ei(_,v)),null!==D.attrs&&Lc(D,D.attrs,!1),null!==D.mergedAttrs&&Lc(D,D.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,D),D}(v,m,p,0,l,c,h):m.data[v];Lr(D,!0);const S=D.mergedAttrs;null!==S&&gt(_,w,S);const M=D.classes;null!==M&&fc(_,w,M);const N=D.styles;null!==N&&cv(_,w,N),64!=(64&D.flags)&&fl(m,p,w,D),0===nt.lFrame.elementDepthCount&&Zn(w,p),nt.lFrame.elementDepthCount++,Ru(D)&&(bc(m,p,D),fr(m,D,p)),null!==h&&ml(p,D)}function w_(){let a=on();$h()?Bu():(a=a.parent,Lr(a,!1));const l=a;nt.lFrame.elementDepthCount--;const c=Et();c.firstCreatePass&&(Xh(c,a),ry(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&b_(c,l,fe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&b_(c,l,fe(),l.stylesWithoutHost,!1)}function bD(a,l,c,h){Cp(a,l,c,h),w_()}function E_(a,l,c){const h=fe(),p=Et(),m=a+20,v=p.firstCreatePass?function(a,l,c,h,p){const m=l.consts,v=ei(m,h),_=qo(l,a,8,"ng-container",v);return null!==v&&Lc(_,v,!0),Ov(l,c,_,ei(m,p)),null!==l.queries&&l.queries.elementStart(l,_),_}(m,p,h,l,c):p.data[m];Lr(v,!0);const _=h[m]=h[11].createComment("");fl(p,h,_,v),Zn(_,h),Ru(v)&&(bc(p,h,v),fr(p,v,h)),null!=c&&ml(h,v)}function C_(){let a=on();const l=Et();$h()?Bu():(a=a.parent,Lr(a,!1)),l.firstCreatePass&&(Xh(l,a),ry(a)&&l.queries.elementEnd(a))}function wD(){return fe()}function D_(a){return!!a&&"function"==typeof a.then}function Yc(a){return!!a&&"function"==typeof a.subscribe}const ED=Yc;function S_(a,l,c,h){const p=fe(),m=Et(),v=on();return A_(m,p,p[11],v,a,l,!!c,h),S_}function rs(a,l){const c=on(),h=fe(),p=Et();return A_(p,h,Nv(Kh(p.data),c,h),c,a,l,!1),rs}function A_(a,l,c,h,p,m,v,_){const w=Ru(h),S=a.firstCreatePass&&ep(a),M=l[8],N=Xf(l);let U=!0;if(3&h.type||_){const Ie=Wn(h,l),Le=_?_(Ie):Ie,ue=N.length,Ke=_?yt=>_(rn(yt[h.index])):h.index;if(Kt(c)){let yt=null;if(!_&&w&&(yt=function(a,l,c,h){const p=a.cleanup;if(null!=p)for(let m=0;m<p.length-1;m+=2){const v=p[m];if(v===c&&p[m+1]===h){const _=l[7],w=p[m+2];return _.length>w?_[w]:null}"string"==typeof v&&(m+=2)}return null}(a,l,p,h.index)),null!==yt)(yt.__ngLastListenerFn__||yt).__ngNextListenerFn__=m,yt.__ngLastListenerFn__=m,U=!1;else{m=Sp(h,l,M,m,!1);const Rt=c.listen(Le,p,m);N.push(m,Rt),S&&S.push(p,Ke,ue,ue+1)}}else m=Sp(h,l,M,m,!0),Le.addEventListener(p,m,v),N.push(m),S&&S.push(p,Ke,ue,v)}else m=Sp(h,l,M,m,!1);const ne=h.outputs;let Ee;if(U&&null!==ne&&(Ee=ne[p])){const Ie=Ee.length;if(Ie)for(let Le=0;Le<Ie;Le+=2){const xr=l[Ee[Le]][Ee[Le+1]].subscribe(m),hs=N.length;N.push(m,xr),S&&S.push(p,h.index,hs,-(hs+1))}}}function Dp(a,l,c,h){try{return!1!==c(h)}catch(p){return Nc(a,p),!1}}function Sp(a,l,c,h,p){return function m(v){if(v===Function)return h;const _=2&a.flags?Sr(a.index,l):l;0==(32&l[2])&&Pc(_);let w=Dp(l,0,h,v),D=m.__ngNextListenerFn__;for(;D;)w=Dp(l,0,D,v)&&w,D=D.__ngNextListenerFn__;return p&&!1===w&&(v.preventDefault(),v.returnValue=!1),w}}function Kc(a=1){return function(a){return(nt.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,nt.lFrame.contextLView))[8]}(a)}function T_(a,l){let c=null;const h=function(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let p=0;p<l.length;p++){const m=l[p];if("*"!==m){if(null===h?DC(a,m,!0):AC(h,m))return p}else c=p}return c}function Ap(a){const l=fe()[16][6];if(!l.projection){const h=l.projection=ks(a?a.length:1,null),p=h.slice();let m=l.child;for(;null!==m;){const v=a?T_(m,a):0;null!==v&&(p[v]?p[v].projectionNext=m:h[v]=m,p[v]=m),m=m.next}}}function M_(a,l=0,c){const h=fe(),p=Et(),m=qo(p,20+a,16,null,c||null);null===m.projection&&(m.projection=l),Bu(),64!=(64&m.flags)&&function(a,l,c){uv(l[11],0,l,c,nv(a,c,l),ov(c.parent||l[6],c,l))}(p,h,m)}function P_(a,l,c,h,p){const m=a[c+1],v=null===l;let _=h?ni(m):Gi(m),w=!1;for(;0!==_&&(!1===w||v);){const S=a[_+1];SD(a[_],l)&&(w=!0,a[_+1]=h?Lf(S):kf(S)),_=h?ni(S):Gi(S)}w&&(a[c+1]=h?kf(m):Lf(m))}function SD(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Vs(a,l)>=0}const dn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qc(a){return a.substring(dn.key,dn.keyEnd)}function xp(a,l){const c=dn.textEnd;return c===l?-1:(l=dn.keyEnd=function(a,l,c){for(;l<c&&a.charCodeAt(l)>32;)l++;return l}(a,dn.key=l,c),po(a,l,c))}function po(a,l,c){for(;l<c&&a.charCodeAt(l)<=32;)l++;return l}function Op(a,l,c){return zr(a,l,c,!1),Op}function Rp(a,l){return zr(a,l,null,!0),Rp}function Ci(a,l){for(let c=function(a){return function(a){dn.key=0,dn.keyEnd=0,dn.value=0,dn.valueEnd=0,dn.textEnd=a.length}(a),xp(a,po(a,0,dn.textEnd))}(l);c>=0;c=xp(l,c))Br(a,Qc(l),!0)}function zr(a,l,c,h){const p=fe(),m=Et(),v=Li(2);m.firstUpdatePass&&B_(m,a,v,h),l!==ot&&Bn(p,v,l)&&Pp(m,m.data[Zt()],p,p[11],a,p[v+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=se(so(a)))),a}(l,c),h,v)}function V_(a,l){return l>=a.expandoStartIndex}function B_(a,l,c,h){const p=a.data;if(null===p[c+1]){const m=p[Zt()],v=V_(a,c);kp(m,h)&&null===l&&!v&&(l=!1),l=function(a,l,c,h){const p=Kh(a);let m=h?l.residualClasses:l.residualStyles;if(null===p)0===(h?l.classBindings:l.styleBindings)&&(c=Xc(c=j_(null,a,l,c,h),l.attrs,h),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==p)if(c=j_(p,a,l,c,h),null===m){let w=function(a,l,c){const h=c?l.classBindings:l.styleBindings;if(0!==Gi(h))return a[ni(h)]}(a,l,h);void 0!==w&&Array.isArray(w)&&(w=j_(null,a,l,w[1],h),w=Xc(w,l.attrs,h),function(a,l,c,h){a[ni(c?l.classBindings:l.styleBindings)]=h}(a,l,h,w))}else m=function(a,l,c){let h;const p=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<p;m++)h=Xc(h,a[m].hostAttrs,c);return Xc(h,l.attrs,c)}(a,l,h)}return void 0!==m&&(h?l.residualClasses=m:l.residualStyles=m),c}(p,m,l,h),function(a,l,c,h,p,m){let v=m?l.classBindings:l.styleBindings,_=ni(v),w=Gi(v);a[h]=c;let S,D=!1;if(Array.isArray(c)){const M=c;S=M[1],(null===S||Vs(M,S)>0)&&(D=!0)}else S=c;if(p)if(0!==w){const N=ni(a[_+1]);a[h+1]=pc(N,_),0!==N&&(a[N+1]=Nf(a[N+1],h)),a[_+1]=function(a,l){return 131071&a|l<<17}(a[_+1],h)}else a[h+1]=pc(_,0),0!==_&&(a[_+1]=Nf(a[_+1],h)),_=h;else a[h+1]=pc(w,0),0===_?_=h:a[w+1]=Nf(a[w+1],h),w=h;D&&(a[h+1]=kf(a[h+1])),P_(a,S,h,!0),P_(a,S,h,!1),function(a,l,c,h,p){const m=p?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Vs(m,l)>=0&&(c[h+1]=Lf(c[h+1]))}(l,S,a,h,m),v=pc(_,w),m?l.classBindings=v:l.styleBindings=v}(p,m,l,c,v,h)}}function j_(a,l,c,h,p){let m=null;const v=c.directiveEnd;let _=c.directiveStylingLast;for(-1===_?_=c.directiveStart:_++;_<v&&(m=l[_],h=Xc(h,m.hostAttrs,p),m!==a);)_++;return null!==a&&(c.directiveStylingLast=_),h}function Xc(a,l,c){const h=c?1:2;let p=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?p=v:p===h&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Br(a,v,!!c||l[++m]))}return void 0===a?null:a}function Pp(a,l,c,h,p,m,v,_){if(!(3&l.type))return;const w=a.data,D=w[_+1];Wi(function(a){return 1==(1&a)}(D)?FD(w,l,c,p,Gi(D),v):void 0)||(Wi(m)||function(a){return 2==(2&a)}(D)&&(m=FD(w,null,c,p,_,v)),function(a,l,c,h,p){const m=Kt(a);if(l)p?m?a.addClass(c,h):c.classList.add(h):m?a.removeClass(c,h):c.classList.remove(h);else{let v=-1===h.indexOf("-")?void 0:Hi.DashCase;if(null==p)m?a.removeStyle(c,h,v):c.style.removeProperty(h);else{const _="string"==typeof p&&p.endsWith("!important");_&&(p=p.slice(0,-10),v|=Hi.Important),m?a.setStyle(c,h,p,v):c.style.setProperty(h,p,_?"important":"")}}}(h,v,Pu(Zt(),c),p,m))}function FD(a,l,c,h,p,m){const v=null===l;let _;for(;p>0;){const w=a[p],D=Array.isArray(w),S=D?w[1]:w,M=null===S;let N=c[p+1];N===ot&&(N=M?k:void 0);let U=M?ol(N,h):S===h?N:void 0;if(D&&!Wi(U)&&(U=ol(w,h)),Wi(U)&&(_=U,v))return _;const ne=a[p+1];p=v?ni(ne):Gi(ne)}if(null!==l){let w=m?l.residualClasses:l.residualStyles;null!=w&&(_=ol(w,h))}return _}function Wi(a){return void 0!==a}function kp(a,l){return 0!=(a.flags&(l?16:32))}function G_(a,l=""){const c=fe(),h=Et(),p=a+20,m=h.firstCreatePass?qo(h,p,1,l,null):h.data[p],v=c[p]=function(a,l){return Kt(a)?a.createText(l):a.createTextNode(l)}(c[11],l);fl(h,c,v,m),Lr(m,!1)}function Np(a){return ed("",a,""),Np}function ed(a,l,c){const h=fe(),p=Jo(h,a,l,c);return p!==ot&&zi(h,Zt(),p),ed}function J_(a,l,c){!function(a,l,c,h){const p=Et(),m=Li(2);p.firstUpdatePass&&B_(p,null,m,h);const v=fe();if(c!==ot&&Bn(v,m,c)){const _=p.data[Zt()];if(kp(_,h)&&!V_(p,m)){let w=h?_.classesWithoutHost:_.stylesWithoutHost;null!==w&&(c=J(w,c||"")),b_(p,_,v,c,h)}else!function(a,l,c,h,p,m,v,_){p===ot&&(p=k);let w=0,D=0,S=0<p.length?p[0]:null,M=0<m.length?m[0]:null;for(;null!==S||null!==M;){const N=w<p.length?p[w+1]:void 0,U=D<m.length?m[D+1]:void 0;let Ee,ne=null;S===M?(w+=2,D+=2,N!==U&&(ne=M,Ee=U)):null===M||null!==S&&S<M?(w+=2,ne=S):(D+=2,ne=M,Ee=U),null!==ne&&Pp(a,l,c,h,ne,Ee,v,_),S=w<p.length?p[w]:null,M=D<m.length?m[D]:null}}(p,_,v,v[11],v[m+1],v[m+1]=function(a,l,c){if(null==c||""===c)return k;const h=[],p=so(c);if(Array.isArray(p))for(let m=0;m<p.length;m++)a(h,p[m],!0);else if("object"==typeof p)for(const m in p)p.hasOwnProperty(m)&&a(h,m,p[m]);else"string"==typeof p&&l(h,p);return h}(a,l,c),h,m)}}(Br,Ci,Jo(fe(),a,l,c),!0)}function nd(a,l,c){const h=fe();return Bn(h,Ts(),l)&&pr(Et(),Qt(),h,a,l,h[11],c,!0),nd}function Vp(a,l,c){const h=fe();if(Bn(h,Ts(),l)){const m=Et(),v=Qt();pr(m,v,h,a,l,Nv(Kh(m.data),v,h),c,!0)}return Vp}const is=void 0;var Up=["en",[["a","p"],["AM","PM"],is],[["AM","PM"],is,is],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],is,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],is,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",is,"{1} 'at' {0}",is],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const c=Math.floor(Math.abs(a)),h=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===h?1:5}];let Si={};function rd(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=YD(l);if(c)return c;const h=l.split("-")[0];if(c=YD(h),c)return c;if("en"===h)return Up;throw new Error(`Missing locale data for the locale "${a}".`)}function WD(a){return rd(a)[Xe.PluralCase]}function YD(a){return a in Si||(Si[a]=Lt.ng&&Lt.ng.common&&Lt.ng.common.locales&&Lt.ng.common.locales[a]),Si[a]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const Sl="en-US";let oi=Sl;function ss(a,l,c,h,p){if(a=G(a),Array.isArray(a))for(let m=0;m<a.length;m++)ss(a[m],l,c,h,p);else{const m=Et(),v=fe();let _=Js(a)?a:G(a.provide),w=bl(a);const D=on(),S=1048575&D.providerIndexes,M=D.directiveStart,N=D.providerIndexes>>20;if(Js(a)||!a.multi){const U=new Gu(w,p,oa),ne=pd(_,l,p?S:S+N,M);-1===ne?(Is(Ar(D,v),m,_),eg(m,a,l.length),l.push(_),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),c.push(U),v.push(U)):(c[ne]=U,v[ne]=U)}else{const U=pd(_,l,S+N,M),ne=pd(_,l,S,S+N),Ee=U>=0&&c[U],Ie=ne>=0&&c[ne];if(p&&!Ie||!p&&!Ee){Is(Ar(D,v),m,_);const Le=function(a,l,c,h,p){const m=new Gu(a,c,oa);return m.multi=[],m.index=l,m.componentProviders=0,fd(m,p,h&&!c),m}(p?Tb:tg,c.length,p,h,w);!p&&Ie&&(c[ne].providerFactory=Le),eg(m,a,l.length,0),l.push(_),D.directiveStart++,D.directiveEnd++,p&&(D.providerIndexes+=1048576),c.push(Le),v.push(Le)}else eg(m,a,U>-1?U:ne,fd(c[p?ne:U],w,!p&&h));!p&&h&&Ie&&c[ne].componentProviders++}}}function eg(a,l,c,h){const p=Js(l),m=function(a){return!!a.useClass}(l);if(p||m){const w=(m?G(l.useClass):l).prototype.ngOnDestroy;if(w){const D=a.destroyHooks||(a.destroyHooks=[]);if(!p&&l.multi){const S=D.indexOf(c);-1===S?D.push(c,[h,w]):D[S+1].push(h,w)}else D.push(c,w)}}}function fd(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function pd(a,l,c,h){for(let p=c;p<h;p++)if(l[p]===a)return p;return-1}function tg(a,l,c,h){return Rl(this.multi,[])}function Tb(a,l,c,h){const p=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,_=xs(c,c[1],this.providerFactory.index,h);m=_.slice(0,v),Rl(p,m);for(let w=v;w<_.length;w++)m.push(_[w])}else m=[],Rl(p,m);return m}function Rl(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function Fl(a,l=[]){return c=>{c.providersResolver=(h,p)=>function(a,l,c){const h=Et();if(h.firstCreatePass){const p=Jr(a);ss(c,h.data,h.blueprint,p,!0),ss(l,h.data,h.blueprint,p,!1)}}(h,p?p(a):a,l)}}class Mb{}class Ib{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${se(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let md=(()=>{class a{}return a.NULL=new Ib,a})();function Bx(){return Pl(on(),fe())}function Pl(a,l){return new yd(Wn(a,l))}let yd=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Bx,a})();function gS(a){return a instanceof yd?a.nativeElement:a}class xb{}let Ob=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function(){const a=fe(),c=Sr(on().index,a);return function(a){return a[11]}(kr(c)?c:a)}(),a})(),vS=(()=>{class a{}return a.\u0275prov=mt({token:a,providedIn:"root",factory:()=>null}),a})();class ig{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Rb=new ig("13.0.3"),Fb={};function Nl(a,l,c,h,p=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&h.push(rn(m)),Nr(m))for(let _=10;_<m.length;_++){const w=m[_],D=w[1].firstChild;null!==D&&Nl(w[1],w,D,h)}const v=c.type;if(8&v)Nl(a,l,c.child,h);else if(32&v){const _=Jy(c,l);let w;for(;w=_();)h.push(w)}else if(16&v){const _=av(l,c);if(Array.isArray(_))h.push(..._);else{const w=ac(l[16]);Nl(w[1],w,_,h,!0)}}c=p?c.projectionNext:c.next}return h}class Ll{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Nl(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Nr(l)){const c=l[8],h=c?c.indexOf(this):-1;h>-1&&(Mf(l,h),il(c,h))}this._attachedToViewContainer=!1}ev(this._lView[1],this._lView)}onDestroy(l){Ec(this._lView[1],this._lView,null,l)}markForCheck(){Pc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){vl(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,c){Xa(!0);try{vl(a,l,c)}finally{Xa(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,_n(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class Pb extends Ll{constructor(l){super(l),this._view=l}detectChanges(){_l(this._view)}checkNoChanges(){!function(a){Xa(!0);try{_l(a)}finally{Xa(!1)}}(this._view)}get context(){return null}}class kb extends md{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=kn(l);return new sg(c,this.ngModule)}}function og(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}const _S=new Ht("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>fC});class sg extends Mb{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=l.selectors.map($I).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return og(this.componentDef.inputs)}get outputs(){return og(this.componentDef.outputs)}create(l,c,h,p){const m=(p=p||this.ngModule)?function(a,l){return{get:(c,h,p)=>{const m=a.get(c,Fb,p);return m!==Fb||h===Fb?m:l.get(c,h,p)}}}(l,p.injector):l,v=m.get(xb,bE),_=m.get(vS,null),w=v.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",S=h?function(a,l,c){if(Kt(a))return a.selectRootElement(l,c===$e.ShadowDom);let h="string"==typeof l?a.querySelector(l):l;return h.textContent="",h}(w,h,this.componentDef.encapsulation):Sf(v.createRenderer(null,this.componentDef),D,function(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(D)),M=this.componentDef.onPush?576:528,N=function(a,l){return{components:[],scheduler:a||fC,clean:kc,playerHandler:l||null,flags:0}}(),U=yl(0,null,null,1,0,null,null,null,null,null),ne=zo(null,U,N,M,null,null,v,w,_,m);let Ee,Ie;Zh(ne);try{const Le=function(a,l,c,h,p,m){const v=c[1];c[20]=a;const w=qo(v,20,2,"#host",null),D=w.mergedAttrs=l.hostAttrs;null!==D&&(Lc(w,D,!0),null!==a&&(gt(p,a,D),null!==w.classes&&fc(p,a,w.classes),null!==w.styles&&cv(p,a,w.styles)));const S=h.createRenderer(a,l),M=zo(c,wc(l),null,l.onPush?64:16,c[20],w,h,S,m||null,null);return v.firstCreatePass&&(Is(Ar(w,c),v,l.type),Mc(v,w),Wo(w,c.length,1)),Fc(c,M),c[20]=M}(S,this.componentDef,ne,v,w);if(S)if(h)gt(w,S,["ng-version",Rb.full]);else{const{attrs:ue,classes:Ke}=function(a){const l=[],c=[];let h=1,p=2;for(;h<a.length;){let m=a[h];if("string"==typeof m)2===p?""!==m&&l.push(m,a[++h]):8===p&&c.push(m);else{if(!_i(p))break;p=m}h++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);ue&&gt(w,S,ue),Ke&&Ke.length>0&&fc(w,S,Ke.join(" "))}if(Ie=ku(U,20),void 0!==c){const ue=Ie.projection=[];for(let Ke=0;Ke<this.ngContentSelectors.length;Ke++){const yt=c[Ke];ue.push(null!=yt?Array.from(yt):null)}}Ee=function(a,l,c,h,p){const m=c[1],v=function(a,l,c){const h=on();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Yf(a,h,l,Mr(a,l,1,null),c));const p=xs(l,a,h.directiveStart,h);Zn(p,l);const m=Wn(h,l);return m&&Zn(m,l),p}(m,c,l);if(h.components.push(v),a[8]=v,p&&p.forEach(w=>w(v,l)),l.contentQueries){const w=on();l.contentQueries(1,v,w.directiveStart)}const _=on();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(to(_.index),UC(c[1],_,0,_.directiveStart,_.directiveEnd,l),Tc(l,v)),v}(Le,this.componentDef,ne,N,[hp]),Ws(U,ne,null)}finally{Qh()}return new ag(this.componentType,Ee,Pl(Ie,ne),ne,Ie)}}class ag extends class{}{constructor(l,c,h,p,m){super(),this.location=h,this._rootLView=p,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new Pb(p),this.componentType=l}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}class mo{}class lg{}const ya=new Map;class Ub extends mo{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new kb(this);const h=Nn(l);this._bootstrapComponents=ji(h.bootstrap),this._r3Injector=Uv(l,c,[{provide:mo,useValue:this},{provide:md,useValue:this.componentFactoryResolver}],se(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,c=jr.THROW_IF_NOT_FOUND,h=ze.Default){return l===jr||l===mo||l===Zs?this:this._r3Injector.get(l,c,h)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class _d extends lg{constructor(l){super(),this.moduleType=l,null!==Nn(l)&&function(a){const l=new Set;!function c(h){const p=Nn(h,!0),m=p.id;null!==m&&(function(a,l,c){if(l&&l!==c)throw new Error(`Duplicate module registered for ${a} - ${se(l)} vs ${se(l.name)}`)}(m,ya.get(m),h),ya.set(m,h));const v=ji(p.imports);for(const _ of v)l.has(_)||(l.add(_),c(_))}(a)}(l)}create(l){return new Ub(this.moduleType,l)}}function Qb(a){return l=>{setTimeout(a,void 0,l)}}const Ti=class extends f.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,h){var w,D,S;let p=l,m=c||(()=>null),v=h;if(l&&"object"==typeof l){const M=l;p=null==(w=M.next)?void 0:w.bind(M),m=null==(D=M.error)?void 0:D.bind(M),v=null==(S=M.complete)?void 0:S.bind(M)}this.__isAsync&&(m=Qb(m),p&&(p=Qb(p)),v&&(v=Qb(v)));const _=super.subscribe({next:p,error:m,complete:v});return l instanceof Q.w0&&l.add(_),_}};function IS(){return this._results[ta()]()}class dg{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=ta(),h=dg.prototype;h[c]||(h[c]=IS)}get changes(){return this._changes||(this._changes=new Ti)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const h=this;h.dirty=!1;const p=zt(l);(this._changesDetected=!function(a,l,c){if(a.length!==l.length)return!1;for(let h=0;h<a.length;h++){let p=a[h],m=l[h];if(c&&(p=c(p),m=c(m)),m!==p)return!1}return!0}(h._results,p,c))&&(h._results=p,h.length=p.length,h.last=p[this.length-1],h.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Cd=(()=>{class a{}return a.__NG_ELEMENT_ID__=Wx,a})();const qx=Cd,$x=class extends qx{constructor(l,c,h){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(l){const c=this._declarationTContainer.tViews,h=zo(this._declarationLView,c,l,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const m=this._declarationLView[19];return null!==m&&(h[19]=m.createEmbeddedView(c)),Ws(c,h,l),new Ll(h)}};function Wx(){return Dd(on(),fe())}function Dd(a,l){return 4&a.type?new $x(l,a,Pl(a,l)):null}let Sd=(()=>{class a{}return a.__NG_ELEMENT_ID__=xS,a})();function xS(){return RS(on(),fe())}const OS=Sd,hg=class extends OS{constructor(l,c,h){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=h}get element(){return Pl(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){const l=qu(this._hostTNode,this._hostLView);if(tf(l)){const c=el(l,this._hostLView),h=Ut(l);return new ko(c[1].data[h+8],c)}return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=fg(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,h){const p=l.createEmbeddedView(c||{});return this.insert(p,h),p}createComponent(l,c,h,p,m){const v=l&&!("function"==typeof l);let _;if(v)_=c;else{const M=c||{};_=M.index,h=M.injector,p=M.projectableNodes,m=M.ngModuleRef}const w=v?l:new sg(kn(l)),D=h||this.parentInjector;if(!m&&null==w.ngModule&&D){const M=D.get(mo,null);M&&(m=M)}const S=w.create(D,p,void 0,m);return this.insert(S.hostView,_),S}insert(l,c){const h=l._lView,p=h[1];if(Nr(h[3])){const S=this.indexOf(l);if(-1!==S)this.detach(S);else{const M=h[3],N=new hg(M,M[6],M[3]);N.detach(N.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function(a,l,c,h){const p=10+h,m=c.length;h>0&&(c[p-1][4]=l),h<m-10?(l[4]=c[p],No(c,10+h,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const _=l[19];null!==_&&_.insertView(a),l[2]|=128}(p,h,v,m);const _=hc(m,v),w=h[11],D=uc(w,v[7]);return null!==D&&function(a,l,c,h,p,m){h[0]=p,h[6]=l,_n(a,h,c,1,p,m)}(p,v[6],w,h,D,_),l.attachToViewContainerRef(),No(Jb(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=fg(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),h=Mf(this._lContainer,c);h&&(il(Jb(this._lContainer),c),ev(h[1],h))}detach(l){const c=this._adjustIndex(l,-1),h=Mf(this._lContainer,c);return h&&null!=il(Jb(this._lContainer),c)?new Ll(h):null}_adjustIndex(l,c=0){return null==l?this.length+c:l}};function fg(a){return a[8]}function Jb(a){return a[8]||(a[8]=[])}function RS(a,l){let c;const h=l[a.index];if(Nr(h))c=h;else{let p;if(8&a.type)p=rn(h);else{const m=l[11];p=m.createComment("");const v=Wn(a,l);Tr(m,uc(m,v),p,function(a,l){return Kt(a)?a.nextSibling(l):l.nextSibling}(m,v),!1)}l[a.index]=c=Fv(h,l,p,a),Fc(l,c)}return new hg(c,a,l)}class pg{constructor(l){this.queryList=l,this.matches=null}clone(){return new pg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Xb{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const h=null!==l.contentQueries?l.contentQueries[0]:c.length,p=[];for(let m=0;m<h;m++){const v=c.getByIndex(m);p.push(this.queries[v.indexInDeclarationView].clone())}return new Xb(p)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==_a(l,c).matches&&this.queries[c].setDirty()}}class FS{constructor(l,c,h=null){this.predicate=l,this.flags=c,this.read=h}}class e0{constructor(l=[]){this.queries=l}elementStart(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let h=0;h<this.length;h++){const p=null!==c?c.length:0,m=this.getByIndex(h).embeddedTView(l,p);m&&(m.indexInDeclarationView=h,null!==c?c.push(m):c=[m])}return null!==c?new e0(c):null}template(l,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class fn{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new fn(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=l.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let p=0;p<h.length;p++){const m=h[p];this.matchTNodeWithReadOption(l,c,PS(c,m)),this.matchTNodeWithReadOption(l,c,$u(c,l,m,!1,!1))}else h===Cd?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,$u(c,l,h,!1,!1))}matchTNodeWithReadOption(l,c,h){if(null!==h){const p=this.metadata.read;if(null!==p)if(p===yd||p===Sd||p===Cd&&4&c.type)this.addMatch(c.index,-2);else{const m=$u(c,l,p,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,h)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function PS(a,l){const c=a.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===l)return c[h+1];return null}function NS(a,l,c,h){return-1===c?function(a,l){return 11&a.type?Pl(a,l):4&a.type?Dd(a,l):null}(l,a):-2===c?function(a,l,c){return c===yd?Pl(l,a):c===Cd?Dd(l,a):c===Sd?RS(l,a):void 0}(a,l,h):xs(a,a[1],c,l)}function t0(a,l,c,h){const p=l[19].queries[h];if(null===p.matches){const m=a.data,v=c.matches,_=[];for(let w=0;w<v.length;w+=2){const D=v[w];_.push(D<0?null:NS(l,m[D],v[w+1],c.metadata.read))}p.matches=_}return p.matches}function gg(a,l,c,h){const p=a.queries.getByIndex(c),m=p.matches;if(null!==m){const v=t0(a,l,p,c);for(let _=0;_<m.length;_+=2){const w=m[_];if(w>0)h.push(v[_/2]);else{const D=m[_+1],S=l[-w];for(let M=10;M<S.length;M++){const N=S[M];N[17]===N[3]&&gg(N[1],N,D,h)}if(null!==S[9]){const M=S[9];for(let N=0;N<M.length;N++){const U=M[N];gg(U[1],U,D,h)}}}}}return h}function n0(a){const l=fe(),c=Et(),h=cy();ju(h+1);const p=_a(c,h);if(a.dirty&&Nu(l)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const m=p.crossesNgTemplate?gg(c,l,h,[]):t0(c,l,p,h);a.reset(m,gS),a.notifyOnChanges()}return!0}return!1}function r0(a,l,c){const h=Et();h.firstCreatePass&&(BS(h,new FS(a,l,c),-1),2==(2&l)&&(h.staticViewQueries=!0)),VS(h,fe(),l)}function o0(a,l,c,h){const p=Et();if(p.firstCreatePass){const m=on();BS(p,new FS(l,c,h),m.index),function(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(p,a),2==(2&c)&&(p.staticContentQueries=!0)}VS(p,fe(),c)}function mg(){return a=fe(),l=cy(),a[19].queries[l].queryList;var a,l}function VS(a,l,c){const h=new dg(4==(4&c));Ec(a,l,h,h.destroy),null===l[19]&&(l[19]=new Xb),l[19].queries.push(new pg(h))}function BS(a,l,c){null===a.queries&&(a.queries=new e0),a.queries.track(new fn(l,c))}function _a(a,l){return a.queries.getByIndex(l)}function xd(...a){}const Ag=new Ht("Application Initializer");let Xt=(()=>{class a{constructor(c){this.appInits=c,this.resolve=xd,this.reject=xd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,p)=>{this.resolve=h,this.reject=p})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const m=this.appInits[p]();if(D_(m))c.push(m);else if(ED(m)){const v=new Promise((_,w)=>{m.subscribe({complete:_,error:w})});c.push(v)}}Promise.all(c).then(()=>{h()}).catch(p=>{this.reject(p)}),0===c.length&&h(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(xn(Ag,8))},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();const Hl=new Ht("AppId"),vo={provide:Hl,useFactory:function(){return`${Tg()}${Tg()}${Tg()}`},deps:[]};function Tg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const E0=new Ht("Platform Initializer"),Mg=new Ht("Platform ID"),Ig=new Ht("appBootstrapListener");let xg=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();const Ea=new Ht("LocaleId"),Gl=new Ht("DefaultCurrencyCode");class Xn{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Od=(()=>{class a{compileModuleSync(c){return new _d(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const h=this.compileModuleSync(c),m=ji(Nn(c).declarations).reduce((v,_)=>{const w=kn(_);return w&&v.push(new sg(w)),v},[]);return new Xn(h,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();const A0=(()=>Promise.resolve(0))();function Rd(a){"undefined"==typeof Zone?A0.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class er{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ti(!1),this.onMicrotaskEmpty=new Ti(!1),this.onStable=new Ti(!1),this.onError=new Ti(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!h&&c,p.shouldCoalesceRunChangeDetection=h,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function(){let a=Lt.requestAnimationFrame,l=Lt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const h=l[Zone.__symbol__("OriginalDelegate")];h&&(l=h)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Lt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,zl(a),a.isCheckStableRunning=!0,Og(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),zl(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,p,m,v,_)=>{try{return Rg(a),c.invokeTask(p,m,v,_)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),I0(a)}},onInvoke:(c,h,p,m,v,_,w)=>{try{return Rg(a),c.invoke(p,m,v,_,w)}finally{a.shouldCoalesceRunChangeDetection&&l(),I0(a)}},onHasTask:(c,h,p,m)=>{c.hasTask(p,m),h===p&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,zl(a),Og(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,h,p,m)=>(c.handleError(p,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(p)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!er.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(er.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,c,h){return this._inner.run(l,c,h)}runTask(l,c,h,p){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+p,l,JS,xd,xd);try{return m.runTask(v,c,h)}finally{m.cancelTask(v)}}runGuarded(l,c,h){return this._inner.runGuarded(l,c,h)}runOutsideAngular(l){return this._outer.run(l)}}const JS={};function Og(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function zl(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function Rg(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function I0(a){a._nesting--,Og(a)}class x0{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ti,this.onMicrotaskEmpty=new Ti,this.onStable=new Ti,this.onError=new Ti}run(l,c,h){return l.apply(c,h)}runGuarded(l,c,h){return l.apply(c,h)}runOutsideAngular(l){return l()}runTask(l,c,h,p){return l.apply(c,h)}}let ql=(()=>{class a{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{er.assertNotInAngularZone(),Rd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Rd(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,p){let m=-1;h&&h>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:p})}whenStable(c,h,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,p){return[]}}return a.\u0275fac=function(c){return new(c||a)(xn(er))},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})(),Fd=(()=>{class a{constructor(){this._applications=new Map,kg.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return kg.findTestabilityInTree(this,c,h)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();class Fg{addToWindow(l){}findTestabilityInTree(l,c,h){return null}}function Pg(a){kg=a}let si,kg=new Fg;const R0=new Ht("AllowMultipleToken");class jn{constructor(l,c){this.name=l,this.token=c}}function F0(a,l,c=[]){const h=`Platform: ${l}`,p=new Ht(h);return(m=[])=>{let v=P0();if(!v||v.injector.get(R0,!1))if(a)a(c.concat(m).concat({provide:p,useValue:!0}));else{const _=c.concat(m).concat({provide:p,useValue:!0},{provide:qi,useValue:"platform"});!function(a){if(si&&!si.destroyed&&!si.injector.get(R0,!1))throw new _e("400","");si=a.get(Yl);const l=a.get(E0,null);l&&l.forEach(c=>c())}(jr.create({providers:_,name:h}))}return function(a){const l=P0();if(!l)throw new _e("401","");return l}()}}function P0(){return si&&!si.destroyed?si:null}let Yl=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const _=function(a,l){let c;return c="noop"===a?new x0:("zone.js"===a?void 0:a)||new er({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),w=[{provide:er,useValue:_}];return _.run(()=>{const D=jr.create({providers:w,parent:this.injector,name:c.moduleType.name}),S=c.create(D),M=S.injector.get(sc,null);if(!M)throw new _e("402","");return _.runOutsideAngular(()=>{const N=_.onError.subscribe({next:U=>{M.handleError(U)}});S.onDestroy(()=>{Kl(this._modules,S),N.unsubscribe()})}),function(a,l,c){try{const h=c();return D_(h)?h.catch(p=>{throw l.runOutsideAngular(()=>a.handleError(p)),p}):h}catch(h){throw l.runOutsideAngular(()=>a.handleError(h)),h}}(M,_,()=>{const N=S.injector.get(Xt);return N.runInitializers(),N.donePromise.then(()=>(function(a){qe(a,"Expected localeId to be defined"),"string"==typeof a&&(oi=a.toLowerCase().replace(/_/g,"-"))}(S.injector.get(Ea,Sl)||Sl),this._moduleDoBootstrap(S),S))})})}bootstrapModule(c,h=[]){const p=kd({},h);return function(a,l,c){const h=new _d(c);return Promise.resolve(h)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,p))}_moduleDoBootstrap(c){const h=c.injector.get(ls);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(p=>h.bootstrap(p));else{if(!c.instance.ngDoBootstrap)throw new _e("403","");c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new _e("404","");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(xn(jr))},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();function kd(a,l){return Array.isArray(l)?l.reduce(kd,a):Ne(Ne({},a),l)}let ls=(()=>{class a{constructor(c,h,p,m,v){this._zone=c,this._injector=h,this._exceptionHandler=p,this._componentFactoryResolver=m,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new oe.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new oe.y(D=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{er.assertNotInAngularZone(),Rd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{er.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,te.T)(_,w.pipe((0,le.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new _e("405","");let p;p=c instanceof Mb?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(p.componentType);const m=function(a){return a.isBoundToModule}(p)?void 0:this._injector.get(mo),_=p.create(jr.NULL,[],h||p.selector,m),w=_.location.nativeElement,D=_.injector.get(ql,null),S=D&&_.injector.get(Fd);return D&&S&&S.registerApplication(w,D),_.onDestroy(()=>{this.detachView(_.hostView),Kl(this.components,_),S&&S.unregisterApplication(w)}),this._loadComponent(_),_}tick(){if(this._runningTick)throw new _e("101","");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;Kl(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Ig,[]).concat(this._bootstrapListeners).forEach(p=>p(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(c){return new(c||a)(xn(er),xn(jr),xn(sc),xn(md),xn(Xt))},a.\u0275prov=mt({token:a,factory:a.\u0275fac}),a})();function Kl(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let N0=!0,Bg=!1;function L0(){return Bg=!0,N0}function Ug(){if(Bg)throw new Error("Cannot enable prod mode after platform setup.");N0=!1}let jg=(()=>{class a{}return a.__NG_ELEMENT_ID__=Hg,a})();function Hg(a){return function(a,l,c){if(Ka(a)&&!c){const h=Sr(a.index,l);return new Ll(h,h)}return 47&a.type?new Ll(l[16],l):null}(on(),fe(),16==(16&a))}class cs{constructor(){}supports(l){return El(l)}create(l){return new sA(l)}}const oA=(a,l)=>l;class sA{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||oA}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,h=this._removalsHead,p=0,m=null;for(;c||h;){const v=!h||c&&c.currentIndex<Yg(h,p,m)?c:h,_=Yg(v,p,m),w=v.currentIndex;if(v===h)p--,h=h._nextRemoved;else if(c=c._next,null==v.previousIndex)p++;else{m||(m=[]);const D=_-p,S=w-p;if(D!=S){for(let N=0;N<D;N++){const U=N<m.length?m[N]:m[N]=0,ne=U+N;S<=ne&&ne<D&&(m[N]=U+1)}m[v.previousIndex]=S-D}}_!==w&&l(v,_,w)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!El(l))throw new Error(`Error trying to diff '${se(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let p,m,v,c=this._itHead,h=!1;if(Array.isArray(l)){this.length=l.length;for(let _=0;_<this.length;_++)m=l[_],v=this._trackByFn(_,m),null!==c&&Object.is(c.trackById,v)?(h&&(c=this._verifyReinsertion(c,m,v,_)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,_),h=!0),c=c._next}else p=0,function(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[ta()]();let h;for(;!(h=c.next()).done;)l(h.value)}}(l,_=>{v=this._trackByFn(p,_),null!==c&&Object.is(c.trackById,v)?(h&&(c=this._verifyReinsertion(c,_,v,p)),Object.is(c.item,_)||this._addIdentityChange(c,_)):(c=this._mismatch(c,_,v,p),h=!0),c=c._next,p++}),this.length=p;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,h,p){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,p)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(h,p))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,p)):l=this._addAfter(new ds(c,h),m,p),l}_verifyReinsertion(l,c,h,p){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==m?l=this._reinsertAfter(m,l._prev,p):l.currentIndex!=p&&(l.currentIndex=p,this._addToMoves(l,p)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const p=l._prevRemoved,m=l._nextRemoved;return null===p?this._removalsHead=m:p._nextRemoved=m,null===m?this._removalsTail=p:m._prevRemoved=p,this._insertAfter(l,c,h),this._addToMoves(l,h),l}_moveAfter(l,c,h){return this._unlink(l),this._insertAfter(l,c,h),this._addToMoves(l,h),l}_addAfter(l,c,h){return this._insertAfter(l,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,h){const p=null===c?this._itHead:c._next;return l._next=p,l._prev=c,null===p?this._itTail=l:p._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Jl),this._linkedRecords.put(l),l.currentIndex=h,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,h=l._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jl),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class ds{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class j0{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,l))return h;return null}remove(l){const c=l._prevDup,h=l._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class Jl{constructor(){this.map=new Map}put(l){const c=l.trackById;let h=this.map.get(c);h||(h=new j0,this.map.set(c,h)),h.add(l)}get(l,c){const p=this.map.get(l);return p?p.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Yg(a,l,c){const h=a.previousIndex;if(null===h)return h;let p=0;return c&&h<c.length&&(p=c[h]),h+l+p}class Da{constructor(){}supports(l){return l instanceof Map||qc(l)}create(){return new H0}}class H0{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||qc(l)))throw new Error(`Error trying to diff '${se(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(h,p)=>{if(c&&c.key===p)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(p,h);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const h=l._prev;return c._next=l,c._prev=h,l._prev=c,h&&(h._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const p=this._records.get(l);this._maybeAddToChanges(p,c);const m=p._prev,v=p._next;return m&&(m._next=v),v&&(v._prev=m),p._next=null,p._prev=null,p}const h=new tr(l);return this._records.set(l,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(h=>c(l[h],h))}}class tr{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kg(){return new _o([new cs])}let _o=(()=>{class a{constructor(c){this.factories=c}static create(c,h){if(null!=h){const p=h.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:h=>a.create(c,h||Kg()),deps:[[a,new sl,new Bs]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(a){return a.name||typeof a}(c)}'`)}}return a.\u0275prov=mt({token:a,providedIn:"root",factory:Kg}),a})();function Zg(){return new Sa([new Da])}let Sa=(()=>{class a{constructor(c){this.factories=c}static create(c,h){if(h){const p=h.factories.slice();c=c.concat(p)}return new a(c)}static extend(c){return{provide:a,useFactory:h=>a.create(c,h||Zg()),deps:[[a,new sl,new Bs]]}}find(c){const h=this.factories.find(p=>p.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return a.\u0275prov=mt({token:a,providedIn:"root",factory:Zg}),a})();const G0=[new Da],Xl=new _o([new cs]),Qg=new Sa(G0),Jg=F0(null,"core",[{provide:Mg,useValue:"unknown"},{provide:Yl,deps:[jr]},{provide:Fd,deps:[]},{provide:xg,deps:[]}]),Xg=[{provide:ls,useClass:ls,deps:[er,jr,sc,md,Xt]},{provide:_S,deps:[er],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(c){l.push(c)}}},{provide:Xt,useClass:Xt,deps:[[new Bs,Ag]]},{provide:Od,useClass:Od,deps:[]},vo,{provide:_o,useFactory:function(){return Xl},deps:[]},{provide:Sa,useFactory:function(){return Qg},deps:[]},{provide:Ea,useFactory:function(a){return a||"undefined"!=typeof $localize&&$localize.locale||Sl},deps:[[new Xu(Ea),new Bs,new sl]]},{provide:Gl,useValue:"USD"}];let em=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(xn(ls))},a.\u0275mod=Qi({type:a}),a.\u0275inj=Wt({providers:Xg}),a})()}},Be=>{Be(Be.s=5309)}]);